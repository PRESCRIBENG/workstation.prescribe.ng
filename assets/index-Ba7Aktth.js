function qh(p,m){for(var h=0;h<m.length;h++){const y=m[h];if(typeof y!="string"&&!Array.isArray(y)){for(const _ in y)if(_!=="default"&&!(_ in p)){const k=Object.getOwnPropertyDescriptor(y,_);k&&Object.defineProperty(p,_,k.get?k:{enumerable:!0,get:()=>y[_]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))y(_);new MutationObserver(_=>{for(const k of _)if(k.type==="childList")for(const S of k.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&y(S)}).observe(document,{childList:!0,subtree:!0});function h(_){const k={};return _.integrity&&(k.integrity=_.integrity),_.referrerPolicy&&(k.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?k.credentials="include":_.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function y(_){if(_.ep)return;_.ep=!0;const k=h(_);fetch(_.href,k)}})();function Uu(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Ou={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function Jh(){if(Pd)return Ke;Pd=1;var p=Symbol.for("react.element"),m=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),S=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Z=Symbol.iterator;function V(E){return E===null||typeof E!="object"?null:(E=Z&&E[Z]||E["@@iterator"],typeof E=="function"?E:null)}var re={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,O={};function F(E,X,be){this.props=E,this.context=X,this.refs=O,this.updater=be||re}F.prototype.isReactComponent={},F.prototype.setState=function(E,X){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,X,"setState")},F.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function D(){}D.prototype=F.prototype;function ue(E,X,be){this.props=E,this.context=X,this.refs=O,this.updater=be||re}var te=ue.prototype=new D;te.constructor=ue,M(te,F.prototype),te.isPureReactComponent=!0;var me=Array.isArray,Te=Object.prototype.hasOwnProperty,Re={current:null},Ie={key:!0,ref:!0,__self:!0,__source:!0};function R(E,X,be){var ke,Pe={},_e=null,de=null;if(X!=null)for(ke in X.ref!==void 0&&(de=X.ref),X.key!==void 0&&(_e=""+X.key),X)Te.call(X,ke)&&!Ie.hasOwnProperty(ke)&&(Pe[ke]=X[ke]);var He=arguments.length-2;if(He===1)Pe.children=be;else if(1<He){for(var he=Array(He),we=0;we<He;we++)he[we]=arguments[we+2];Pe.children=he}if(E&&E.defaultProps)for(ke in He=E.defaultProps,He)Pe[ke]===void 0&&(Pe[ke]=He[ke]);return{$$typeof:p,type:E,key:_e,ref:de,props:Pe,_owner:Re.current}}function z(E,X){return{$$typeof:p,type:E.type,key:X,ref:E.ref,props:E.props,_owner:E._owner}}function q(E){return typeof E=="object"&&E!==null&&E.$$typeof===p}function ne(E){var X={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(be){return X[be]})}var Be=/\/+/g;function ge(E,X){return typeof E=="object"&&E!==null&&E.key!=null?ne(""+E.key):X.toString(36)}function oe(E,X,be,ke,Pe){var _e=typeof E;(_e==="undefined"||_e==="boolean")&&(E=null);var de=!1;if(E===null)de=!0;else switch(_e){case"string":case"number":de=!0;break;case"object":switch(E.$$typeof){case p:case m:de=!0}}if(de)return de=E,Pe=Pe(de),E=ke===""?"."+ge(de,0):ke,me(Pe)?(be="",E!=null&&(be=E.replace(Be,"$&/")+"/"),oe(Pe,X,be,"",function(we){return we})):Pe!=null&&(q(Pe)&&(Pe=z(Pe,be+(!Pe.key||de&&de.key===Pe.key?"":(""+Pe.key).replace(Be,"$&/")+"/")+E)),X.push(Pe)),1;if(de=0,ke=ke===""?".":ke+":",me(E))for(var He=0;He<E.length;He++){_e=E[He];var he=ke+ge(_e,He);de+=oe(_e,X,be,he,Pe)}else if(he=V(E),typeof he=="function")for(E=he.call(E),He=0;!(_e=E.next()).done;)_e=_e.value,he=ke+ge(_e,He++),de+=oe(_e,X,be,he,Pe);else if(_e==="object")throw X=String(E),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return de}function je(E,X,be){if(E==null)return E;var ke=[],Pe=0;return oe(E,ke,"","",function(_e){return X.call(be,_e,Pe++)}),ke}function ie(E){if(E._status===-1){var X=E._result;X=X(),X.then(function(be){(E._status===0||E._status===-1)&&(E._status=1,E._result=be)},function(be){(E._status===0||E._status===-1)&&(E._status=2,E._result=be)}),E._status===-1&&(E._status=0,E._result=X)}if(E._status===1)return E._result.default;throw E._result}var Ce={current:null},W={transition:null},ye={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:W,ReactCurrentOwner:Re};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:je,forEach:function(E,X,be){je(E,function(){X.apply(this,arguments)},be)},count:function(E){var X=0;return je(E,function(){X++}),X},toArray:function(E){return je(E,function(X){return X})||[]},only:function(E){if(!q(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ke.Component=F,Ke.Fragment=h,Ke.Profiler=_,Ke.PureComponent=ue,Ke.StrictMode=y,Ke.Suspense=x,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ke.act=J,Ke.cloneElement=function(E,X,be){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ke=M({},E.props),Pe=E.key,_e=E.ref,de=E._owner;if(X!=null){if(X.ref!==void 0&&(_e=X.ref,de=Re.current),X.key!==void 0&&(Pe=""+X.key),E.type&&E.type.defaultProps)var He=E.type.defaultProps;for(he in X)Te.call(X,he)&&!Ie.hasOwnProperty(he)&&(ke[he]=X[he]===void 0&&He!==void 0?He[he]:X[he])}var he=arguments.length-2;if(he===1)ke.children=be;else if(1<he){He=Array(he);for(var we=0;we<he;we++)He[we]=arguments[we+2];ke.children=He}return{$$typeof:p,type:E.type,key:Pe,ref:_e,props:ke,_owner:de}},Ke.createContext=function(E){return E={$$typeof:S,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:k,_context:E},E.Consumer=E},Ke.createElement=R,Ke.createFactory=function(E){var X=R.bind(null,E);return X.type=E,X},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(E){return{$$typeof:P,render:E}},Ke.isValidElement=q,Ke.lazy=function(E){return{$$typeof:B,_payload:{_status:-1,_result:E},_init:ie}},Ke.memo=function(E,X){return{$$typeof:w,type:E,compare:X===void 0?null:X}},Ke.startTransition=function(E){var X=W.transition;W.transition={};try{E()}finally{W.transition=X}},Ke.unstable_act=J,Ke.useCallback=function(E,X){return Ce.current.useCallback(E,X)},Ke.useContext=function(E){return Ce.current.useContext(E)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(E){return Ce.current.useDeferredValue(E)},Ke.useEffect=function(E,X){return Ce.current.useEffect(E,X)},Ke.useId=function(){return Ce.current.useId()},Ke.useImperativeHandle=function(E,X,be){return Ce.current.useImperativeHandle(E,X,be)},Ke.useInsertionEffect=function(E,X){return Ce.current.useInsertionEffect(E,X)},Ke.useLayoutEffect=function(E,X){return Ce.current.useLayoutEffect(E,X)},Ke.useMemo=function(E,X){return Ce.current.useMemo(E,X)},Ke.useReducer=function(E,X,be){return Ce.current.useReducer(E,X,be)},Ke.useRef=function(E){return Ce.current.useRef(E)},Ke.useState=function(E){return Ce.current.useState(E)},Ke.useSyncExternalStore=function(E,X,be){return Ce.current.useSyncExternalStore(E,X,be)},Ke.useTransition=function(){return Ce.current.useTransition()},Ke.version="18.3.1",Ke}var bd;function rs(){return bd||(bd=1,Ou.exports=Jh()),Ou.exports}var T=rs();const er=Uu(T),Qh=qh({__proto__:null,default:er},[T]);var Xl={},Nu={exports:{}},Qt={},Mu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function Xh(){return Td||(Td=1,function(p){function m(W,ye){var J=W.length;W.push(ye);e:for(;0<J;){var E=J-1>>>1,X=W[E];if(0<_(X,ye))W[E]=ye,W[J]=X,J=E;else break e}}function h(W){return W.length===0?null:W[0]}function y(W){if(W.length===0)return null;var ye=W[0],J=W.pop();if(J!==ye){W[0]=J;e:for(var E=0,X=W.length,be=X>>>1;E<be;){var ke=2*(E+1)-1,Pe=W[ke],_e=ke+1,de=W[_e];if(0>_(Pe,J))_e<X&&0>_(de,Pe)?(W[E]=de,W[_e]=J,E=_e):(W[E]=Pe,W[ke]=J,E=ke);else if(_e<X&&0>_(de,J))W[E]=de,W[_e]=J,E=_e;else break e}}return ye}function _(W,ye){var J=W.sortIndex-ye.sortIndex;return J!==0?J:W.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var k=performance;p.unstable_now=function(){return k.now()}}else{var S=Date,P=S.now();p.unstable_now=function(){return S.now()-P}}var x=[],w=[],B=1,Z=null,V=3,re=!1,M=!1,O=!1,F=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(W){for(var ye=h(w);ye!==null;){if(ye.callback===null)y(w);else if(ye.startTime<=W)y(w),ye.sortIndex=ye.expirationTime,m(x,ye);else break;ye=h(w)}}function me(W){if(O=!1,te(W),!M)if(h(x)!==null)M=!0,ie(Te);else{var ye=h(w);ye!==null&&Ce(me,ye.startTime-W)}}function Te(W,ye){M=!1,O&&(O=!1,D(R),R=-1),re=!0;var J=V;try{for(te(ye),Z=h(x);Z!==null&&(!(Z.expirationTime>ye)||W&&!ne());){var E=Z.callback;if(typeof E=="function"){Z.callback=null,V=Z.priorityLevel;var X=E(Z.expirationTime<=ye);ye=p.unstable_now(),typeof X=="function"?Z.callback=X:Z===h(x)&&y(x),te(ye)}else y(x);Z=h(x)}if(Z!==null)var be=!0;else{var ke=h(w);ke!==null&&Ce(me,ke.startTime-ye),be=!1}return be}finally{Z=null,V=J,re=!1}}var Re=!1,Ie=null,R=-1,z=5,q=-1;function ne(){return!(p.unstable_now()-q<z)}function Be(){if(Ie!==null){var W=p.unstable_now();q=W;var ye=!0;try{ye=Ie(!0,W)}finally{ye?ge():(Re=!1,Ie=null)}}else Re=!1}var ge;if(typeof ue=="function")ge=function(){ue(Be)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,je=oe.port2;oe.port1.onmessage=Be,ge=function(){je.postMessage(null)}}else ge=function(){F(Be,0)};function ie(W){Ie=W,Re||(Re=!0,ge())}function Ce(W,ye){R=F(function(){W(p.unstable_now())},ye)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(W){W.callback=null},p.unstable_continueExecution=function(){M||re||(M=!0,ie(Te))},p.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<W?Math.floor(1e3/W):5},p.unstable_getCurrentPriorityLevel=function(){return V},p.unstable_getFirstCallbackNode=function(){return h(x)},p.unstable_next=function(W){switch(V){case 1:case 2:case 3:var ye=3;break;default:ye=V}var J=V;V=ye;try{return W()}finally{V=J}},p.unstable_pauseExecution=function(){},p.unstable_requestPaint=function(){},p.unstable_runWithPriority=function(W,ye){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var J=V;V=W;try{return ye()}finally{V=J}},p.unstable_scheduleCallback=function(W,ye,J){var E=p.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?E+J:E):J=E,W){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=J+X,W={id:B++,callback:ye,priorityLevel:W,startTime:J,expirationTime:X,sortIndex:-1},J>E?(W.sortIndex=J,m(w,W),h(x)===null&&W===h(w)&&(O?(D(R),R=-1):O=!0,Ce(me,J-E))):(W.sortIndex=X,m(x,W),M||re||(M=!0,ie(Te))),W},p.unstable_shouldYield=ne,p.unstable_wrapCallback=function(W){var ye=V;return function(){var J=V;V=ye;try{return W.apply(this,arguments)}finally{V=J}}}}(zu)),zu}var Ed;function ef(){return Ed||(Ed=1,Mu.exports=Xh()),Mu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function tf(){if(Ld)return Qt;Ld=1;var p=rs(),m=ef();function h(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=new Set,_={};function k(e,n){S(e,n),S(e+"Capture",n)}function S(e,n){for(_[e]=n,e=0;e<n.length;e++)y.add(n[e])}var P=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B={},Z={};function V(e){return x.call(Z,e)?!0:x.call(B,e)?!1:w.test(e)?Z[e]=!0:(B[e]=!0,!1)}function re(e,n,r,a){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M(e,n,r,a){if(n===null||typeof n>"u"||re(e,n,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function O(e,n,r,a,u,c,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=c,this.removeEmptyString=g}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];F[n]=new O(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function ue(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(D,ue);F[n]=new O(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(D,ue);F[n]=new O(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(D,ue);F[n]=new O(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function te(e,n,r,a){var u=F.hasOwnProperty(n)?F[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(M(n,r,u,a)&&(r=null),a||u===null?V(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(n=u.attributeName,a=u.attributeNamespace,r===null?e.removeAttribute(n):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,a?e.setAttributeNS(a,n,r):e.setAttribute(n,r))))}var me=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),Re=Symbol.for("react.portal"),Ie=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),ne=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),W=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,E;function X(e){if(E===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var be=!1;function ke(e,n){if(!e||be)return"";be=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(K){var a=K}Reflect.construct(e,[],n)}else{try{n.call()}catch(K){a=K}e.call(n.prototype)}else{try{throw Error()}catch(K){a=K}e()}}catch(K){if(K&&a&&typeof K.stack=="string"){for(var u=K.stack.split(`
`),c=a.stack.split(`
`),g=u.length-1,C=c.length-1;1<=g&&0<=C&&u[g]!==c[C];)C--;for(;1<=g&&0<=C;g--,C--)if(u[g]!==c[C]){if(g!==1||C!==1)do if(g--,C--,0>C||u[g]!==c[C]){var N=`
`+u[g].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=g&&0<=C);break}}}finally{be=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?X(e):""}function Pe(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=ke(e.type,!1),e;case 11:return e=ke(e.type.render,!1),e;case 1:return e=ke(e.type,!0),e;default:return""}}function _e(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ie:return"Fragment";case Re:return"Portal";case z:return"Profiler";case R:return"StrictMode";case ge:return"Suspense";case oe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ne:return(e.displayName||"Context")+".Consumer";case q:return(e._context.displayName||"Context")+".Provider";case Be:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case je:return n=e.displayName||null,n!==null?n:_e(e.type)||"Memo";case ie:n=e._payload,e=e._init;try{return _e(e(n))}catch{}}return null}function de(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(n);case 8:return n===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function He(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function he(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function we(e){var n=he(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,c=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,c.call(this,g)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ue(e){e._valueTracker||(e._valueTracker=we(e))}function tt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),a="";return e&&(a=he(e)?e.checked?"true":"false":e.value),e=a,e!==r?(n.setValue(e),!0):!1}function ve(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ht(e,n){var r=n.checked;return J({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pe(e,n){var r=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;r=He(n.value!=null?n.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ee(e,n){n=n.checked,n!=null&&te(e,"checked",n,!1)}function $(e,n){ee(e,n);var r=He(n.value),a=n.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Y(e,n.type,r):n.hasOwnProperty("defaultValue")&&Y(e,n.type,He(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function A(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Y(e,n,r){(n!=="number"||ve(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Q=Array.isArray;function Oe(e,n,r,a){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&a&&(e[r].defaultSelected=!0)}else{for(r=""+He(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Et(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(h(91));return J({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lt(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(h(92));if(Q(r)){if(1<r.length)throw Error(h(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:He(r)}}function Na(e,n){var r=He(n.value),a=He(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Ma(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Ir(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Br(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Ir(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ir,za=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,a,u){MSApp.execUnsafeLocalFunction(function(){return e(n,r,a,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ir=ir||document.createElement("div"),ir.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ir.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function yi(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(e){as.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),_i[n]=_i[e]})});function Eo(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||_i.hasOwnProperty(e)&&_i[e]?(""+n).trim():n+"px"}function Rr(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var a=r.indexOf("--")===0,u=Eo(r,n[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,u):e[r]=u}}var Ia=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lo(e,n){if(n){if(Ia[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(h(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(h(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(h(61))}if(n.style!=null&&typeof n.style!="object")throw Error(h(62))}}function Yn(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function No(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,qn=null,Jn=null;function Ba(e){if(e=ui(e)){if(typeof Ar!="function")throw Error(h(280));var n=e.stateNode;n&&(n=co(n),Ar(e.stateNode,e.type,n))}}function Ra(e){qn?Jn?Jn.push(e):Jn=[e]:qn=e}function Aa(){if(qn){var e=qn,n=Jn;if(Jn=qn=null,Ba(e),n)for(e=0;e<n.length;e++)Ba(n[e])}}function Da(e,n){return e(n)}function Fa(){}var Mo=!1;function Dr(e,n,r){if(Mo)return e(n,r);Mo=!0;try{return Da(e,n,r)}finally{Mo=!1,(qn!==null||Jn!==null)&&(Fa(),Aa())}}function rr(e,n){var r=e.stateNode;if(r===null)return null;var a=co(r);if(a===null)return null;r=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(h(231,n,typeof r));return r}var zo=!1;if(P)try{var or={};Object.defineProperty(or,"passive",{get:function(){zo=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{zo=!1}function ls(e,n,r,a,u,c,g,C,N){var K=Array.prototype.slice.call(arguments,3);try{n.apply(r,K)}catch(se){this.onError(se)}}var Ot=!1,Me=null,ar=!1,Fr=null,Ua={onError:function(e){Ot=!0,Me=e}};function ja(e,n,r,a,u,c,g,C,N){Ot=!1,Me=null,ls.apply(Ua,arguments)}function Io(e,n,r,a,u,c,g,C,N){if(ja.apply(this,arguments),Ot){if(Ot){var K=Me;Ot=!1,Me=null}else throw Error(h(198));ar||(ar=!0,Fr=K)}}function An(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function Qn(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Bo(e){if(An(e)!==e)throw Error(h(188))}function ss(e){var n=e.alternate;if(!n){if(n=An(e),n===null)throw Error(h(188));return n!==e?null:e}for(var r=e,a=n;;){var u=r.return;if(u===null)break;var c=u.alternate;if(c===null){if(a=u.return,a!==null){r=a;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===r)return Bo(u),e;if(c===a)return Bo(u),n;c=c.sibling}throw Error(h(188))}if(r.return!==a.return)r=u,a=c;else{for(var g=!1,C=u.child;C;){if(C===r){g=!0,r=u,a=c;break}if(C===a){g=!0,a=u,r=c;break}C=C.sibling}if(!g){for(C=c.child;C;){if(C===r){g=!0,r=c,a=u;break}if(C===a){g=!0,a=c,r=u;break}C=C.sibling}if(!g)throw Error(h(189))}}if(r.alternate!==a)throw Error(h(190))}if(r.tag!==3)throw Error(h(188));return r.stateNode.current===r?e:n}function Za(e){return e=ss(e),e!==null?Wa(e):null}function Wa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Wa(e);if(n!==null)return n;e=e.sibling}return null}var Ha=m.unstable_scheduleCallback,Ro=m.unstable_cancelCallback,us=m.unstable_shouldYield,Ur=m.unstable_requestPaint,ut=m.unstable_now,cs=m.unstable_getCurrentPriorityLevel,Ao=m.unstable_ImmediatePriority,Va=m.unstable_UserBlockingPriority,jr=m.unstable_NormalPriority,Do=m.unstable_LowPriority,wi=m.unstable_IdlePriority,lr=null,Xt=null;function sr(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(lr,e,void 0,(e.current.flags&128)===128)}catch{}}var $e=Math.clz32?Math.clz32:xi,at=Math.log,Zr=Math.LN2;function xi(e){return e>>>=0,e===0?32:31-(at(e)/Zr|0)|0}var Pn=64,Ci=4194304;function Ve(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rt(e,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,u=e.suspendedLanes,c=e.pingedLanes,g=r&268435455;if(g!==0){var C=g&~u;C!==0?a=Ve(C):(c&=g,c!==0&&(a=Ve(c)))}else g=r&~u,g!==0?a=Ve(g):c!==0&&(a=Ve(c));if(a===0)return 0;if(n!==0&&n!==a&&(n&u)===0&&(u=a&-a,c=n&-n,u>=c||u===16&&(c&4194240)!==0))return n;if((a&4)!==0&&(a|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)r=31-$e(n),u=1<<r,a|=e[r],n&=~u;return a}function Fo(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(e,n){for(var r=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes;0<c;){var g=31-$e(c),C=1<<g,N=u[g];N===-1?((C&r)===0||(C&a)!==0)&&(u[g]=Fo(C,n)):N<=n&&(e.expiredLanes|=C),c&=~C}}function Nt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $a(){var e=Pn;return Pn<<=1,(Pn&4194240)===0&&(Pn=64),e}function Si(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function en(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-$e(n),e[n]=r}function ft(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-$e(r),c=1<<u;n[u]=0,a[u]=-1,e[u]=-1,r&=~c}}function bn(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var a=31-$e(r),u=1<<a;u&n|e[a]&n&&(e[a]|=n),r&=~u}}var qe=0;function ki(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Hr,Xn,Vr,$r,ur,cr=!1,Pi=[],tn=null,Tn=null,dn=null,dr=new Map,Ze=new Map,_t=[],nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uo(e,n){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":dr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ze.delete(n.pointerId)}}function ei(e,n,r,a,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:n,domEventName:r,eventSystemFlags:a,nativeEvent:c,targetContainers:[u]},n!==null&&(n=ui(n),n!==null&&Xn(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function jo(e,n,r,a,u){switch(n){case"focusin":return tn=ei(tn,e,n,r,a,u),!0;case"dragenter":return Tn=ei(Tn,e,n,r,a,u),!0;case"mouseover":return dn=ei(dn,e,n,r,a,u),!0;case"pointerover":var c=u.pointerId;return dr.set(c,ei(dr.get(c)||null,e,n,r,a,u)),!0;case"gotpointercapture":return c=u.pointerId,Ze.set(c,ei(Ze.get(c)||null,e,n,r,a,u)),!0}return!1}function Gr(e){var n=si(e.target);if(n!==null){var r=An(n);if(r!==null){if(n=r.tag,n===13){if(n=Qn(r),n!==null){e.blockedOn=n,ur(e.priority,function(){Vr(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=qr(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Oo=a,r.target.dispatchEvent(a),Oo=null}else return n=ui(r),n!==null&&Xn(n),e.blockedOn=r,!1;n.shift()}return!0}function Kr(e,n,r){hn(e)&&r.delete(n)}function hr(){cr=!1,tn!==null&&hn(tn)&&(tn=null),Tn!==null&&hn(Tn)&&(Tn=null),dn!==null&&hn(dn)&&(dn=null),dr.forEach(Kr),Ze.forEach(Kr)}function ct(e,n){e.blockedOn===n&&(e.blockedOn=null,cr||(cr=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,hr)))}function nn(e){function n(u){return ct(u,e)}if(0<Pi.length){ct(Pi[0],e);for(var r=1;r<Pi.length;r++){var a=Pi[r];a.blockedOn===e&&(a.blockedOn=null)}}for(tn!==null&&ct(tn,e),Tn!==null&&ct(Tn,e),dn!==null&&ct(dn,e),dr.forEach(n),Ze.forEach(n),r=0;r<_t.length;r++)a=_t[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<_t.length&&(r=_t[0],r.blockedOn===null);)Gr(r),r.blockedOn===null&&_t.shift()}var ti=me.ReactCurrentBatchConfig,fr=!0;function ds(e,n,r,a){var u=qe,c=ti.transition;ti.transition=null;try{qe=1,pr(e,n,r,a)}finally{qe=u,ti.transition=c}}function Ga(e,n,r,a){var u=qe,c=ti.transition;ti.transition=null;try{qe=4,pr(e,n,r,a)}finally{qe=u,ti.transition=c}}function pr(e,n,r,a){if(fr){var u=qr(e,n,r,a);if(u===null)t(e,n,a,Yr,r),Uo(e,a);else if(jo(u,e,n,r,a))a.stopPropagation();else if(Uo(e,a),n&4&&-1<nt.indexOf(e)){for(;u!==null;){var c=ui(u);if(c!==null&&Hr(c),c=qr(e,n,r,a),c===null&&t(e,n,a,Yr,r),c===u)break;u=c}u!==null&&a.stopPropagation()}else t(e,n,a,null,r)}}var Yr=null;function qr(e,n,r,a){if(Yr=null,e=No(a),e=si(e),e!==null)if(n=An(e),n===null)e=null;else if(r=n.tag,r===13){if(e=Qn(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Yr=e,null}function Ye(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cs()){case Ao:return 1;case Va:return 4;case jr:case Do:return 16;case wi:return 536870912;default:return 16}default:return 16}}var Dn=null,Dt=null,Fn=null;function Zo(){if(Fn)return Fn;var e,n=Dt,r=n.length,a,u="value"in Dn?Dn.value:Dn.textContent,c=u.length;for(e=0;e<r&&n[e]===u[e];e++);var g=r-e;for(a=1;a<=g&&n[r-a]===u[c-a];a++);return Fn=u.slice(e,1<a?1-a:void 0)}function Jr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function bi(){return!0}function Ka(){return!1}function Mt(e){function n(r,a,u,c,g){this._reactName=r,this._targetInst=u,this.type=a,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(r=e[C],this[C]=r?r(c):c[C]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?bi:Ka,this.isPropagationStopped=Ka,this}return J(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=Mt(Ti),ni=J({},Ti,{view:0,detail:0}),hs=Mt(ni),Vt,Ho,Ei,rn=J({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Vt=e.screenX-Ei.screenX,Ho=e.screenY-Ei.screenY):Ho=Vt=0,Ei=e),Vt)},movementY:function(e){return"movementY"in e?e.movementY:Ho}}),Vo=Mt(rn),Ya=J({},rn,{dataTransfer:0}),$o=Mt(Ya),fs=J({},ni,{relatedTarget:0}),Qr=Mt(fs),qa=J({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),ps=Mt(qa),ms=J({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Go=Mt(ms),gs=J({},Ti,{data:0}),Ko=Mt(gs),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vs(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ii[e])?!!n[e]:!1}function ri(){return vs}var $t=J({},ni,{key:function(e){if(e.key){var n=Ja[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qa=Mt($t),Xa=J({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Mt(Xa),Yo=J({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),qo=Mt(Yo),ys=J({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),_s=Mt(ys),tl=J({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ws=Mt(tl),on=[9,13,27,32],Un=P&&"CompositionEvent"in window,mr=null;P&&"documentMode"in document&&(mr=document.documentMode);var En=P&&"TextEvent"in window&&!mr,nl=P&&(!Un||mr&&8<mr&&11>=mr),oi=" ",il=!1;function Li(e,n){switch(e){case"keyup":return on.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function xs(e,n){switch(e){case"compositionend":return Jo(n);case"keypress":return n.which!==32?null:(il=!0,oi);case"textInput":return e=n.data,e===oi&&il?null:e;default:return null}}function jn(e,n){if(Ln)return e==="compositionend"||!Un&&Li(e,n)?(e=Zo(),Fn=Dt=Dn=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nl&&n.locale!=="ko"?null:n.data;default:return null}}var eo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!eo[e.type]:n==="textarea"}function to(e,n,r,a){Ra(a),n=o(n,"onChange"),0<n.length&&(r=new Wo("onChange","change",null,r,a),e.push({event:r,listeners:n}))}var gr=null,Ft=null;function Cs(e){aa(e,0)}function On(e){var n=ci(e);if(tt(n))return e}function Ss(e,n){if(e==="change")return n}var fn=!1;if(P){var Oi;if(P){var no="oninput"in document;if(!no){var io=document.createElement("div");io.setAttribute("oninput","return;"),no=typeof io.oninput=="function"}Oi=no}else Oi=!1;fn=Oi&&(!document.documentMode||9<document.documentMode)}function vr(){gr&&(gr.detachEvent("onpropertychange",ro),Ft=gr=null)}function ro(e){if(e.propertyName==="value"&&On(Ft)){var n=[];to(n,Ft,e,No(e)),Dr(Cs,n)}}function oo(e,n,r){e==="focusin"?(vr(),gr=n,Ft=r,gr.attachEvent("onpropertychange",ro)):e==="focusout"&&vr()}function Ni(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return On(Ft)}function ao(e,n){if(e==="click")return On(n)}function Qo(e,n){if(e==="input"||e==="change")return On(n)}function ol(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var an=typeof Object.is=="function"?Object.is:ol;function Zn(e,n){if(an(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),a=Object.keys(n);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var u=r[a];if(!x.call(n,u)||!an(e[u],n[u]))return!1}return!0}function al(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xo(e,n){var r=al(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=n&&a>=n)return{node:r,offset:n-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=al(r)}}function ll(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ll(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ea(){for(var e=window,n=ve();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ve(e.document)}return n}function ta(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function pn(e){var n=ea(),r=e.focusedElem,a=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&ll(r.ownerDocument.documentElement,r)){if(a!==null&&ta(r)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,c=Math.min(a.start,u);a=a.end===void 0?c:Math.min(a.end,u),!e.extend&&c>a&&(u=a,a=c,c=u),u=Xo(r,c);var g=Xo(r,a);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),c>a?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lo=P&&"documentMode"in document&&11>=document.documentMode,Mi=null,zi=null,yr=null,so=!1;function sl(e,n,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;so||Mi==null||Mi!==ve(a)||(a=Mi,"selectionStart"in a&&ta(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),yr&&Zn(yr,a)||(yr=a,a=o(zi,"onSelect"),0<a.length&&(n=new Wo("onSelect","select",null,n,r),e.push({event:n,listeners:a}),n.target=Mi)))}function Wn(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ii={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionend:Wn("Transition","TransitionEnd")},Hn={},na={};P&&(na=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function _r(e){if(Hn[e])return Hn[e];if(!Ii[e])return e;var n=Ii[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in na)return Hn[e]=n[r];return e}var ul=_r("animationend"),mn=_r("animationiteration"),ia=_r("animationstart"),ra=_r("transitionend"),Bi=new Map,cl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(e,n){Bi.set(e,n),k(n,[e])}for(var ai=0;ai<cl.length;ai++){var uo=cl[ai],dl=uo.toLowerCase(),ks=uo[0].toUpperCase()+uo.slice(1);ln(dl,"on"+ks)}ln(ul,"onAnimationEnd"),ln(mn,"onAnimationIteration"),ln(ia,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(ra,"onTransitionEnd"),S("onMouseEnter",["mouseout","mouseover"]),S("onMouseLeave",["mouseout","mouseover"]),S("onPointerEnter",["pointerout","pointerover"]),S("onPointerLeave",["pointerout","pointerover"]),k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),k("onBeforeInput",["compositionend","keypress","textInput","paste"]),k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function oa(e,n,r){var a=e.type||"unknown-event";e.currentTarget=r,Io(a,n,void 0,e),e.currentTarget=null}function aa(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],u=a.event;a=a.listeners;e:{var c=void 0;if(n)for(var g=a.length-1;0<=g;g--){var C=a[g],N=C.instance,K=C.currentTarget;if(C=C.listener,N!==c&&u.isPropagationStopped())break e;oa(u,C,K),c=N}else for(g=0;g<a.length;g++){if(C=a[g],N=C.instance,K=C.currentTarget,C=C.listener,N!==c&&u.isPropagationStopped())break e;oa(u,C,K),c=N}}}if(ar)throw e=Fr,ar=!1,Fr=null,e}function it(e,n){var r=n[Ui];r===void 0&&(r=n[Ui]=new Set);var a=e+"__bubble";r.has(a)||(fl(n,e,2,!1),r.add(a))}function la(e,n,r){var a=0;n&&(a|=4),fl(r,e,a,n)}var wr="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[wr]){e[wr]=!0,y.forEach(function(r){r!=="selectionchange"&&(hl.has(r)||la(r,!1,e),la(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wr]||(n[wr]=!0,la("selectionchange",!1,n))}}function fl(e,n,r,a){switch(Ye(n)){case 1:var u=ds;break;case 4:u=Ga;break;default:u=pr}r=u.bind(null,n,r,e),u=void 0,!zo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function t(e,n,r,a,u){var c=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var C=a.stateNode.containerInfo;if(C===u||C.nodeType===8&&C.parentNode===u)break;if(g===4)for(g=a.return;g!==null;){var N=g.tag;if((N===3||N===4)&&(N=g.stateNode.containerInfo,N===u||N.nodeType===8&&N.parentNode===u))return;g=g.return}for(;C!==null;){if(g=si(C),g===null)return;if(N=g.tag,N===5||N===6){a=c=g;continue e}C=C.parentNode}}a=a.return}Dr(function(){var K=c,se=No(r),ce=[];e:{var le=Bi.get(e);if(le!==void 0){var Se=Wo,Le=e;switch(e){case"keypress":if(Jr(r)===0)break e;case"keydown":case"keyup":Se=Qa;break;case"focusin":Le="focus",Se=Qr;break;case"focusout":Le="blur",Se=Qr;break;case"beforeblur":case"afterblur":Se=Qr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=qo;break;case ul:case mn:case ia:Se=ps;break;case ra:Se=_s;break;case"scroll":Se=hs;break;case"wheel":Se=ws;break;case"copy":case"cut":case"paste":Se=Go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=el}var Ne=(n&4)!==0,mt=!Ne&&e==="scroll",j=Ne?le!==null?le+"Capture":null:le;Ne=[];for(var I=K,H;I!==null;){H=I;var fe=H.stateNode;if(H.tag===5&&fe!==null&&(H=fe,j!==null&&(fe=rr(I,j),fe!=null&&Ne.push(i(I,fe,H)))),mt)break;I=I.return}0<Ne.length&&(le=new Se(le,Le,null,r,se),ce.push({event:le,listeners:Ne}))}}if((n&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",Se=e==="mouseout"||e==="pointerout",le&&r!==Oo&&(Le=r.relatedTarget||r.fromElement)&&(si(Le)||Le[et]))break e;if((Se||le)&&(le=se.window===se?se:(le=se.ownerDocument)?le.defaultView||le.parentWindow:window,Se?(Le=r.relatedTarget||r.toElement,Se=K,Le=Le?si(Le):null,Le!==null&&(mt=An(Le),Le!==mt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Se=null,Le=K),Se!==Le)){if(Ne=Vo,fe="onMouseLeave",j="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=el,fe="onPointerLeave",j="onPointerEnter",I="pointer"),mt=Se==null?le:ci(Se),H=Le==null?le:ci(Le),le=new Ne(fe,I+"leave",Se,r,se),le.target=mt,le.relatedTarget=H,fe=null,si(se)===K&&(Ne=new Ne(j,I+"enter",Le,r,se),Ne.target=H,Ne.relatedTarget=mt,fe=Ne),mt=fe,Se&&Le)t:{for(Ne=Se,j=Le,I=0,H=Ne;H;H=s(H))I++;for(H=0,fe=j;fe;fe=s(fe))H++;for(;0<I-H;)Ne=s(Ne),I--;for(;0<H-I;)j=s(j),H--;for(;I--;){if(Ne===j||j!==null&&Ne===j.alternate)break t;Ne=s(Ne),j=s(j)}Ne=null}else Ne=null;Se!==null&&d(ce,le,Se,Ne,!1),Le!==null&&mt!==null&&d(ce,mt,Le,Ne,!0)}}e:{if(le=K?ci(K):window,Se=le.nodeName&&le.nodeName.toLowerCase(),Se==="select"||Se==="input"&&le.type==="file")var ze=Ss;else if(rl(le))if(fn)ze=Qo;else{ze=Ni;var De=oo}else(Se=le.nodeName)&&Se.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(ze=ao);if(ze&&(ze=ze(e,K))){to(ce,ze,r,se);break e}De&&De(e,le,K),e==="focusout"&&(De=le._wrapperState)&&De.controlled&&le.type==="number"&&Y(le,"number",le.value)}switch(De=K?ci(K):window,e){case"focusin":(rl(De)||De.contentEditable==="true")&&(Mi=De,zi=K,yr=null);break;case"focusout":yr=zi=Mi=null;break;case"mousedown":so=!0;break;case"contextmenu":case"mouseup":case"dragend":so=!1,sl(ce,r,se);break;case"selectionchange":if(lo)break;case"keydown":case"keyup":sl(ce,r,se)}var Fe;if(Un)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Ln?Li(e,r)&&(We="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(We="onCompositionStart");We&&(nl&&r.locale!=="ko"&&(Ln||We!=="onCompositionStart"?We==="onCompositionEnd"&&Ln&&(Fe=Zo()):(Dn=se,Dt="value"in Dn?Dn.value:Dn.textContent,Ln=!0)),De=o(K,We),0<De.length&&(We=new Ko(We,e,null,r,se),ce.push({event:We,listeners:De}),Fe?We.data=Fe:(Fe=Jo(r),Fe!==null&&(We.data=Fe)))),(Fe=En?xs(e,r):jn(e,r))&&(K=o(K,"onBeforeInput"),0<K.length&&(se=new Ko("onBeforeInput","beforeinput",null,r,se),ce.push({event:se,listeners:K}),se.data=Fe))}aa(ce,n)})}function i(e,n,r){return{instance:e,listener:n,currentTarget:r}}function o(e,n){for(var r=n+"Capture",a=[];e!==null;){var u=e,c=u.stateNode;u.tag===5&&c!==null&&(u=c,c=rr(e,r),c!=null&&a.unshift(i(e,c,u)),c=rr(e,n),c!=null&&a.push(i(e,c,u))),e=e.return}return a}function s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d(e,n,r,a,u){for(var c=n._reactName,g=[];r!==null&&r!==a;){var C=r,N=C.alternate,K=C.stateNode;if(N!==null&&N===a)break;C.tag===5&&K!==null&&(C=K,u?(N=rr(r,c),N!=null&&g.unshift(i(r,N,C))):u||(N=rr(r,c),N!=null&&g.push(i(r,N,C)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var v=/\r\n?/g,b=/\u0000|\uFFFD/g;function U(e){return(typeof e=="string"?e:""+e).replace(v,`
`).replace(b,"")}function G(e,n,r){if(n=U(n),U(e)!==n&&r)throw Error(h(425))}function ae(){}var xe=null,Ae=null;function Ge(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wt=typeof setTimeout=="function"?setTimeout:void 0,gt=typeof clearTimeout=="function"?clearTimeout:void 0,Ut=typeof Promise=="function"?Promise:void 0,zt=typeof queueMicrotask=="function"?queueMicrotask:typeof Ut<"u"?function(e){return Ut.resolve(null).then(e).catch(Di)}:wt;function Di(e){setTimeout(function(){throw e})}function sa(e,n){var r=n,a=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(a===0){e.removeChild(u),nn(n);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=u}while(r);nn(n)}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function pl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),gn="__reactFiber$"+li,Fi="__reactProps$"+li,et="__reactContainer$"+li,Ui="__reactEvents$"+li,Ps="__reactListeners$"+li,bs="__reactHandles$"+li;function si(e){var n=e[gn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[et]||r[gn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=pl(e);e!==null;){if(r=e[gn])return r;e=pl(e)}return n}e=r,r=e.parentNode}return null}function ui(e){return e=e[gn]||e[et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ci(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(h(33))}function co(e){return e[Fi]||null}var Ts=[],ho=-1;function ji(e){return{current:e}}function lt(e){0>ho||(e.current=Ts[ho],Ts[ho]=null,ho--)}function ot(e,n){ho++,Ts[ho]=e.current,e.current=n}var Zi={},It=ji(Zi),Gt=ji(!1),xr=Zi;function fo(e,n){var r=e.type.contextTypes;if(!r)return Zi;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},c;for(c in r)u[c]=n[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function Kt(e){return e=e.childContextTypes,e!=null}function ml(){lt(Gt),lt(It)}function Gu(e,n,r){if(It.current!==Zi)throw Error(h(168));ot(It,n),ot(Gt,r)}function Ku(e,n,r){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(h(108,de(e)||"Unknown",u));return J({},r,a)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zi,xr=It.current,ot(It,e),ot(Gt,Gt.current),!0}function Yu(e,n,r){var a=e.stateNode;if(!a)throw Error(h(169));r?(e=Ku(e,n,xr),a.__reactInternalMemoizedMergedChildContext=e,lt(Gt),lt(It),ot(It,e)):lt(Gt),ot(Gt,r)}var di=null,vl=!1,Es=!1;function qu(e){di===null?di=[e]:di.push(e)}function mh(e){vl=!0,qu(e)}function Wi(){if(!Es&&di!==null){Es=!0;var e=0,n=qe;try{var r=di;for(qe=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}di=null,vl=!1}catch(u){throw di!==null&&(di=di.slice(e+1)),Ha(Ao,Wi),u}finally{qe=n,Es=!1}}return null}var po=[],mo=0,yl=null,_l=0,vn=[],yn=0,Cr=null,hi=1,fi="";function Sr(e,n){po[mo++]=_l,po[mo++]=yl,yl=e,_l=n}function Ju(e,n,r){vn[yn++]=hi,vn[yn++]=fi,vn[yn++]=Cr,Cr=e;var a=hi;e=fi;var u=32-$e(a)-1;a&=~(1<<u),r+=1;var c=32-$e(n)+u;if(30<c){var g=u-u%5;c=(a&(1<<g)-1).toString(32),a>>=g,u-=g,hi=1<<32-$e(n)+u|r<<u|a,fi=c+e}else hi=1<<c|r<<u|a,fi=e}function Ls(e){e.return!==null&&(Sr(e,1),Ju(e,1,0))}function Os(e){for(;e===yl;)yl=po[--mo],po[mo]=null,_l=po[--mo],po[mo]=null;for(;e===Cr;)Cr=vn[--yn],vn[yn]=null,fi=vn[--yn],vn[yn]=null,hi=vn[--yn],vn[yn]=null}var sn=null,un=null,st=!1,Nn=null;function Qu(e,n){var r=Cn(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function Xu(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,sn=e,un=Vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,sn=e,un=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=Cr!==null?{id:hi,overflow:fi}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Cn(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,sn=e,un=null,!0):!1;default:return!1}}function Ns(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ms(e){if(st){var n=un;if(n){var r=n;if(!Xu(e,n)){if(Ns(e))throw Error(h(418));n=Vn(r.nextSibling);var a=sn;n&&Xu(e,n)?Qu(a,r):(e.flags=e.flags&-4097|2,st=!1,sn=e)}}else{if(Ns(e))throw Error(h(418));e.flags=e.flags&-4097|2,st=!1,sn=e}}}function ec(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function wl(e){if(e!==sn)return!1;if(!st)return ec(e),st=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ge(e.type,e.memoizedProps)),n&&(n=un)){if(Ns(e))throw tc(),Error(h(418));for(;n;)Qu(e,n),n=Vn(n.nextSibling)}if(ec(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){un=Vn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}un=null}}else un=sn?Vn(e.stateNode.nextSibling):null;return!0}function tc(){for(var e=un;e;)e=Vn(e.nextSibling)}function go(){un=sn=null,st=!1}function zs(e){Nn===null?Nn=[e]:Nn.push(e)}var gh=me.ReactCurrentBatchConfig;function ua(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(h(309));var a=r.stateNode}if(!a)throw Error(h(147,e));var u=a,c=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===c?n.ref:(n=function(g){var C=u.refs;g===null?delete C[c]:C[c]=g},n._stringRef=c,n)}if(typeof e!="string")throw Error(h(284));if(!r._owner)throw Error(h(290,e))}return e}function xl(e,n){throw e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function nc(e){var n=e._init;return n(e._payload)}function ic(e){function n(j,I){if(e){var H=j.deletions;H===null?(j.deletions=[I],j.flags|=16):H.push(I)}}function r(j,I){if(!e)return null;for(;I!==null;)n(j,I),I=I.sibling;return null}function a(j,I){for(j=new Map;I!==null;)I.key!==null?j.set(I.key,I):j.set(I.index,I),I=I.sibling;return j}function u(j,I){return j=Ji(j,I),j.index=0,j.sibling=null,j}function c(j,I,H){return j.index=H,e?(H=j.alternate,H!==null?(H=H.index,H<I?(j.flags|=2,I):H):(j.flags|=2,I)):(j.flags|=1048576,I)}function g(j){return e&&j.alternate===null&&(j.flags|=2),j}function C(j,I,H,fe){return I===null||I.tag!==6?(I=ku(H,j.mode,fe),I.return=j,I):(I=u(I,H),I.return=j,I)}function N(j,I,H,fe){var ze=H.type;return ze===Ie?se(j,I,H.props.children,fe,H.key):I!==null&&(I.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ie&&nc(ze)===I.type)?(fe=u(I,H.props),fe.ref=ua(j,I,H),fe.return=j,fe):(fe=Vl(H.type,H.key,H.props,null,j.mode,fe),fe.ref=ua(j,I,H),fe.return=j,fe)}function K(j,I,H,fe){return I===null||I.tag!==4||I.stateNode.containerInfo!==H.containerInfo||I.stateNode.implementation!==H.implementation?(I=Pu(H,j.mode,fe),I.return=j,I):(I=u(I,H.children||[]),I.return=j,I)}function se(j,I,H,fe,ze){return I===null||I.tag!==7?(I=Nr(H,j.mode,fe,ze),I.return=j,I):(I=u(I,H),I.return=j,I)}function ce(j,I,H){if(typeof I=="string"&&I!==""||typeof I=="number")return I=ku(""+I,j.mode,H),I.return=j,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Te:return H=Vl(I.type,I.key,I.props,null,j.mode,H),H.ref=ua(j,null,I),H.return=j,H;case Re:return I=Pu(I,j.mode,H),I.return=j,I;case ie:var fe=I._init;return ce(j,fe(I._payload),H)}if(Q(I)||ye(I))return I=Nr(I,j.mode,H,null),I.return=j,I;xl(j,I)}return null}function le(j,I,H,fe){var ze=I!==null?I.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ze!==null?null:C(j,I,""+H,fe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Te:return H.key===ze?N(j,I,H,fe):null;case Re:return H.key===ze?K(j,I,H,fe):null;case ie:return ze=H._init,le(j,I,ze(H._payload),fe)}if(Q(H)||ye(H))return ze!==null?null:se(j,I,H,fe,null);xl(j,H)}return null}function Se(j,I,H,fe,ze){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return j=j.get(H)||null,C(I,j,""+fe,ze);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Te:return j=j.get(fe.key===null?H:fe.key)||null,N(I,j,fe,ze);case Re:return j=j.get(fe.key===null?H:fe.key)||null,K(I,j,fe,ze);case ie:var De=fe._init;return Se(j,I,H,De(fe._payload),ze)}if(Q(fe)||ye(fe))return j=j.get(H)||null,se(I,j,fe,ze,null);xl(I,fe)}return null}function Le(j,I,H,fe){for(var ze=null,De=null,Fe=I,We=I=0,Pt=null;Fe!==null&&We<H.length;We++){Fe.index>We?(Pt=Fe,Fe=null):Pt=Fe.sibling;var Xe=le(j,Fe,H[We],fe);if(Xe===null){Fe===null&&(Fe=Pt);break}e&&Fe&&Xe.alternate===null&&n(j,Fe),I=c(Xe,I,We),De===null?ze=Xe:De.sibling=Xe,De=Xe,Fe=Pt}if(We===H.length)return r(j,Fe),st&&Sr(j,We),ze;if(Fe===null){for(;We<H.length;We++)Fe=ce(j,H[We],fe),Fe!==null&&(I=c(Fe,I,We),De===null?ze=Fe:De.sibling=Fe,De=Fe);return st&&Sr(j,We),ze}for(Fe=a(j,Fe);We<H.length;We++)Pt=Se(Fe,j,We,H[We],fe),Pt!==null&&(e&&Pt.alternate!==null&&Fe.delete(Pt.key===null?We:Pt.key),I=c(Pt,I,We),De===null?ze=Pt:De.sibling=Pt,De=Pt);return e&&Fe.forEach(function(Qi){return n(j,Qi)}),st&&Sr(j,We),ze}function Ne(j,I,H,fe){var ze=ye(H);if(typeof ze!="function")throw Error(h(150));if(H=ze.call(H),H==null)throw Error(h(151));for(var De=ze=null,Fe=I,We=I=0,Pt=null,Xe=H.next();Fe!==null&&!Xe.done;We++,Xe=H.next()){Fe.index>We?(Pt=Fe,Fe=null):Pt=Fe.sibling;var Qi=le(j,Fe,Xe.value,fe);if(Qi===null){Fe===null&&(Fe=Pt);break}e&&Fe&&Qi.alternate===null&&n(j,Fe),I=c(Qi,I,We),De===null?ze=Qi:De.sibling=Qi,De=Qi,Fe=Pt}if(Xe.done)return r(j,Fe),st&&Sr(j,We),ze;if(Fe===null){for(;!Xe.done;We++,Xe=H.next())Xe=ce(j,Xe.value,fe),Xe!==null&&(I=c(Xe,I,We),De===null?ze=Xe:De.sibling=Xe,De=Xe);return st&&Sr(j,We),ze}for(Fe=a(j,Fe);!Xe.done;We++,Xe=H.next())Xe=Se(Fe,j,We,Xe.value,fe),Xe!==null&&(e&&Xe.alternate!==null&&Fe.delete(Xe.key===null?We:Xe.key),I=c(Xe,I,We),De===null?ze=Xe:De.sibling=Xe,De=Xe);return e&&Fe.forEach(function(Yh){return n(j,Yh)}),st&&Sr(j,We),ze}function mt(j,I,H,fe){if(typeof H=="object"&&H!==null&&H.type===Ie&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Te:e:{for(var ze=H.key,De=I;De!==null;){if(De.key===ze){if(ze=H.type,ze===Ie){if(De.tag===7){r(j,De.sibling),I=u(De,H.props.children),I.return=j,j=I;break e}}else if(De.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ie&&nc(ze)===De.type){r(j,De.sibling),I=u(De,H.props),I.ref=ua(j,De,H),I.return=j,j=I;break e}r(j,De);break}else n(j,De);De=De.sibling}H.type===Ie?(I=Nr(H.props.children,j.mode,fe,H.key),I.return=j,j=I):(fe=Vl(H.type,H.key,H.props,null,j.mode,fe),fe.ref=ua(j,I,H),fe.return=j,j=fe)}return g(j);case Re:e:{for(De=H.key;I!==null;){if(I.key===De)if(I.tag===4&&I.stateNode.containerInfo===H.containerInfo&&I.stateNode.implementation===H.implementation){r(j,I.sibling),I=u(I,H.children||[]),I.return=j,j=I;break e}else{r(j,I);break}else n(j,I);I=I.sibling}I=Pu(H,j.mode,fe),I.return=j,j=I}return g(j);case ie:return De=H._init,mt(j,I,De(H._payload),fe)}if(Q(H))return Le(j,I,H,fe);if(ye(H))return Ne(j,I,H,fe);xl(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,I!==null&&I.tag===6?(r(j,I.sibling),I=u(I,H),I.return=j,j=I):(r(j,I),I=ku(H,j.mode,fe),I.return=j,j=I),g(j)):r(j,I)}return mt}var vo=ic(!0),rc=ic(!1),Cl=ji(null),Sl=null,yo=null,Is=null;function Bs(){Is=yo=Sl=null}function Rs(e){var n=Cl.current;lt(Cl),e._currentValue=n}function As(e,n,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===r)break;e=e.return}}function _o(e,n){Sl=e,Is=yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Yt=!0),e.firstContext=null)}function _n(e){var n=e._currentValue;if(Is!==e)if(e={context:e,memoizedValue:n,next:null},yo===null){if(Sl===null)throw Error(h(308));yo=e,Sl.dependencies={lanes:0,firstContext:e}}else yo=yo.next=e;return n}var kr=null;function Ds(e){kr===null?kr=[e]:kr.push(e)}function oc(e,n,r,a){var u=n.interleaved;return u===null?(r.next=r,Ds(n)):(r.next=u.next,u.next=r),n.interleaved=r,pi(e,a)}function pi(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hi=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ac(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Vi(e,n,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Qe&2)!==0){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,pi(e,r)}return u=a.interleaved,u===null?(n.next=n,Ds(a)):(n.next=u.next,u.next=n),a.interleaved=n,pi(e,r)}function kl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,r|=a,n.lanes=r,bn(e,r)}}function lc(e,n){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var u=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?u=c=g:c=c.next=g,r=r.next}while(r!==null);c===null?u=c=n:c=c.next=n}else u=c=n;r={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Pl(e,n,r,a){var u=e.updateQueue;Hi=!1;var c=u.firstBaseUpdate,g=u.lastBaseUpdate,C=u.shared.pending;if(C!==null){u.shared.pending=null;var N=C,K=N.next;N.next=null,g===null?c=K:g.next=K,g=N;var se=e.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==g&&(C===null?se.firstBaseUpdate=K:C.next=K,se.lastBaseUpdate=N))}if(c!==null){var ce=u.baseState;g=0,se=K=N=null,C=c;do{var le=C.lane,Se=C.eventTime;if((a&le)===le){se!==null&&(se=se.next={eventTime:Se,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Le=e,Ne=C;switch(le=n,Se=r,Ne.tag){case 1:if(Le=Ne.payload,typeof Le=="function"){ce=Le.call(Se,ce,le);break e}ce=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ne.payload,le=typeof Le=="function"?Le.call(Se,ce,le):Le,le==null)break e;ce=J({},ce,le);break e;case 2:Hi=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,le=u.effects,le===null?u.effects=[C]:le.push(C))}else Se={eventTime:Se,lane:le,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?(K=se=Se,N=ce):se=se.next=Se,g|=le;if(C=C.next,C===null){if(C=u.shared.pending,C===null)break;le=C,C=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);if(se===null&&(N=ce),u.baseState=N,u.firstBaseUpdate=K,u.lastBaseUpdate=se,n=u.shared.interleaved,n!==null){u=n;do g|=u.lane,u=u.next;while(u!==n)}else c===null&&(u.shared.lanes=0);Tr|=g,e.lanes=g,e.memoizedState=ce}}function sc(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],u=a.callback;if(u!==null){if(a.callback=null,a=r,typeof u!="function")throw Error(h(191,u));u.call(a)}}}var ca={},$n=ji(ca),da=ji(ca),ha=ji(ca);function Pr(e){if(e===ca)throw Error(h(174));return e}function Us(e,n){switch(ot(ha,n),ot(da,e),ot($n,ca),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Br(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Br(n,e)}lt($n),ot($n,n)}function wo(){lt($n),lt(da),lt(ha)}function uc(e){Pr(ha.current);var n=Pr($n.current),r=Br(n,e.type);n!==r&&(ot(da,e),ot($n,r))}function js(e){da.current===e&&(lt($n),lt(da))}var dt=ji(0);function bl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zs=[];function Ws(){for(var e=0;e<Zs.length;e++)Zs[e]._workInProgressVersionPrimary=null;Zs.length=0}var Tl=me.ReactCurrentDispatcher,Hs=me.ReactCurrentBatchConfig,br=0,ht=null,xt=null,St=null,El=!1,fa=!1,pa=0,vh=0;function Bt(){throw Error(h(321))}function Vs(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!an(e[r],n[r]))return!1;return!0}function $s(e,n,r,a,u,c){if(br=c,ht=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Tl.current=e===null||e.memoizedState===null?xh:Ch,e=r(a,u),fa){c=0;do{if(fa=!1,pa=0,25<=c)throw Error(h(301));c+=1,St=xt=null,n.updateQueue=null,Tl.current=Sh,e=r(a,u)}while(fa)}if(Tl.current=Nl,n=xt!==null&&xt.next!==null,br=0,St=xt=ht=null,El=!1,n)throw Error(h(300));return e}function Gs(){var e=pa!==0;return pa=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?ht.memoizedState=St=e:St=St.next=e,St}function wn(){if(xt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var n=St===null?ht.memoizedState:St.next;if(n!==null)St=n,xt=e;else{if(e===null)throw Error(h(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},St===null?ht.memoizedState=St=e:St=St.next=e}return St}function ma(e,n){return typeof n=="function"?n(e):n}function Ks(e){var n=wn(),r=n.queue;if(r===null)throw Error(h(311));r.lastRenderedReducer=e;var a=xt,u=a.baseQueue,c=r.pending;if(c!==null){if(u!==null){var g=u.next;u.next=c.next,c.next=g}a.baseQueue=u=c,r.pending=null}if(u!==null){c=u.next,a=a.baseState;var C=g=null,N=null,K=c;do{var se=K.lane;if((br&se)===se)N!==null&&(N=N.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),a=K.hasEagerState?K.eagerState:e(a,K.action);else{var ce={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};N===null?(C=N=ce,g=a):N=N.next=ce,ht.lanes|=se,Tr|=se}K=K.next}while(K!==null&&K!==c);N===null?g=a:N.next=C,an(a,n.memoizedState)||(Yt=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=N,r.lastRenderedState=a}if(e=r.interleaved,e!==null){u=e;do c=u.lane,ht.lanes|=c,Tr|=c,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Ys(e){var n=wn(),r=n.queue;if(r===null)throw Error(h(311));r.lastRenderedReducer=e;var a=r.dispatch,u=r.pending,c=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do c=e(c,g.action),g=g.next;while(g!==u);an(c,n.memoizedState)||(Yt=!0),n.memoizedState=c,n.baseQueue===null&&(n.baseState=c),r.lastRenderedState=c}return[c,a]}function cc(){}function dc(e,n){var r=ht,a=wn(),u=n(),c=!an(a.memoizedState,u);if(c&&(a.memoizedState=u,Yt=!0),a=a.queue,qs(pc.bind(null,r,a,e),[e]),a.getSnapshot!==n||c||St!==null&&St.memoizedState.tag&1){if(r.flags|=2048,ga(9,fc.bind(null,r,a,u,n),void 0,null),kt===null)throw Error(h(349));(br&30)!==0||hc(r,n,u)}return u}function hc(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=ht.updateQueue,n===null?(n={lastEffect:null,stores:null},ht.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function fc(e,n,r,a){n.value=r,n.getSnapshot=a,mc(n)&&gc(e)}function pc(e,n,r){return r(function(){mc(n)&&gc(e)})}function mc(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!an(e,r)}catch{return!0}}function gc(e){var n=pi(e,1);n!==null&&Bn(n,e,1,-1)}function vc(e){var n=Gn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},n.queue=e,e=e.dispatch=wh.bind(null,ht,e),[n.memoizedState,e]}function ga(e,n,r,a){return e={tag:e,create:n,destroy:r,deps:a,next:null},n=ht.updateQueue,n===null?(n={lastEffect:null,stores:null},ht.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,n.lastEffect=e)),e}function yc(){return wn().memoizedState}function Ll(e,n,r,a){var u=Gn();ht.flags|=e,u.memoizedState=ga(1|n,r,void 0,a===void 0?null:a)}function Ol(e,n,r,a){var u=wn();a=a===void 0?null:a;var c=void 0;if(xt!==null){var g=xt.memoizedState;if(c=g.destroy,a!==null&&Vs(a,g.deps)){u.memoizedState=ga(n,r,c,a);return}}ht.flags|=e,u.memoizedState=ga(1|n,r,c,a)}function _c(e,n){return Ll(8390656,8,e,n)}function qs(e,n){return Ol(2048,8,e,n)}function wc(e,n){return Ol(4,2,e,n)}function xc(e,n){return Ol(4,4,e,n)}function Cc(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sc(e,n,r){return r=r!=null?r.concat([e]):null,Ol(4,4,Cc.bind(null,n,e),r)}function Js(){}function kc(e,n){var r=wn();n=n===void 0?null:n;var a=r.memoizedState;return a!==null&&n!==null&&Vs(n,a[1])?a[0]:(r.memoizedState=[e,n],e)}function Pc(e,n){var r=wn();n=n===void 0?null:n;var a=r.memoizedState;return a!==null&&n!==null&&Vs(n,a[1])?a[0]:(e=e(),r.memoizedState=[e,n],e)}function bc(e,n,r){return(br&21)===0?(e.baseState&&(e.baseState=!1,Yt=!0),e.memoizedState=r):(an(r,n)||(r=$a(),ht.lanes|=r,Tr|=r,e.baseState=!0),n)}function yh(e,n){var r=qe;qe=r!==0&&4>r?r:4,e(!0);var a=Hs.transition;Hs.transition={};try{e(!1),n()}finally{qe=r,Hs.transition=a}}function Tc(){return wn().memoizedState}function _h(e,n,r){var a=Yi(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Ec(e))Lc(n,r);else if(r=oc(e,n,r,a),r!==null){var u=Zt();Bn(r,e,a,u),Oc(r,n,a)}}function wh(e,n,r){var a=Yi(e),u={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ec(e))Lc(n,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=n.lastRenderedReducer,c!==null))try{var g=n.lastRenderedState,C=c(g,r);if(u.hasEagerState=!0,u.eagerState=C,an(C,g)){var N=n.interleaved;N===null?(u.next=u,Ds(n)):(u.next=N.next,N.next=u),n.interleaved=u;return}}catch{}finally{}r=oc(e,n,u,a),r!==null&&(u=Zt(),Bn(r,e,a,u),Oc(r,n,a))}}function Ec(e){var n=e.alternate;return e===ht||n!==null&&n===ht}function Lc(e,n){fa=El=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Oc(e,n,r){if((r&4194240)!==0){var a=n.lanes;a&=e.pendingLanes,r|=a,n.lanes=r,bn(e,r)}}var Nl={readContext:_n,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},xh={readContext:_n,useCallback:function(e,n){return Gn().memoizedState=[e,n===void 0?null:n],e},useContext:_n,useEffect:_c,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,Ll(4194308,4,Cc.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ll(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ll(4,2,e,n)},useMemo:function(e,n){var r=Gn();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var a=Gn();return n=r!==void 0?r(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=_h.bind(null,ht,e),[a.memoizedState,e]},useRef:function(e){var n=Gn();return e={current:e},n.memoizedState=e},useState:vc,useDebugValue:Js,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=vc(!1),n=e[0];return e=yh.bind(null,e[1]),Gn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var a=ht,u=Gn();if(st){if(r===void 0)throw Error(h(407));r=r()}else{if(r=n(),kt===null)throw Error(h(349));(br&30)!==0||hc(a,n,r)}u.memoizedState=r;var c={value:r,getSnapshot:n};return u.queue=c,_c(pc.bind(null,a,c,e),[e]),a.flags|=2048,ga(9,fc.bind(null,a,c,r,n),void 0,null),r},useId:function(){var e=Gn(),n=kt.identifierPrefix;if(st){var r=fi,a=hi;r=(a&~(1<<32-$e(a)-1)).toString(32)+r,n=":"+n+"R"+r,r=pa++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=vh++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ch={readContext:_n,useCallback:kc,useContext:_n,useEffect:qs,useImperativeHandle:Sc,useInsertionEffect:wc,useLayoutEffect:xc,useMemo:Pc,useReducer:Ks,useRef:yc,useState:function(){return Ks(ma)},useDebugValue:Js,useDeferredValue:function(e){var n=wn();return bc(n,xt.memoizedState,e)},useTransition:function(){var e=Ks(ma)[0],n=wn().memoizedState;return[e,n]},useMutableSource:cc,useSyncExternalStore:dc,useId:Tc,unstable_isNewReconciler:!1},Sh={readContext:_n,useCallback:kc,useContext:_n,useEffect:qs,useImperativeHandle:Sc,useInsertionEffect:wc,useLayoutEffect:xc,useMemo:Pc,useReducer:Ys,useRef:yc,useState:function(){return Ys(ma)},useDebugValue:Js,useDeferredValue:function(e){var n=wn();return xt===null?n.memoizedState=e:bc(n,xt.memoizedState,e)},useTransition:function(){var e=Ys(ma)[0],n=wn().memoizedState;return[e,n]},useMutableSource:cc,useSyncExternalStore:dc,useId:Tc,unstable_isNewReconciler:!1};function Mn(e,n){if(e&&e.defaultProps){n=J({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Qs(e,n,r,a){n=e.memoizedState,r=r(a,n),r=r==null?n:J({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ml={isMounted:function(e){return(e=e._reactInternals)?An(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var a=Zt(),u=Yi(e),c=mi(a,u);c.payload=n,r!=null&&(c.callback=r),n=Vi(e,c,u),n!==null&&(Bn(n,e,u,a),kl(n,e,u))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var a=Zt(),u=Yi(e),c=mi(a,u);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Vi(e,c,u),n!==null&&(Bn(n,e,u,a),kl(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Zt(),a=Yi(e),u=mi(r,a);u.tag=2,n!=null&&(u.callback=n),n=Vi(e,u,a),n!==null&&(Bn(n,e,a,r),kl(n,e,a))}};function Nc(e,n,r,a,u,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,g):n.prototype&&n.prototype.isPureReactComponent?!Zn(r,a)||!Zn(u,c):!0}function Mc(e,n,r){var a=!1,u=Zi,c=n.contextType;return typeof c=="object"&&c!==null?c=_n(c):(u=Kt(n)?xr:It.current,a=n.contextTypes,c=(a=a!=null)?fo(e,u):Zi),n=new n(r,c),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ml,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=c),n}function zc(e,n,r,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,a),n.state!==e&&Ml.enqueueReplaceState(n,n.state,null)}function Xs(e,n,r,a){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},Fs(e);var c=n.contextType;typeof c=="object"&&c!==null?u.context=_n(c):(c=Kt(n)?xr:It.current,u.context=fo(e,c)),u.state=e.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(Qs(e,n,c,r),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Ml.enqueueReplaceState(u,u.state,null),Pl(e,r,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function xo(e,n){try{var r="",a=n;do r+=Pe(a),a=a.return;while(a);var u=r}catch(c){u=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:n,stack:u,digest:null}}function eu(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function tu(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var kh=typeof WeakMap=="function"?WeakMap:Map;function Ic(e,n,r){r=mi(-1,r),r.tag=3,r.payload={element:null};var a=n.value;return r.callback=function(){Fl||(Fl=!0,gu=a),tu(e,n)},r}function Bc(e,n,r){r=mi(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;r.payload=function(){return a(u)},r.callback=function(){tu(e,n)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){tu(e,n),typeof a!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),r}function Rc(e,n,r){var a=e.pingCache;if(a===null){a=e.pingCache=new kh;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(r)||(u.add(r),e=Dh.bind(null,e,n,r),n.then(e,e))}function Ac(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Dc(e,n,r,a,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=mi(-1,1),n.tag=2,Vi(r,n,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Ph=me.ReactCurrentOwner,Yt=!1;function jt(e,n,r,a){n.child=e===null?rc(n,null,r,a):vo(n,e.child,r,a)}function Fc(e,n,r,a,u){r=r.render;var c=n.ref;return _o(n,u),a=$s(e,n,r,a,c,u),r=Gs(),e!==null&&!Yt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,gi(e,n,u)):(st&&r&&Ls(n),n.flags|=1,jt(e,n,a,u),n.child)}function Uc(e,n,r,a,u){if(e===null){var c=r.type;return typeof c=="function"&&!Su(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=c,jc(e,n,c,a,u)):(e=Vl(r.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(c=e.child,(e.lanes&u)===0){var g=c.memoizedProps;if(r=r.compare,r=r!==null?r:Zn,r(g,a)&&e.ref===n.ref)return gi(e,n,u)}return n.flags|=1,e=Ji(c,a),e.ref=n.ref,e.return=n,n.child=e}function jc(e,n,r,a,u){if(e!==null){var c=e.memoizedProps;if(Zn(c,a)&&e.ref===n.ref)if(Yt=!1,n.pendingProps=a=c,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Yt=!0);else return n.lanes=e.lanes,gi(e,n,u)}return nu(e,n,r,a,u)}function Zc(e,n,r){var a=n.pendingProps,u=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(So,cn),cn|=r;else{if((r&1073741824)===0)return e=c!==null?c.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ot(So,cn),cn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:r,ot(So,cn),cn|=a}else c!==null?(a=c.baseLanes|r,n.memoizedState=null):a=r,ot(So,cn),cn|=a;return jt(e,n,u,r),n.child}function Wc(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function nu(e,n,r,a,u){var c=Kt(r)?xr:It.current;return c=fo(n,c),_o(n,u),r=$s(e,n,r,a,c,u),a=Gs(),e!==null&&!Yt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,gi(e,n,u)):(st&&a&&Ls(n),n.flags|=1,jt(e,n,r,u),n.child)}function Hc(e,n,r,a,u){if(Kt(r)){var c=!0;gl(n)}else c=!1;if(_o(n,u),n.stateNode===null)Il(e,n),Mc(n,r,a),Xs(n,r,a,u),a=!0;else if(e===null){var g=n.stateNode,C=n.memoizedProps;g.props=C;var N=g.context,K=r.contextType;typeof K=="object"&&K!==null?K=_n(K):(K=Kt(r)?xr:It.current,K=fo(n,K));var se=r.getDerivedStateFromProps,ce=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function";ce||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==a||N!==K)&&zc(n,g,a,K),Hi=!1;var le=n.memoizedState;g.state=le,Pl(n,a,g,u),N=n.memoizedState,C!==a||le!==N||Gt.current||Hi?(typeof se=="function"&&(Qs(n,r,se,a),N=n.memoizedState),(C=Hi||Nc(n,r,C,a,le,N,K))?(ce||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=N),g.props=a,g.state=N,g.context=K,a=C):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,ac(e,n),C=n.memoizedProps,K=n.type===n.elementType?C:Mn(n.type,C),g.props=K,ce=n.pendingProps,le=g.context,N=r.contextType,typeof N=="object"&&N!==null?N=_n(N):(N=Kt(r)?xr:It.current,N=fo(n,N));var Se=r.getDerivedStateFromProps;(se=typeof Se=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==ce||le!==N)&&zc(n,g,a,N),Hi=!1,le=n.memoizedState,g.state=le,Pl(n,a,g,u);var Le=n.memoizedState;C!==ce||le!==Le||Gt.current||Hi?(typeof Se=="function"&&(Qs(n,r,Se,a),Le=n.memoizedState),(K=Hi||Nc(n,r,K,a,le,Le,N)||!1)?(se||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Le,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Le,N)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=Le),g.props=a,g.state=Le,g.context=N,a=K):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),a=!1)}return iu(e,n,r,a,c,u)}function iu(e,n,r,a,u,c){Wc(e,n);var g=(n.flags&128)!==0;if(!a&&!g)return u&&Yu(n,r,!1),gi(e,n,c);a=n.stateNode,Ph.current=n;var C=g&&typeof r.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&g?(n.child=vo(n,e.child,null,c),n.child=vo(n,null,C,c)):jt(e,n,C,c),n.memoizedState=a.state,u&&Yu(n,r,!0),n.child}function Vc(e){var n=e.stateNode;n.pendingContext?Gu(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Gu(e,n.context,!1),Us(e,n.containerInfo)}function $c(e,n,r,a,u){return go(),zs(u),n.flags|=256,jt(e,n,r,a),n.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gc(e,n,r){var a=n.pendingProps,u=dt.current,c=!1,g=(n.flags&128)!==0,C;if((C=g)||(C=e!==null&&e.memoizedState===null?!1:(u&2)!==0),C?(c=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),ot(dt,u&1),e===null)return Ms(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=a.children,e=a.fallback,c?(a=n.mode,c=n.child,g={mode:"hidden",children:g},(a&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=g):c=$l(g,a,0,null),e=Nr(e,a,r,null),c.return=n,e.return=n,c.sibling=e,n.child=c,n.child.memoizedState=ou(r),n.memoizedState=ru,e):au(n,g));if(u=e.memoizedState,u!==null&&(C=u.dehydrated,C!==null))return bh(e,n,g,a,C,u,r);if(c){c=a.fallback,g=n.mode,u=e.child,C=u.sibling;var N={mode:"hidden",children:a.children};return(g&1)===0&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=N,n.deletions=null):(a=Ji(u,N),a.subtreeFlags=u.subtreeFlags&14680064),C!==null?c=Ji(C,c):(c=Nr(c,g,r,null),c.flags|=2),c.return=n,a.return=n,a.sibling=c,n.child=a,a=c,c=n.child,g=e.child.memoizedState,g=g===null?ou(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},c.memoizedState=g,c.childLanes=e.childLanes&~r,n.memoizedState=ru,a}return c=e.child,e=c.sibling,a=Ji(c,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=r),a.return=n,a.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=a,n.memoizedState=null,a}function au(e,n){return n=$l({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function zl(e,n,r,a){return a!==null&&zs(a),vo(n,e.child,null,r),e=au(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function bh(e,n,r,a,u,c,g){if(r)return n.flags&256?(n.flags&=-257,a=eu(Error(h(422))),zl(e,n,g,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(c=a.fallback,u=n.mode,a=$l({mode:"visible",children:a.children},u,0,null),c=Nr(c,u,g,null),c.flags|=2,a.return=n,c.return=n,a.sibling=c,n.child=a,(n.mode&1)!==0&&vo(n,e.child,null,g),n.child.memoizedState=ou(g),n.memoizedState=ru,c);if((n.mode&1)===0)return zl(e,n,g,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var C=a.dgst;return a=C,c=Error(h(419)),a=eu(c,a,void 0),zl(e,n,g,a)}if(C=(g&e.childLanes)!==0,Yt||C){if(a=kt,a!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|g))!==0?0:u,u!==0&&u!==c.retryLane&&(c.retryLane=u,pi(e,u),Bn(a,e,u,-1))}return Cu(),a=eu(Error(h(421))),zl(e,n,g,a)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=Fh.bind(null,e),u._reactRetry=n,null):(e=c.treeContext,un=Vn(u.nextSibling),sn=n,st=!0,Nn=null,e!==null&&(vn[yn++]=hi,vn[yn++]=fi,vn[yn++]=Cr,hi=e.id,fi=e.overflow,Cr=n),n=au(n,a.children),n.flags|=4096,n)}function Kc(e,n,r){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),As(e.return,n,r)}function lu(e,n,r,a,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:u}:(c.isBackwards=n,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=r,c.tailMode=u)}function Yc(e,n,r){var a=n.pendingProps,u=a.revealOrder,c=a.tail;if(jt(e,n,a.children,r),a=dt.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,r,n);else if(e.tag===19)Kc(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ot(dt,a),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&bl(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),lu(n,!1,u,r,c);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&bl(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}lu(n,!0,r,null,c);break;case"together":lu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Il(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function gi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Tr|=n.lanes,(r&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,r=Ji(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ji(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Th(e,n,r){switch(n.tag){case 3:Vc(n),go();break;case 5:uc(n);break;case 1:Kt(n.type)&&gl(n);break;case 4:Us(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;ot(Cl,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(ot(dt,dt.current&1),n.flags|=128,null):(r&n.child.childLanes)!==0?Gc(e,n,r):(ot(dt,dt.current&1),e=gi(e,n,r),e!==null?e.sibling:null);ot(dt,dt.current&1);break;case 19:if(a=(r&n.childLanes)!==0,(e.flags&128)!==0){if(a)return Yc(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ot(dt,dt.current),a)break;return null;case 22:case 23:return n.lanes=0,Zc(e,n,r)}return gi(e,n,r)}var qc,su,Jc,Qc;qc=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},su=function(){},Jc=function(e,n,r,a){var u=e.memoizedProps;if(u!==a){e=n.stateNode,Pr($n.current);var c=null;switch(r){case"input":u=Ht(e,u),a=Ht(e,a),c=[];break;case"select":u=J({},u,{value:void 0}),a=J({},a,{value:void 0}),c=[];break;case"textarea":u=Et(e,u),a=Et(e,a),c=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ae)}Lo(r,a);var g;r=null;for(K in u)if(!a.hasOwnProperty(K)&&u.hasOwnProperty(K)&&u[K]!=null)if(K==="style"){var C=u[K];for(g in C)C.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(_.hasOwnProperty(K)?c||(c=[]):(c=c||[]).push(K,null));for(K in a){var N=a[K];if(C=u!=null?u[K]:void 0,a.hasOwnProperty(K)&&N!==C&&(N!=null||C!=null))if(K==="style")if(C){for(g in C)!C.hasOwnProperty(g)||N&&N.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in N)N.hasOwnProperty(g)&&C[g]!==N[g]&&(r||(r={}),r[g]=N[g])}else r||(c||(c=[]),c.push(K,r)),r=N;else K==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,C=C?C.__html:void 0,N!=null&&C!==N&&(c=c||[]).push(K,N)):K==="children"?typeof N!="string"&&typeof N!="number"||(c=c||[]).push(K,""+N):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(_.hasOwnProperty(K)?(N!=null&&K==="onScroll"&&it("scroll",e),c||C===N||(c=[])):(c=c||[]).push(K,N))}r&&(c=c||[]).push("style",r);var K=c;(n.updateQueue=K)&&(n.flags|=4)}},Qc=function(e,n,r,a){r!==a&&(n.flags|=4)};function va(e,n){if(!st)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=r,n}function Eh(e,n,r){var a=n.pendingProps;switch(Os(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(n),null;case 1:return Kt(n.type)&&ml(),Rt(n),null;case 3:return a=n.stateNode,wo(),lt(Gt),lt(It),Ws(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nn!==null&&(_u(Nn),Nn=null))),su(e,n),Rt(n),null;case 5:js(n);var u=Pr(ha.current);if(r=n.type,e!==null&&n.stateNode!=null)Jc(e,n,r,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(h(166));return Rt(n),null}if(e=Pr($n.current),wl(n)){a=n.stateNode,r=n.type;var c=n.memoizedProps;switch(a[gn]=n,a[Fi]=c,e=(n.mode&1)!==0,r){case"dialog":it("cancel",a),it("close",a);break;case"iframe":case"object":case"embed":it("load",a);break;case"video":case"audio":for(u=0;u<Ri.length;u++)it(Ri[u],a);break;case"source":it("error",a);break;case"img":case"image":case"link":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"input":pe(a,c),it("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},it("invalid",a);break;case"textarea":Lt(a,c),it("invalid",a)}Lo(r,c),u=null;for(var g in c)if(c.hasOwnProperty(g)){var C=c[g];g==="children"?typeof C=="string"?a.textContent!==C&&(c.suppressHydrationWarning!==!0&&G(a.textContent,C,e),u=["children",C]):typeof C=="number"&&a.textContent!==""+C&&(c.suppressHydrationWarning!==!0&&G(a.textContent,C,e),u=["children",""+C]):_.hasOwnProperty(g)&&C!=null&&g==="onScroll"&&it("scroll",a)}switch(r){case"input":Ue(a),A(a,c,!0);break;case"textarea":Ue(a),Ma(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=ae)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ir(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(r,{is:a.is}):(e=g.createElement(r),r==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,r),e[gn]=n,e[Fi]=a,qc(e,n,!1,!1),n.stateNode=e;e:{switch(g=Yn(r,a),r){case"dialog":it("cancel",e),it("close",e),u=a;break;case"iframe":case"object":case"embed":it("load",e),u=a;break;case"video":case"audio":for(u=0;u<Ri.length;u++)it(Ri[u],e);u=a;break;case"source":it("error",e),u=a;break;case"img":case"image":case"link":it("error",e),it("load",e),u=a;break;case"details":it("toggle",e),u=a;break;case"input":pe(e,a),u=Ht(e,a),it("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=J({},a,{value:void 0}),it("invalid",e);break;case"textarea":Lt(e,a),u=Et(e,a),it("invalid",e);break;default:u=a}Lo(r,u),C=u;for(c in C)if(C.hasOwnProperty(c)){var N=C[c];c==="style"?Rr(e,N):c==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&za(e,N)):c==="children"?typeof N=="string"?(r!=="textarea"||N!=="")&&yi(e,N):typeof N=="number"&&yi(e,""+N):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_.hasOwnProperty(c)?N!=null&&c==="onScroll"&&it("scroll",e):N!=null&&te(e,c,N,g))}switch(r){case"input":Ue(e),A(e,a,!1);break;case"textarea":Ue(e),Ma(e);break;case"option":a.value!=null&&e.setAttribute("value",""+He(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?Oe(e,!!a.multiple,c,!1):a.defaultValue!=null&&Oe(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ae)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Rt(n),null;case 6:if(e&&n.stateNode!=null)Qc(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(h(166));if(r=Pr(ha.current),Pr($n.current),wl(n)){if(a=n.stateNode,r=n.memoizedProps,a[gn]=n,(c=a.nodeValue!==r)&&(e=sn,e!==null))switch(e.tag){case 3:G(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&G(a.nodeValue,r,(e.mode&1)!==0)}c&&(n.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[gn]=n,n.stateNode=a}return Rt(n),null;case 13:if(lt(dt),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&un!==null&&(n.mode&1)!==0&&(n.flags&128)===0)tc(),go(),n.flags|=98560,c=!1;else if(c=wl(n),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(h(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(h(317));c[gn]=n}else go(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Rt(n),c=!1}else Nn!==null&&(_u(Nn),Nn=null),c=!0;if(!c)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=r,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(dt.current&1)!==0?Ct===0&&(Ct=3):Cu())),n.updateQueue!==null&&(n.flags|=4),Rt(n),null);case 4:return wo(),su(e,n),e===null&&Ai(n.stateNode.containerInfo),Rt(n),null;case 10:return Rs(n.type._context),Rt(n),null;case 17:return Kt(n.type)&&ml(),Rt(n),null;case 19:if(lt(dt),c=n.memoizedState,c===null)return Rt(n),null;if(a=(n.flags&128)!==0,g=c.rendering,g===null)if(a)va(c,!1);else{if(Ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=bl(e),g!==null){for(n.flags|=128,va(c,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=r,r=n.child;r!==null;)c=r,e=a,c.flags&=14680066,g=c.alternate,g===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,e=g.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ot(dt,dt.current&1|2),n.child}e=e.sibling}c.tail!==null&&ut()>ko&&(n.flags|=128,a=!0,va(c,!1),n.lanes=4194304)}else{if(!a)if(e=bl(g),e!==null){if(n.flags|=128,a=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),va(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!st)return Rt(n),null}else 2*ut()-c.renderingStartTime>ko&&r!==1073741824&&(n.flags|=128,a=!0,va(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(r=c.last,r!==null?r.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ut(),n.sibling=null,r=dt.current,ot(dt,a?r&1|2:r&1),n):(Rt(n),null);case 22:case 23:return xu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(cn&1073741824)!==0&&(Rt(n),n.subtreeFlags&6&&(n.flags|=8192)):Rt(n),null;case 24:return null;case 25:return null}throw Error(h(156,n.tag))}function Lh(e,n){switch(Os(n),n.tag){case 1:return Kt(n.type)&&ml(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wo(),lt(Gt),lt(It),Ws(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return js(n),null;case 13:if(lt(dt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));go()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return lt(dt),null;case 4:return wo(),null;case 10:return Rs(n.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Bl=!1,At=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Co(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){pt(e,n,a)}else r.current=null}function uu(e,n,r){try{r()}catch(a){pt(e,n,a)}}var Xc=!1;function Nh(e,n){if(xe=fr,e=ea(),ta(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var u=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var g=0,C=-1,N=-1,K=0,se=0,ce=e,le=null;t:for(;;){for(var Se;ce!==r||u!==0&&ce.nodeType!==3||(C=g+u),ce!==c||a!==0&&ce.nodeType!==3||(N=g+a),ce.nodeType===3&&(g+=ce.nodeValue.length),(Se=ce.firstChild)!==null;)le=ce,ce=Se;for(;;){if(ce===e)break t;if(le===r&&++K===u&&(C=g),le===c&&++se===a&&(N=g),(Se=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=Se}r=C===-1||N===-1?null:{start:C,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ae={focusedElem:e,selectionRange:r},fr=!1,Ee=n;Ee!==null;)if(n=Ee,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ee=e;else for(;Ee!==null;){n=Ee;try{var Le=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Ne=Le.memoizedProps,mt=Le.memoizedState,j=n.stateNode,I=j.getSnapshotBeforeUpdate(n.elementType===n.type?Ne:Mn(n.type,Ne),mt);j.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(fe){pt(n,n.return,fe)}if(e=n.sibling,e!==null){e.return=n.return,Ee=e;break}Ee=n.return}return Le=Xc,Xc=!1,Le}function ya(e,n,r){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var c=u.destroy;u.destroy=void 0,c!==void 0&&uu(n,r,c)}u=u.next}while(u!==a)}}function Rl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==n)}}function cu(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function ed(e){var n=e.alternate;n!==null&&(e.alternate=null,ed(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[gn],delete n[Fi],delete n[Ui],delete n[Ps],delete n[bs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function td(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,n,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ae));else if(a!==4&&(e=e.child,e!==null))for(du(e,n,r),e=e.sibling;e!==null;)du(e,n,r),e=e.sibling}function hu(e,n,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(hu(e,n,r),e=e.sibling;e!==null;)hu(e,n,r),e=e.sibling}var bt=null,zn=!1;function $i(e,n,r){for(r=r.child;r!==null;)id(e,n,r),r=r.sibling}function id(e,n,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(lr,r)}catch{}switch(r.tag){case 5:At||Co(r,n);case 6:var a=bt,u=zn;bt=null,$i(e,n,r),bt=a,zn=u,bt!==null&&(zn?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(zn?(e=bt,r=r.stateNode,e.nodeType===8?sa(e.parentNode,r):e.nodeType===1&&sa(e,r),nn(e)):sa(bt,r.stateNode));break;case 4:a=bt,u=zn,bt=r.stateNode.containerInfo,zn=!0,$i(e,n,r),bt=a,zn=u;break;case 0:case 11:case 14:case 15:if(!At&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var c=u,g=c.destroy;c=c.tag,g!==void 0&&((c&2)!==0||(c&4)!==0)&&uu(r,n,g),u=u.next}while(u!==a)}$i(e,n,r);break;case 1:if(!At&&(Co(r,n),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(C){pt(r,n,C)}$i(e,n,r);break;case 21:$i(e,n,r);break;case 22:r.mode&1?(At=(a=At)||r.memoizedState!==null,$i(e,n,r),At=a):$i(e,n,r);break;default:$i(e,n,r)}}function rd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Oh),n.forEach(function(a){var u=Uh.bind(null,e,a);r.has(a)||(r.add(a),a.then(u,u))})}}function In(e,n){var r=n.deletions;if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];try{var c=e,g=n,C=g;e:for(;C!==null;){switch(C.tag){case 5:bt=C.stateNode,zn=!1;break e;case 3:bt=C.stateNode.containerInfo,zn=!0;break e;case 4:bt=C.stateNode.containerInfo,zn=!0;break e}C=C.return}if(bt===null)throw Error(h(160));id(c,g,u),bt=null,zn=!1;var N=u.alternate;N!==null&&(N.return=null),u.return=null}catch(K){pt(u,n,K)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)od(n,e),n=n.sibling}function od(e,n){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(n,e),Kn(e),a&4){try{ya(3,e,e.return),Rl(3,e)}catch(Ne){pt(e,e.return,Ne)}try{ya(5,e,e.return)}catch(Ne){pt(e,e.return,Ne)}}break;case 1:In(n,e),Kn(e),a&512&&r!==null&&Co(r,r.return);break;case 5:if(In(n,e),Kn(e),a&512&&r!==null&&Co(r,r.return),e.flags&32){var u=e.stateNode;try{yi(u,"")}catch(Ne){pt(e,e.return,Ne)}}if(a&4&&(u=e.stateNode,u!=null)){var c=e.memoizedProps,g=r!==null?r.memoizedProps:c,C=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{C==="input"&&c.type==="radio"&&c.name!=null&&ee(u,c),Yn(C,g);var K=Yn(C,c);for(g=0;g<N.length;g+=2){var se=N[g],ce=N[g+1];se==="style"?Rr(u,ce):se==="dangerouslySetInnerHTML"?za(u,ce):se==="children"?yi(u,ce):te(u,se,ce,K)}switch(C){case"input":$(u,c);break;case"textarea":Na(u,c);break;case"select":var le=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!c.multiple;var Se=c.value;Se!=null?Oe(u,!!c.multiple,Se,!1):le!==!!c.multiple&&(c.defaultValue!=null?Oe(u,!!c.multiple,c.defaultValue,!0):Oe(u,!!c.multiple,c.multiple?[]:"",!1))}u[Fi]=c}catch(Ne){pt(e,e.return,Ne)}}break;case 6:if(In(n,e),Kn(e),a&4){if(e.stateNode===null)throw Error(h(162));u=e.stateNode,c=e.memoizedProps;try{u.nodeValue=c}catch(Ne){pt(e,e.return,Ne)}}break;case 3:if(In(n,e),Kn(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{nn(n.containerInfo)}catch(Ne){pt(e,e.return,Ne)}break;case 4:In(n,e),Kn(e);break;case 13:In(n,e),Kn(e),u=e.child,u.flags&8192&&(c=u.memoizedState!==null,u.stateNode.isHidden=c,!c||u.alternate!==null&&u.alternate.memoizedState!==null||(mu=ut())),a&4&&rd(e);break;case 22:if(se=r!==null&&r.memoizedState!==null,e.mode&1?(At=(K=At)||se,In(n,e),At=K):In(n,e),Kn(e),a&8192){if(K=e.memoizedState!==null,(e.stateNode.isHidden=K)&&!se&&(e.mode&1)!==0)for(Ee=e,se=e.child;se!==null;){for(ce=Ee=se;Ee!==null;){switch(le=Ee,Se=le.child,le.tag){case 0:case 11:case 14:case 15:ya(4,le,le.return);break;case 1:Co(le,le.return);var Le=le.stateNode;if(typeof Le.componentWillUnmount=="function"){a=le,r=le.return;try{n=a,Le.props=n.memoizedProps,Le.state=n.memoizedState,Le.componentWillUnmount()}catch(Ne){pt(a,r,Ne)}}break;case 5:Co(le,le.return);break;case 22:if(le.memoizedState!==null){sd(ce);continue}}Se!==null?(Se.return=le,Ee=Se):sd(ce)}se=se.sibling}e:for(se=null,ce=e;;){if(ce.tag===5){if(se===null){se=ce;try{u=ce.stateNode,K?(c=u.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(C=ce.stateNode,N=ce.memoizedProps.style,g=N!=null&&N.hasOwnProperty("display")?N.display:null,C.style.display=Eo("display",g))}catch(Ne){pt(e,e.return,Ne)}}}else if(ce.tag===6){if(se===null)try{ce.stateNode.nodeValue=K?"":ce.memoizedProps}catch(Ne){pt(e,e.return,Ne)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===e)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===e)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===e)break e;se===ce&&(se=null),ce=ce.return}se===ce&&(se=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:In(n,e),Kn(e),a&4&&rd(e);break;case 21:break;default:In(n,e),Kn(e)}}function Kn(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(td(r)){var a=r;break e}r=r.return}throw Error(h(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(yi(u,""),a.flags&=-33);var c=nd(e);hu(e,c,u);break;case 3:case 4:var g=a.stateNode.containerInfo,C=nd(e);du(e,C,g);break;default:throw Error(h(161))}}catch(N){pt(e,e.return,N)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mh(e,n,r){Ee=e,ad(e)}function ad(e,n,r){for(var a=(e.mode&1)!==0;Ee!==null;){var u=Ee,c=u.child;if(u.tag===22&&a){var g=u.memoizedState!==null||Bl;if(!g){var C=u.alternate,N=C!==null&&C.memoizedState!==null||At;C=Bl;var K=At;if(Bl=g,(At=N)&&!K)for(Ee=u;Ee!==null;)g=Ee,N=g.child,g.tag===22&&g.memoizedState!==null?ud(u):N!==null?(N.return=g,Ee=N):ud(u);for(;c!==null;)Ee=c,ad(c),c=c.sibling;Ee=u,Bl=C,At=K}ld(e)}else(u.subtreeFlags&8772)!==0&&c!==null?(c.return=u,Ee=c):ld(e)}}function ld(e){for(;Ee!==null;){var n=Ee;if((n.flags&8772)!==0){var r=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:At||Rl(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!At)if(r===null)a.componentDidMount();else{var u=n.elementType===n.type?r.memoizedProps:Mn(n.type,r.memoizedProps);a.componentDidUpdate(u,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=n.updateQueue;c!==null&&sc(n,c,a);break;case 3:var g=n.updateQueue;if(g!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}sc(n,g,r)}break;case 5:var C=n.stateNode;if(r===null&&n.flags&4){r=C;var N=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&r.focus();break;case"img":N.src&&(r.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var K=n.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var ce=se.dehydrated;ce!==null&&nn(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}At||n.flags&512&&cu(n)}catch(le){pt(n,n.return,le)}}if(n===e){Ee=null;break}if(r=n.sibling,r!==null){r.return=n.return,Ee=r;break}Ee=n.return}}function sd(e){for(;Ee!==null;){var n=Ee;if(n===e){Ee=null;break}var r=n.sibling;if(r!==null){r.return=n.return,Ee=r;break}Ee=n.return}}function ud(e){for(;Ee!==null;){var n=Ee;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Rl(4,n)}catch(N){pt(n,r,N)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(N){pt(n,u,N)}}var c=n.return;try{cu(n)}catch(N){pt(n,c,N)}break;case 5:var g=n.return;try{cu(n)}catch(N){pt(n,g,N)}}}catch(N){pt(n,n.return,N)}if(n===e){Ee=null;break}var C=n.sibling;if(C!==null){C.return=n.return,Ee=C;break}Ee=n.return}}var zh=Math.ceil,Al=me.ReactCurrentDispatcher,fu=me.ReactCurrentOwner,xn=me.ReactCurrentBatchConfig,Qe=0,kt=null,vt=null,Tt=0,cn=0,So=ji(0),Ct=0,_a=null,Tr=0,Dl=0,pu=0,wa=null,qt=null,mu=0,ko=1/0,vi=null,Fl=!1,gu=null,Gi=null,Ul=!1,Ki=null,jl=0,xa=0,vu=null,Zl=-1,Wl=0;function Zt(){return(Qe&6)!==0?ut():Zl!==-1?Zl:Zl=ut()}function Yi(e){return(e.mode&1)===0?1:(Qe&2)!==0&&Tt!==0?Tt&-Tt:gh.transition!==null?(Wl===0&&(Wl=$a()),Wl):(e=qe,e!==0||(e=window.event,e=e===void 0?16:Ye(e.type)),e)}function Bn(e,n,r,a){if(50<xa)throw xa=0,vu=null,Error(h(185));en(e,r,a),((Qe&2)===0||e!==kt)&&(e===kt&&((Qe&2)===0&&(Dl|=r),Ct===4&&qi(e,Tt)),Jt(e,a),r===1&&Qe===0&&(n.mode&1)===0&&(ko=ut()+500,vl&&Wi()))}function Jt(e,n){var r=e.callbackNode;Wr(e,n);var a=rt(e,e===kt?Tt:0);if(a===0)r!==null&&Ro(r),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(r!=null&&Ro(r),n===1)e.tag===0?mh(dd.bind(null,e)):qu(dd.bind(null,e)),zt(function(){(Qe&6)===0&&Wi()}),r=null;else{switch(ki(a)){case 1:r=Ao;break;case 4:r=Va;break;case 16:r=jr;break;case 536870912:r=wi;break;default:r=jr}r=_d(r,cd.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function cd(e,n){if(Zl=-1,Wl=0,(Qe&6)!==0)throw Error(h(327));var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var a=rt(e,e===kt?Tt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||n)n=Hl(e,a);else{n=a;var u=Qe;Qe|=2;var c=fd();(kt!==e||Tt!==n)&&(vi=null,ko=ut()+500,Lr(e,n));do try{Rh();break}catch(C){hd(e,C)}while(!0);Bs(),Al.current=c,Qe=u,vt!==null?n=0:(kt=null,Tt=0,n=Ct)}if(n!==0){if(n===2&&(u=Nt(e),u!==0&&(a=u,n=yu(e,u))),n===1)throw r=_a,Lr(e,0),qi(e,a),Jt(e,ut()),r;if(n===6)qi(e,a);else{if(u=e.current.alternate,(a&30)===0&&!Ih(u)&&(n=Hl(e,a),n===2&&(c=Nt(e),c!==0&&(a=c,n=yu(e,c))),n===1))throw r=_a,Lr(e,0),qi(e,a),Jt(e,ut()),r;switch(e.finishedWork=u,e.finishedLanes=a,n){case 0:case 1:throw Error(h(345));case 2:Or(e,qt,vi);break;case 3:if(qi(e,a),(a&130023424)===a&&(n=mu+500-ut(),10<n)){if(rt(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Zt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=wt(Or.bind(null,e,qt,vi),n);break}Or(e,qt,vi);break;case 4:if(qi(e,a),(a&4194240)===a)break;for(n=e.eventTimes,u=-1;0<a;){var g=31-$e(a);c=1<<g,g=n[g],g>u&&(u=g),a&=~c}if(a=u,a=ut()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*zh(a/1960))-a,10<a){e.timeoutHandle=wt(Or.bind(null,e,qt,vi),a);break}Or(e,qt,vi);break;case 5:Or(e,qt,vi);break;default:throw Error(h(329))}}}return Jt(e,ut()),e.callbackNode===r?cd.bind(null,e):null}function yu(e,n){var r=wa;return e.current.memoizedState.isDehydrated&&(Lr(e,n).flags|=256),e=Hl(e,n),e!==2&&(n=qt,qt=r,n!==null&&_u(n)),e}function _u(e){qt===null?qt=e:qt.push.apply(qt,e)}function Ih(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var u=r[a],c=u.getSnapshot;u=u.value;try{if(!an(c(),u))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qi(e,n){for(n&=~pu,n&=~Dl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-$e(n),a=1<<r;e[r]=-1,n&=~a}}function dd(e){if((Qe&6)!==0)throw Error(h(327));Po();var n=rt(e,0);if((n&1)===0)return Jt(e,ut()),null;var r=Hl(e,n);if(e.tag!==0&&r===2){var a=Nt(e);a!==0&&(n=a,r=yu(e,a))}if(r===1)throw r=_a,Lr(e,0),qi(e,n),Jt(e,ut()),r;if(r===6)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Or(e,qt,vi),Jt(e,ut()),null}function wu(e,n){var r=Qe;Qe|=1;try{return e(n)}finally{Qe=r,Qe===0&&(ko=ut()+500,vl&&Wi())}}function Er(e){Ki!==null&&Ki.tag===0&&(Qe&6)===0&&Po();var n=Qe;Qe|=1;var r=xn.transition,a=qe;try{if(xn.transition=null,qe=1,e)return e()}finally{qe=a,xn.transition=r,Qe=n,(Qe&6)===0&&Wi()}}function xu(){cn=So.current,lt(So)}function Lr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gt(r)),vt!==null)for(r=vt.return;r!==null;){var a=r;switch(Os(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ml();break;case 3:wo(),lt(Gt),lt(It),Ws();break;case 5:js(a);break;case 4:wo();break;case 13:lt(dt);break;case 19:lt(dt);break;case 10:Rs(a.type._context);break;case 22:case 23:xu()}r=r.return}if(kt=e,vt=e=Ji(e.current,null),Tt=cn=n,Ct=0,_a=null,pu=Dl=Tr=0,qt=wa=null,kr!==null){for(n=0;n<kr.length;n++)if(r=kr[n],a=r.interleaved,a!==null){r.interleaved=null;var u=a.next,c=r.pending;if(c!==null){var g=c.next;c.next=u,a.next=g}r.pending=a}kr=null}return e}function hd(e,n){do{var r=vt;try{if(Bs(),Tl.current=Nl,El){for(var a=ht.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}El=!1}if(br=0,St=xt=ht=null,fa=!1,pa=0,fu.current=null,r===null||r.return===null){Ct=1,_a=n,vt=null;break}e:{var c=e,g=r.return,C=r,N=n;if(n=Tt,C.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=N,se=C,ce=se.tag;if((se.mode&1)===0&&(ce===0||ce===11||ce===15)){var le=se.alternate;le?(se.updateQueue=le.updateQueue,se.memoizedState=le.memoizedState,se.lanes=le.lanes):(se.updateQueue=null,se.memoizedState=null)}var Se=Ac(g);if(Se!==null){Se.flags&=-257,Dc(Se,g,C,c,n),Se.mode&1&&Rc(c,K,n),n=Se,N=K;var Le=n.updateQueue;if(Le===null){var Ne=new Set;Ne.add(N),n.updateQueue=Ne}else Le.add(N);break e}else{if((n&1)===0){Rc(c,K,n),Cu();break e}N=Error(h(426))}}else if(st&&C.mode&1){var mt=Ac(g);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Dc(mt,g,C,c,n),zs(xo(N,C));break e}}c=N=xo(N,C),Ct!==4&&(Ct=2),wa===null?wa=[c]:wa.push(c),c=g;do{switch(c.tag){case 3:c.flags|=65536,n&=-n,c.lanes|=n;var j=Ic(c,N,n);lc(c,j);break e;case 1:C=N;var I=c.type,H=c.stateNode;if((c.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Gi===null||!Gi.has(H)))){c.flags|=65536,n&=-n,c.lanes|=n;var fe=Bc(c,C,n);lc(c,fe);break e}}c=c.return}while(c!==null)}md(r)}catch(ze){n=ze,vt===r&&r!==null&&(vt=r=r.return);continue}break}while(!0)}function fd(){var e=Al.current;return Al.current=Nl,e===null?Nl:e}function Cu(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),kt===null||(Tr&268435455)===0&&(Dl&268435455)===0||qi(kt,Tt)}function Hl(e,n){var r=Qe;Qe|=2;var a=fd();(kt!==e||Tt!==n)&&(vi=null,Lr(e,n));do try{Bh();break}catch(u){hd(e,u)}while(!0);if(Bs(),Qe=r,Al.current=a,vt!==null)throw Error(h(261));return kt=null,Tt=0,Ct}function Bh(){for(;vt!==null;)pd(vt)}function Rh(){for(;vt!==null&&!us();)pd(vt)}function pd(e){var n=yd(e.alternate,e,cn);e.memoizedProps=e.pendingProps,n===null?md(e):vt=n,fu.current=null}function md(e){var n=e;do{var r=n.alternate;if(e=n.return,(n.flags&32768)===0){if(r=Eh(r,n,cn),r!==null){vt=r;return}}else{if(r=Lh(r,n),r!==null){r.flags&=32767,vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,vt=null;return}}if(n=n.sibling,n!==null){vt=n;return}vt=n=e}while(n!==null);Ct===0&&(Ct=5)}function Or(e,n,r){var a=qe,u=xn.transition;try{xn.transition=null,qe=1,Ah(e,n,r,a)}finally{xn.transition=u,qe=a}return null}function Ah(e,n,r,a){do Po();while(Ki!==null);if((Qe&6)!==0)throw Error(h(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(ft(e,c),e===kt&&(vt=kt=null,Tt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ul||(Ul=!0,_d(jr,function(){return Po(),null})),c=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||c){c=xn.transition,xn.transition=null;var g=qe;qe=1;var C=Qe;Qe|=4,fu.current=null,Nh(e,r),od(r,e),pn(Ae),fr=!!xe,Ae=xe=null,e.current=r,Mh(r),Ur(),Qe=C,qe=g,xn.transition=c}else e.current=r;if(Ul&&(Ul=!1,Ki=e,jl=u),c=e.pendingLanes,c===0&&(Gi=null),sr(r.stateNode),Jt(e,ut()),n!==null)for(a=e.onRecoverableError,r=0;r<n.length;r++)u=n[r],a(u.value,{componentStack:u.stack,digest:u.digest});if(Fl)throw Fl=!1,e=gu,gu=null,e;return(jl&1)!==0&&e.tag!==0&&Po(),c=e.pendingLanes,(c&1)!==0?e===vu?xa++:(xa=0,vu=e):xa=0,Wi(),null}function Po(){if(Ki!==null){var e=ki(jl),n=xn.transition,r=qe;try{if(xn.transition=null,qe=16>e?16:e,Ki===null)var a=!1;else{if(e=Ki,Ki=null,jl=0,(Qe&6)!==0)throw Error(h(331));var u=Qe;for(Qe|=4,Ee=e.current;Ee!==null;){var c=Ee,g=c.child;if((Ee.flags&16)!==0){var C=c.deletions;if(C!==null){for(var N=0;N<C.length;N++){var K=C[N];for(Ee=K;Ee!==null;){var se=Ee;switch(se.tag){case 0:case 11:case 15:ya(8,se,c)}var ce=se.child;if(ce!==null)ce.return=se,Ee=ce;else for(;Ee!==null;){se=Ee;var le=se.sibling,Se=se.return;if(ed(se),se===K){Ee=null;break}if(le!==null){le.return=Se,Ee=le;break}Ee=Se}}}var Le=c.alternate;if(Le!==null){var Ne=Le.child;if(Ne!==null){Le.child=null;do{var mt=Ne.sibling;Ne.sibling=null,Ne=mt}while(Ne!==null)}}Ee=c}}if((c.subtreeFlags&2064)!==0&&g!==null)g.return=c,Ee=g;else e:for(;Ee!==null;){if(c=Ee,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:ya(9,c,c.return)}var j=c.sibling;if(j!==null){j.return=c.return,Ee=j;break e}Ee=c.return}}var I=e.current;for(Ee=I;Ee!==null;){g=Ee;var H=g.child;if((g.subtreeFlags&2064)!==0&&H!==null)H.return=g,Ee=H;else e:for(g=I;Ee!==null;){if(C=Ee,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Rl(9,C)}}catch(ze){pt(C,C.return,ze)}if(C===g){Ee=null;break e}var fe=C.sibling;if(fe!==null){fe.return=C.return,Ee=fe;break e}Ee=C.return}}if(Qe=u,Wi(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(lr,e)}catch{}a=!0}return a}finally{qe=r,xn.transition=n}}return!1}function gd(e,n,r){n=xo(r,n),n=Ic(e,n,1),e=Vi(e,n,1),n=Zt(),e!==null&&(en(e,1,n),Jt(e,n))}function pt(e,n,r){if(e.tag===3)gd(e,e,r);else for(;n!==null;){if(n.tag===3){gd(n,e,r);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Gi===null||!Gi.has(a))){e=xo(r,e),e=Bc(n,e,1),n=Vi(n,e,1),e=Zt(),n!==null&&(en(n,1,e),Jt(n,e));break}}n=n.return}}function Dh(e,n,r){var a=e.pingCache;a!==null&&a.delete(n),n=Zt(),e.pingedLanes|=e.suspendedLanes&r,kt===e&&(Tt&r)===r&&(Ct===4||Ct===3&&(Tt&130023424)===Tt&&500>ut()-mu?Lr(e,0):pu|=r),Jt(e,n)}function vd(e,n){n===0&&((e.mode&1)===0?n=1:(n=Ci,Ci<<=1,(Ci&130023424)===0&&(Ci=4194304)));var r=Zt();e=pi(e,n),e!==null&&(en(e,n,r),Jt(e,r))}function Fh(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),vd(e,r)}function Uh(e,n){var r=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(h(314))}a!==null&&a.delete(n),vd(e,r)}var yd;yd=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||Gt.current)Yt=!0;else{if((e.lanes&r)===0&&(n.flags&128)===0)return Yt=!1,Th(e,n,r);Yt=(e.flags&131072)!==0}else Yt=!1,st&&(n.flags&1048576)!==0&&Ju(n,_l,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Il(e,n),e=n.pendingProps;var u=fo(n,It.current);_o(n,r),u=$s(null,n,a,e,u,r);var c=Gs();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Kt(a)?(c=!0,gl(n)):c=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Fs(n),u.updater=Ml,n.stateNode=u,u._reactInternals=n,Xs(n,a,e,r),n=iu(null,n,a,!0,c,r)):(n.tag=0,st&&c&&Ls(n),jt(null,n,u,r),n=n.child),n;case 16:a=n.elementType;e:{switch(Il(e,n),e=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=Zh(a),e=Mn(a,e),u){case 0:n=nu(null,n,a,e,r);break e;case 1:n=Hc(null,n,a,e,r);break e;case 11:n=Fc(null,n,a,e,r);break e;case 14:n=Uc(null,n,a,Mn(a.type,e),r);break e}throw Error(h(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Mn(a,u),nu(e,n,a,u,r);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Mn(a,u),Hc(e,n,a,u,r);case 3:e:{if(Vc(n),e===null)throw Error(h(387));a=n.pendingProps,c=n.memoizedState,u=c.element,ac(e,n),Pl(n,a,null,r);var g=n.memoizedState;if(a=g.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){u=xo(Error(h(423)),n),n=$c(e,n,a,r,u);break e}else if(a!==u){u=xo(Error(h(424)),n),n=$c(e,n,a,r,u);break e}else for(un=Vn(n.stateNode.containerInfo.firstChild),sn=n,st=!0,Nn=null,r=rc(n,null,a,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(go(),a===u){n=gi(e,n,r);break e}jt(e,n,a,r)}n=n.child}return n;case 5:return uc(n),e===null&&Ms(n),a=n.type,u=n.pendingProps,c=e!==null?e.memoizedProps:null,g=u.children,Ge(a,u)?g=null:c!==null&&Ge(a,c)&&(n.flags|=32),Wc(e,n),jt(e,n,g,r),n.child;case 6:return e===null&&Ms(n),null;case 13:return Gc(e,n,r);case 4:return Us(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=vo(n,null,a,r):jt(e,n,a,r),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Mn(a,u),Fc(e,n,a,u,r);case 7:return jt(e,n,n.pendingProps,r),n.child;case 8:return jt(e,n,n.pendingProps.children,r),n.child;case 12:return jt(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,c=n.memoizedProps,g=u.value,ot(Cl,a._currentValue),a._currentValue=g,c!==null)if(an(c.value,g)){if(c.children===u.children&&!Gt.current){n=gi(e,n,r);break e}}else for(c=n.child,c!==null&&(c.return=n);c!==null;){var C=c.dependencies;if(C!==null){g=c.child;for(var N=C.firstContext;N!==null;){if(N.context===a){if(c.tag===1){N=mi(-1,r&-r),N.tag=2;var K=c.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?N.next=N:(N.next=se.next,se.next=N),K.pending=N}}c.lanes|=r,N=c.alternate,N!==null&&(N.lanes|=r),As(c.return,r,n),C.lanes|=r;break}N=N.next}}else if(c.tag===10)g=c.type===n.type?null:c.child;else if(c.tag===18){if(g=c.return,g===null)throw Error(h(341));g.lanes|=r,C=g.alternate,C!==null&&(C.lanes|=r),As(g,r,n),g=c.sibling}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===n){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}jt(e,n,u.children,r),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,_o(n,r),u=_n(u),a=a(u),n.flags|=1,jt(e,n,a,r),n.child;case 14:return a=n.type,u=Mn(a,n.pendingProps),u=Mn(a.type,u),Uc(e,n,a,u,r);case 15:return jc(e,n,n.type,n.pendingProps,r);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:Mn(a,u),Il(e,n),n.tag=1,Kt(a)?(e=!0,gl(n)):e=!1,_o(n,r),Mc(n,a,u),Xs(n,a,u,r),iu(null,n,a,!0,e,r);case 19:return Yc(e,n,r);case 22:return Zc(e,n,r)}throw Error(h(156,n.tag))};function _d(e,n){return Ha(e,n)}function jh(e,n,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,r,a){return new jh(e,n,r,a)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zh(e){if(typeof e=="function")return Su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Be)return 11;if(e===je)return 14}return 2}function Ji(e,n){var r=e.alternate;return r===null?(r=Cn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vl(e,n,r,a,u,c){var g=2;if(a=e,typeof e=="function")Su(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Ie:return Nr(r.children,u,c,n);case R:g=8,u|=8;break;case z:return e=Cn(12,r,n,u|2),e.elementType=z,e.lanes=c,e;case ge:return e=Cn(13,r,n,u),e.elementType=ge,e.lanes=c,e;case oe:return e=Cn(19,r,n,u),e.elementType=oe,e.lanes=c,e;case Ce:return $l(r,u,c,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:g=10;break e;case ne:g=9;break e;case Be:g=11;break e;case je:g=14;break e;case ie:g=16,a=null;break e}throw Error(h(130,e==null?e:typeof e,""))}return n=Cn(g,r,n,u),n.elementType=e,n.type=a,n.lanes=c,n}function Nr(e,n,r,a){return e=Cn(7,e,a,n),e.lanes=r,e}function $l(e,n,r,a){return e=Cn(22,e,a,n),e.elementType=Ce,e.lanes=r,e.stateNode={isHidden:!1},e}function ku(e,n,r){return e=Cn(6,e,null,n),e.lanes=r,e}function Pu(e,n,r){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Wh(e,n,r,a,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function bu(e,n,r,a,u,c,g,C,N){return e=new Wh(e,n,r,C,N),n===1?(n=1,c===!0&&(n|=8)):n=0,c=Cn(3,null,null,n),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(c),e}function Hh(e,n,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:a==null?null:""+a,children:e,containerInfo:n,implementation:r}}function wd(e){if(!e)return Zi;e=e._reactInternals;e:{if(An(e)!==e||e.tag!==1)throw Error(h(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Kt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(h(171))}if(e.tag===1){var r=e.type;if(Kt(r))return Ku(e,r,n)}return n}function xd(e,n,r,a,u,c,g,C,N){return e=bu(r,a,!0,e,u,c,g,C,N),e.context=wd(null),r=e.current,a=Zt(),u=Yi(r),c=mi(a,u),c.callback=n??null,Vi(r,c,u),e.current.lanes=u,en(e,u,a),Jt(e,a),e}function Gl(e,n,r,a){var u=n.current,c=Zt(),g=Yi(u);return r=wd(r),n.context===null?n.context=r:n.pendingContext=r,n=mi(c,g),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Vi(u,n,g),e!==null&&(Bn(e,u,g,c),kl(e,u,g)),g}function Kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Tu(e,n){Cd(e,n),(e=e.alternate)&&Cd(e,n)}function Vh(){return null}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}Yl.prototype.render=Eu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));Gl(e,n,null,null)},Yl.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Er(function(){Gl(null,e,null,null)}),n[et]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var n=$r();e={blockedOn:null,target:e,priority:n};for(var r=0;r<_t.length&&n!==0&&n<_t[r].priority;r++);_t.splice(r,0,e),r===0&&Gr(e)}};function Lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kd(){}function $h(e,n,r,a,u){if(u){if(typeof a=="function"){var c=a;a=function(){var K=Kl(g);c.call(K)}}var g=xd(n,a,e,0,null,!1,!1,"",kd);return e._reactRootContainer=g,e[et]=g.current,Ai(e.nodeType===8?e.parentNode:e),Er(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var C=a;a=function(){var K=Kl(N);C.call(K)}}var N=bu(e,0,!1,null,null,!1,!1,"",kd);return e._reactRootContainer=N,e[et]=N.current,Ai(e.nodeType===8?e.parentNode:e),Er(function(){Gl(n,N,r,a)}),N}function Jl(e,n,r,a,u){var c=r._reactRootContainer;if(c){var g=c;if(typeof u=="function"){var C=u;u=function(){var N=Kl(g);C.call(N)}}Gl(n,g,e,u)}else g=$h(r,n,e,u,a);return Kl(g)}Hr=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=Ve(n.pendingLanes);r!==0&&(bn(n,r|1),Jt(n,ut()),(Qe&6)===0&&(ko=ut()+500,Wi()))}break;case 13:Er(function(){var a=pi(e,1);if(a!==null){var u=Zt();Bn(a,e,1,u)}}),Tu(e,1)}},Xn=function(e){if(e.tag===13){var n=pi(e,134217728);if(n!==null){var r=Zt();Bn(n,e,134217728,r)}Tu(e,134217728)}},Vr=function(e){if(e.tag===13){var n=Yi(e),r=pi(e,n);if(r!==null){var a=Zt();Bn(r,e,n,a)}Tu(e,n)}},$r=function(){return qe},ur=function(e,n){var r=qe;try{return qe=e,n()}finally{qe=r}},Ar=function(e,n,r){switch(n){case"input":if($(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var a=r[n];if(a!==e&&a.form===e.form){var u=co(a);if(!u)throw Error(h(90));tt(a),$(a,u)}}}break;case"textarea":Na(e,r);break;case"select":n=r.value,n!=null&&Oe(e,!!r.multiple,n,!1)}},Da=wu,Fa=Er;var Gh={usingClientEntryPoint:!1,Events:[ui,ci,co,Ra,Aa,wu]},Ca={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kh={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Za(e),e===null?null:e.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||Vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{lr=Ql.inject(Kh),Xt=Ql}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh,Qt.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lu(n))throw Error(h(200));return Hh(e,n,null,r)},Qt.createRoot=function(e,n){if(!Lu(e))throw Error(h(299));var r=!1,a="",u=Sd;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=bu(e,1,!1,null,null,r,!1,a,u),e[et]=n.current,Ai(e.nodeType===8?e.parentNode:e),new Eu(n)},Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=Za(n),e=e===null?null:e.stateNode,e},Qt.flushSync=function(e){return Er(e)},Qt.hydrate=function(e,n,r){if(!ql(n))throw Error(h(200));return Jl(null,e,n,!0,r)},Qt.hydrateRoot=function(e,n,r){if(!Lu(e))throw Error(h(405));var a=r!=null&&r.hydratedSources||null,u=!1,c="",g=Sd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),n=xd(n,null,e,1,r??null,u,!1,c,g),e[et]=n.current,Ai(e),a)for(e=0;e<a.length;e++)r=a[e],u=r._getVersion,u=u(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,u]:n.mutableSourceEagerHydrationData.push(r,u);return new Yl(n)},Qt.render=function(e,n,r){if(!ql(n))throw Error(h(200));return Jl(null,e,n,!1,r)},Qt.unmountComponentAtNode=function(e){if(!ql(e))throw Error(h(40));return e._reactRootContainer?(Er(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[et]=null})}),!0):!1},Qt.unstable_batchedUpdates=wu,Qt.unstable_renderSubtreeIntoContainer=function(e,n,r,a){if(!ql(r))throw Error(h(200));if(e==null||e._reactInternals===void 0)throw Error(h(38));return Jl(e,n,r,!1,a)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Od;function Kd(){if(Od)return Nu.exports;Od=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(m){console.error(m)}}return p(),Nu.exports=tf(),Nu.exports}var Nd;function nf(){if(Nd)return Xl;Nd=1;var p=Kd();return Xl.createRoot=p.createRoot,Xl.hydrateRoot=p.hydrateRoot,Xl}var rf=nf(),of=Kd();/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(p[y]=h[y])}return p},Pa.apply(this,arguments)}var Xi;(function(p){p.Pop="POP",p.Push="PUSH",p.Replace="REPLACE"})(Xi||(Xi={}));const Md="popstate";function af(p){p===void 0&&(p={});function m(_,k){let{pathname:S="/",search:P="",hash:x=""}=Mr(_.location.hash.substr(1));return!S.startsWith("/")&&!S.startsWith(".")&&(S="/"+S),Au("",{pathname:S,search:P,hash:x},k.state&&k.state.usr||null,k.state&&k.state.key||"default")}function h(_,k){let S=_.document.querySelector("base"),P="";if(S&&S.getAttribute("href")){let x=_.location.href,w=x.indexOf("#");P=w===-1?x:x.slice(0,w)}return P+"#"+(typeof k=="string"?k:ts(k))}function y(_,k){ju(_.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(k)+")")}return sf(m,h,y,p)}function yt(p,m){if(p===!1||p===null||typeof p>"u")throw new Error(m)}function ju(p,m){if(!p){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function lf(){return Math.random().toString(36).substr(2,8)}function zd(p,m){return{usr:p.state,key:p.key,idx:m}}function Au(p,m,h,y){return h===void 0&&(h=null),Pa({pathname:typeof p=="string"?p:p.pathname,search:"",hash:""},typeof m=="string"?Mr(m):m,{state:h,key:m&&m.key||y||lf()})}function ts(p){let{pathname:m="/",search:h="",hash:y=""}=p;return h&&h!=="?"&&(m+=h.charAt(0)==="?"?h:"?"+h),y&&y!=="#"&&(m+=y.charAt(0)==="#"?y:"#"+y),m}function Mr(p){let m={};if(p){let h=p.indexOf("#");h>=0&&(m.hash=p.substr(h),p=p.substr(0,h));let y=p.indexOf("?");y>=0&&(m.search=p.substr(y),p=p.substr(0,y)),p&&(m.pathname=p)}return m}function sf(p,m,h,y){y===void 0&&(y={});let{window:_=document.defaultView,v5Compat:k=!1}=y,S=_.history,P=Xi.Pop,x=null,w=B();w==null&&(w=0,S.replaceState(Pa({},S.state,{idx:w}),""));function B(){return(S.state||{idx:null}).idx}function Z(){P=Xi.Pop;let F=B(),D=F==null?null:F-w;w=F,x&&x({action:P,location:O.location,delta:D})}function V(F,D){P=Xi.Push;let ue=Au(O.location,F,D);h&&h(ue,F),w=B()+1;let te=zd(ue,w),me=O.createHref(ue);try{S.pushState(te,"",me)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;_.location.assign(me)}k&&x&&x({action:P,location:O.location,delta:1})}function re(F,D){P=Xi.Replace;let ue=Au(O.location,F,D);h&&h(ue,F),w=B();let te=zd(ue,w),me=O.createHref(ue);S.replaceState(te,"",me),k&&x&&x({action:P,location:O.location,delta:0})}function M(F){let D=_.location.origin!=="null"?_.location.origin:_.location.href,ue=typeof F=="string"?F:ts(F);return ue=ue.replace(/ $/,"%20"),yt(D,"No window.location.(origin|href) available to create URL for href: "+ue),new URL(ue,D)}let O={get action(){return P},get location(){return p(_,S)},listen(F){if(x)throw new Error("A history only accepts one active listener");return _.addEventListener(Md,Z),x=F,()=>{_.removeEventListener(Md,Z),x=null}},createHref(F){return m(_,F)},createURL:M,encodeLocation(F){let D=M(F);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:V,replace:re,go(F){return S.go(F)}};return O}var Id;(function(p){p.data="data",p.deferred="deferred",p.redirect="redirect",p.error="error"})(Id||(Id={}));function uf(p,m,h){return h===void 0&&(h="/"),cf(p,m,h)}function cf(p,m,h,y){let _=typeof m=="string"?Mr(m):m,k=Zu(_.pathname||"/",h);if(k==null)return null;let S=Yd(p);df(S);let P=null;for(let x=0;P==null&&x<S.length;++x){let w=Sf(k);P=wf(S[x],w)}return P}function Yd(p,m,h,y){m===void 0&&(m=[]),h===void 0&&(h=[]),y===void 0&&(y="");let _=(k,S,P)=>{let x={relativePath:P===void 0?k.path||"":P,caseSensitive:k.caseSensitive===!0,childrenIndex:S,route:k};x.relativePath.startsWith("/")&&(yt(x.relativePath.startsWith(y),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+y+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(y.length));let w=tr([y,x.relativePath]),B=h.concat(x);k.children&&k.children.length>0&&(yt(k.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),Yd(k.children,m,B,w)),!(k.path==null&&!k.index)&&m.push({path:w,score:yf(w,k.index),routesMeta:B})};return p.forEach((k,S)=>{var P;if(k.path===""||!((P=k.path)!=null&&P.includes("?")))_(k,S);else for(let x of qd(k.path))_(k,S,x)}),m}function qd(p){let m=p.split("/");if(m.length===0)return[];let[h,...y]=m,_=h.endsWith("?"),k=h.replace(/\?$/,"");if(y.length===0)return _?[k,""]:[k];let S=qd(y.join("/")),P=[];return P.push(...S.map(x=>x===""?k:[k,x].join("/"))),_&&P.push(...S),P.map(x=>p.startsWith("/")&&x===""?"/":x)}function df(p){p.sort((m,h)=>m.score!==h.score?h.score-m.score:_f(m.routesMeta.map(y=>y.childrenIndex),h.routesMeta.map(y=>y.childrenIndex)))}const hf=/^:[\w-]+$/,ff=3,pf=2,mf=1,gf=10,vf=-2,Bd=p=>p==="*";function yf(p,m){let h=p.split("/"),y=h.length;return h.some(Bd)&&(y+=vf),m&&(y+=pf),h.filter(_=>!Bd(_)).reduce((_,k)=>_+(hf.test(k)?ff:k===""?mf:gf),y)}function _f(p,m){return p.length===m.length&&p.slice(0,-1).every((y,_)=>y===m[_])?p[p.length-1]-m[m.length-1]:0}function wf(p,m,h){let{routesMeta:y}=p,_={},k="/",S=[];for(let P=0;P<y.length;++P){let x=y[P],w=P===y.length-1,B=k==="/"?m:m.slice(k.length)||"/",Z=xf({path:x.relativePath,caseSensitive:x.caseSensitive,end:w},B),V=x.route;if(!Z)return null;Object.assign(_,Z.params),S.push({params:_,pathname:tr([k,Z.pathname]),pathnameBase:Tf(tr([k,Z.pathnameBase])),route:V}),Z.pathnameBase!=="/"&&(k=tr([k,Z.pathnameBase]))}return S}function xf(p,m){typeof p=="string"&&(p={path:p,caseSensitive:!1,end:!0});let[h,y]=Cf(p.path,p.caseSensitive,p.end),_=m.match(h);if(!_)return null;let k=_[0],S=k.replace(/(.)\/+$/,"$1"),P=_.slice(1);return{params:y.reduce((w,B,Z)=>{let{paramName:V,isOptional:re}=B;if(V==="*"){let O=P[Z]||"";S=k.slice(0,k.length-O.length).replace(/(.)\/+$/,"$1")}const M=P[Z];return re&&!M?w[V]=void 0:w[V]=(M||"").replace(/%2F/g,"/"),w},{}),pathname:k,pathnameBase:S,pattern:p}}function Cf(p,m,h){m===void 0&&(m=!1),h===void 0&&(h=!0),ju(p==="*"||!p.endsWith("*")||p.endsWith("/*"),'Route path "'+p+'" will be treated as if it were '+('"'+p.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+p.replace(/\*$/,"/*")+'".'));let y=[],_="^"+p.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(S,P,x)=>(y.push({paramName:P,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return p.endsWith("*")?(y.push({paramName:"*"}),_+=p==="*"||p==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?_+="\\/*$":p!==""&&p!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,m?void 0:"i"),y]}function Sf(p){try{return p.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return ju(!1,'The URL path "'+p+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+m+").")),p}}function Zu(p,m){if(m==="/")return p;if(!p.toLowerCase().startsWith(m.toLowerCase()))return null;let h=m.endsWith("/")?m.length-1:m.length,y=p.charAt(h);return y&&y!=="/"?null:p.slice(h)||"/"}function kf(p,m){m===void 0&&(m="/");let{pathname:h,search:y="",hash:_=""}=typeof p=="string"?Mr(p):p;return{pathname:h?h.startsWith("/")?h:Pf(h,m):m,search:Ef(y),hash:Lf(_)}}function Pf(p,m){let h=m.replace(/\/+$/,"").split("/");return p.split("/").forEach(_=>{_===".."?h.length>1&&h.pop():_!=="."&&h.push(_)}),h.length>1?h.join("/"):"/"}function Iu(p,m,h,y){return"Cannot include a '"+p+"' character in a manually specified "+("`to."+m+"` field ["+JSON.stringify(y)+"].  Please separate it out to the ")+("`to."+h+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bf(p){return p.filter((m,h)=>h===0||m.route.path&&m.route.path.length>0)}function Jd(p,m){let h=bf(p);return m?h.map((y,_)=>_===h.length-1?y.pathname:y.pathnameBase):h.map(y=>y.pathnameBase)}function Qd(p,m,h,y){y===void 0&&(y=!1);let _;typeof p=="string"?_=Mr(p):(_=Pa({},p),yt(!_.pathname||!_.pathname.includes("?"),Iu("?","pathname","search",_)),yt(!_.pathname||!_.pathname.includes("#"),Iu("#","pathname","hash",_)),yt(!_.search||!_.search.includes("#"),Iu("#","search","hash",_)));let k=p===""||_.pathname==="",S=k?"/":_.pathname,P;if(S==null)P=h;else{let Z=m.length-1;if(!y&&S.startsWith("..")){let V=S.split("/");for(;V[0]==="..";)V.shift(),Z-=1;_.pathname=V.join("/")}P=Z>=0?m[Z]:"/"}let x=kf(_,P),w=S&&S!=="/"&&S.endsWith("/"),B=(k||S===".")&&h.endsWith("/");return!x.pathname.endsWith("/")&&(w||B)&&(x.pathname+="/"),x}const tr=p=>p.join("/").replace(/\/\/+/g,"/"),Tf=p=>p.replace(/\/+$/,"").replace(/^\/*/,"/"),Ef=p=>!p||p==="?"?"":p.startsWith("?")?p:"?"+p,Lf=p=>!p||p==="#"?"":p.startsWith("#")?p:"#"+p;function Of(p){return p!=null&&typeof p.status=="number"&&typeof p.statusText=="string"&&typeof p.internal=="boolean"&&"data"in p}const Xd=["post","put","patch","delete"];new Set(Xd);const Nf=["get",...Xd];new Set(Nf);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(p[y]=h[y])}return p},ba.apply(this,arguments)}const Wu=T.createContext(null),Mf=T.createContext(null),zr=T.createContext(null),os=T.createContext(null),nr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),eh=T.createContext(null);function zf(p,m){let{relative:h}=m===void 0?{}:m;Ta()||yt(!1);let{basename:y,navigator:_}=T.useContext(zr),{hash:k,pathname:S,search:P}=nh(p,{relative:h}),x=S;return y!=="/"&&(x=S==="/"?y:tr([y,S])),_.createHref({pathname:x,search:P,hash:k})}function Ta(){return T.useContext(os)!=null}function Ea(){return Ta()||yt(!1),T.useContext(os).location}function th(p){T.useContext(zr).static||T.useLayoutEffect(p)}function Sn(){let{isDataRoute:p}=T.useContext(nr);return p?Kf():If()}function If(){Ta()||yt(!1);let p=T.useContext(Wu),{basename:m,future:h,navigator:y}=T.useContext(zr),{matches:_}=T.useContext(nr),{pathname:k}=Ea(),S=JSON.stringify(Jd(_,h.v7_relativeSplatPath)),P=T.useRef(!1);return th(()=>{P.current=!0}),T.useCallback(function(w,B){if(B===void 0&&(B={}),!P.current)return;if(typeof w=="number"){y.go(w);return}let Z=Qd(w,JSON.parse(S),k,B.relative==="path");p==null&&m!=="/"&&(Z.pathname=Z.pathname==="/"?m:tr([m,Z.pathname])),(B.replace?y.replace:y.push)(Z,B.state,B)},[m,y,S,k,p])}const Bf=T.createContext(null);function Rf(p){let m=T.useContext(nr).outlet;return m&&T.createElement(Bf.Provider,{value:p},m)}function nh(p,m){let{relative:h}=m===void 0?{}:m,{future:y}=T.useContext(zr),{matches:_}=T.useContext(nr),{pathname:k}=Ea(),S=JSON.stringify(Jd(_,y.v7_relativeSplatPath));return T.useMemo(()=>Qd(p,JSON.parse(S),k,h==="path"),[p,S,k,h])}function Af(p,m){return Df(p,m)}function Df(p,m,h,y){Ta()||yt(!1);let{navigator:_}=T.useContext(zr),{matches:k}=T.useContext(nr),S=k[k.length-1],P=S?S.params:{};S&&S.pathname;let x=S?S.pathnameBase:"/";S&&S.route;let w=Ea(),B;if(m){var Z;let F=typeof m=="string"?Mr(m):m;x==="/"||(Z=F.pathname)!=null&&Z.startsWith(x)||yt(!1),B=F}else B=w;let V=B.pathname||"/",re=V;if(x!=="/"){let F=x.replace(/^\//,"").split("/");re="/"+V.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=uf(p,{pathname:re}),O=Wf(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},P,F.params),pathname:tr([x,_.encodeLocation?_.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?x:tr([x,_.encodeLocation?_.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),k,h,y);return m&&O?T.createElement(os.Provider,{value:{location:ba({pathname:"/",search:"",hash:"",state:null,key:"default"},B),navigationType:Xi.Pop}},O):O}function Ff(){let p=Gf(),m=Of(p)?p.status+" "+p.statusText:p instanceof Error?p.message:JSON.stringify(p),h=p instanceof Error?p.stack:null,_={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},m),h?T.createElement("pre",{style:_},h):null,null)}const Uf=T.createElement(Ff,null);class jf extends T.Component{constructor(m){super(m),this.state={location:m.location,revalidation:m.revalidation,error:m.error}}static getDerivedStateFromError(m){return{error:m}}static getDerivedStateFromProps(m,h){return h.location!==m.location||h.revalidation!=="idle"&&m.revalidation==="idle"?{error:m.error,location:m.location,revalidation:m.revalidation}:{error:m.error!==void 0?m.error:h.error,location:h.location,revalidation:m.revalidation||h.revalidation}}componentDidCatch(m,h){console.error("React Router caught the following error during render",m,h)}render(){return this.state.error!==void 0?T.createElement(nr.Provider,{value:this.props.routeContext},T.createElement(eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zf(p){let{routeContext:m,match:h,children:y}=p,_=T.useContext(Wu);return _&&_.static&&_.staticContext&&(h.route.errorElement||h.route.ErrorBoundary)&&(_.staticContext._deepestRenderedBoundaryId=h.route.id),T.createElement(nr.Provider,{value:m},y)}function Wf(p,m,h,y){var _;if(m===void 0&&(m=[]),h===void 0&&(h=null),y===void 0&&(y=null),p==null){var k;if(!h)return null;if(h.errors)p=h.matches;else if((k=y)!=null&&k.v7_partialHydration&&m.length===0&&!h.initialized&&h.matches.length>0)p=h.matches;else return null}let S=p,P=(_=h)==null?void 0:_.errors;if(P!=null){let B=S.findIndex(Z=>Z.route.id&&(P==null?void 0:P[Z.route.id])!==void 0);B>=0||yt(!1),S=S.slice(0,Math.min(S.length,B+1))}let x=!1,w=-1;if(h&&y&&y.v7_partialHydration)for(let B=0;B<S.length;B++){let Z=S[B];if((Z.route.HydrateFallback||Z.route.hydrateFallbackElement)&&(w=B),Z.route.id){let{loaderData:V,errors:re}=h,M=Z.route.loader&&V[Z.route.id]===void 0&&(!re||re[Z.route.id]===void 0);if(Z.route.lazy||M){x=!0,w>=0?S=S.slice(0,w+1):S=[S[0]];break}}}return S.reduceRight((B,Z,V)=>{let re,M=!1,O=null,F=null;h&&(re=P&&Z.route.id?P[Z.route.id]:void 0,O=Z.route.errorElement||Uf,x&&(w<0&&V===0?(Yf("route-fallback"),M=!0,F=null):w===V&&(M=!0,F=Z.route.hydrateFallbackElement||null)));let D=m.concat(S.slice(0,V+1)),ue=()=>{let te;return re?te=O:M?te=F:Z.route.Component?te=T.createElement(Z.route.Component,null):Z.route.element?te=Z.route.element:te=B,T.createElement(Zf,{match:Z,routeContext:{outlet:B,matches:D,isDataRoute:h!=null},children:te})};return h&&(Z.route.ErrorBoundary||Z.route.errorElement||V===0)?T.createElement(jf,{location:h.location,revalidation:h.revalidation,component:O,error:re,children:ue(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):ue()},null)}var ih=function(p){return p.UseBlocker="useBlocker",p.UseRevalidator="useRevalidator",p.UseNavigateStable="useNavigate",p}(ih||{}),rh=function(p){return p.UseBlocker="useBlocker",p.UseLoaderData="useLoaderData",p.UseActionData="useActionData",p.UseRouteError="useRouteError",p.UseNavigation="useNavigation",p.UseRouteLoaderData="useRouteLoaderData",p.UseMatches="useMatches",p.UseRevalidator="useRevalidator",p.UseNavigateStable="useNavigate",p.UseRouteId="useRouteId",p}(rh||{});function Hf(p){let m=T.useContext(Wu);return m||yt(!1),m}function Vf(p){let m=T.useContext(Mf);return m||yt(!1),m}function $f(p){let m=T.useContext(nr);return m||yt(!1),m}function oh(p){let m=$f(),h=m.matches[m.matches.length-1];return h.route.id||yt(!1),h.route.id}function Gf(){var p;let m=T.useContext(eh),h=Vf(),y=oh();return m!==void 0?m:(p=h.errors)==null?void 0:p[y]}function Kf(){let{router:p}=Hf(ih.UseNavigateStable),m=oh(rh.UseNavigateStable),h=T.useRef(!1);return th(()=>{h.current=!0}),T.useCallback(function(_,k){k===void 0&&(k={}),h.current&&(typeof _=="number"?p.navigate(_):p.navigate(_,ba({fromRouteId:m},k)))},[p,m])}const Rd={};function Yf(p,m,h){Rd[p]||(Rd[p]=!0)}function qf(p){return Rf(p.context)}function Wt(p){yt(!1)}function Jf(p){let{basename:m="/",children:h=null,location:y,navigationType:_=Xi.Pop,navigator:k,static:S=!1,future:P}=p;Ta()&&yt(!1);let x=m.replace(/^\/*/,"/"),w=T.useMemo(()=>({basename:x,navigator:k,static:S,future:ba({v7_relativeSplatPath:!1},P)}),[x,P,k,S]);typeof y=="string"&&(y=Mr(y));let{pathname:B="/",search:Z="",hash:V="",state:re=null,key:M="default"}=y,O=T.useMemo(()=>{let F=Zu(B,x);return F==null?null:{location:{pathname:F,search:Z,hash:V,state:re,key:M},navigationType:_}},[x,B,Z,V,re,M,_]);return O==null?null:T.createElement(zr.Provider,{value:w},T.createElement(os.Provider,{children:h,value:O}))}function Qf(p){let{children:m,location:h}=p;return Af(Du(m),h)}new Promise(()=>{});function Du(p,m){m===void 0&&(m=[]);let h=[];return T.Children.forEach(p,(y,_)=>{if(!T.isValidElement(y))return;let k=[...m,_];if(y.type===T.Fragment){h.push.apply(h,Du(y.props.children,k));return}y.type!==Wt&&yt(!1),!y.props.index||!y.props.children||yt(!1);let S={id:y.props.id||k.join("-"),caseSensitive:y.props.caseSensitive,element:y.props.element,Component:y.props.Component,index:y.props.index,path:y.props.path,loader:y.props.loader,action:y.props.action,errorElement:y.props.errorElement,ErrorBoundary:y.props.ErrorBoundary,hasErrorBoundary:y.props.ErrorBoundary!=null||y.props.errorElement!=null,shouldRevalidate:y.props.shouldRevalidate,handle:y.props.handle,lazy:y.props.lazy};y.props.children&&(S.children=Du(y.props.children,k)),h.push(S)}),h}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(p[y]=h[y])}return p},Fu.apply(this,arguments)}function Xf(p,m){if(p==null)return{};var h={},y=Object.keys(p),_,k;for(k=0;k<y.length;k++)_=y[k],!(m.indexOf(_)>=0)&&(h[_]=p[_]);return h}function ep(p){return!!(p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)}function tp(p,m){return p.button===0&&(!m||m==="_self")&&!ep(p)}const np=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ip="6";try{window.__reactRouterVersion=ip}catch{}const rp="startTransition",Ad=Qh[rp];function op(p){let{basename:m,children:h,future:y,window:_}=p,k=T.useRef();k.current==null&&(k.current=af({window:_,v5Compat:!0}));let S=k.current,[P,x]=T.useState({action:S.action,location:S.location}),{v7_startTransition:w}=y||{},B=T.useCallback(Z=>{w&&Ad?Ad(()=>x(Z)):x(Z)},[x,w]);return T.useLayoutEffect(()=>S.listen(B),[S,B]),T.createElement(Jf,{basename:m,children:h,location:P.location,navigationType:P.action,navigator:S,future:y})}const ap=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=T.forwardRef(function(m,h){let{onClick:y,relative:_,reloadDocument:k,replace:S,state:P,target:x,to:w,preventScrollReset:B,unstable_viewTransition:Z}=m,V=Xf(m,np),{basename:re}=T.useContext(zr),M,O=!1;if(typeof w=="string"&&lp.test(w)&&(M=w,ap))try{let te=new URL(window.location.href),me=w.startsWith("//")?new URL(te.protocol+w):new URL(w),Te=Zu(me.pathname,re);me.origin===te.origin&&Te!=null?w=Te+me.search+me.hash:O=!0}catch{}let F=zf(w,{relative:_}),D=sp(w,{replace:S,state:P,target:x,preventScrollReset:B,relative:_,unstable_viewTransition:Z});function ue(te){y&&y(te),te.defaultPrevented||D(te)}return T.createElement("a",Fu({},V,{href:M||F,onClick:O||k?y:ue,ref:h,target:x}))});var Dd;(function(p){p.UseScrollRestoration="useScrollRestoration",p.UseSubmit="useSubmit",p.UseSubmitFetcher="useSubmitFetcher",p.UseFetcher="useFetcher",p.useViewTransitionState="useViewTransitionState"})(Dd||(Dd={}));var Fd;(function(p){p.UseFetcher="useFetcher",p.UseFetchers="useFetchers",p.UseScrollRestoration="useScrollRestoration"})(Fd||(Fd={}));function sp(p,m){let{target:h,replace:y,state:_,preventScrollReset:k,relative:S,unstable_viewTransition:P}=m===void 0?{}:m,x=Sn(),w=Ea(),B=nh(p,{relative:S});return T.useCallback(Z=>{if(tp(Z,h)){Z.preventDefault();let V=y!==void 0?y:ts(w)===ts(B);x(p,{replace:V,state:_,preventScrollReset:k,relative:S,unstable_viewTransition:P})}},[w,x,B,y,_,h,p,k,S,P])}var Bu={exports:{}},Sa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function up(){if(Ud)return Sa;Ud=1;var p=rs(),m=Symbol.for("react.element"),h=Symbol.for("react.fragment"),y=Object.prototype.hasOwnProperty,_=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k={key:!0,ref:!0,__self:!0,__source:!0};function S(P,x,w){var B,Z={},V=null,re=null;w!==void 0&&(V=""+w),x.key!==void 0&&(V=""+x.key),x.ref!==void 0&&(re=x.ref);for(B in x)y.call(x,B)&&!k.hasOwnProperty(B)&&(Z[B]=x[B]);if(P&&P.defaultProps)for(B in x=P.defaultProps,x)Z[B]===void 0&&(Z[B]=x[B]);return{$$typeof:m,type:P,key:V,ref:re,props:Z,_owner:_.current}}return Sa.Fragment=h,Sa.jsx=S,Sa.jsxs=S,Sa}var jd;function cp(){return jd||(jd=1,Bu.exports=up()),Bu.exports}var ah=cp();const l=ah.jsx,f=ah.jsxs,dp=(p,m)=>{switch(m.type){case"SET_USER_DETAILS":return{...p,...m.payload};case"SET_PATIENT_DETAILS":return{...p,...m.payload};case"SET_LOCATION":return{...p,...m.payload};default:return p}},hp={spineUrl:"https://127.0.0.1:5001",userPhotoUrl:null,user:null,userID:null,category:null,department:null,role:null,accessLevel:null,employer:null,branch:null,token:null,referenceLibrary:null,clinicianGrades:null,clinicianSpecialties:null,userState:null,allStates:[],serviceBranches:[],configurations:[]},kn=T.createContext(),fp=p=>{const m=localStorage.getItem("appState")?JSON.parse(localStorage.getItem("appState")):hp,[h,y]=T.useReducer(dp,m);T.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(h))},[h]);const _=async x=>{try{y({type:"SET_USER_DETAILS",payload:x})}catch(w){console.error("Failed to fetch staff details:",w)}},k=async x=>{try{y({type:"SET_PATIENT_DETAILS",payload:x})}catch(w){console.error("Failed to fetch patient details:",w)}},S=T.useCallback(async x=>{try{y({type:"SET_LOCATION",payload:x})}catch(w){console.error("Failed to update location:",w)}},[]),P=()=>{_({type:"SET_USER_DETAILS",payload:{}}),localStorage.removeItem("token"),localStorage.removeItem("appState")};return l(kn.Provider,{value:{state:h,dispatch:y,updateUser:_,updatePatient:k,updateLocation:S,logout:P},children:p.children})};function pp(){const{state:p,updateUser:m}=T.useContext(kn),{spineUrl:h,token:y}=p,[_,k]=T.useState({}),[S,P]=T.useState(!1),x=Sn();T.useEffect(()=>{const O=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(D=>{k(ue=>({...ue,latitude:D.coords.latitude,longitude:D.coords.longitude}))},D=>{console.error("Error fetching location:",D),alert("Unable to fetch location. Please enable location access.")}):alert("Geolocation is not supported by your browser.")};O();const F=setInterval(O,3e3);return()=>clearInterval(F)},[]);const w=async()=>{P(!0);try{if(!_.email||!_.password){alert("Please fill in all required fields.");return}console.log(h);const O=await fetch(`${h}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:_.dispensaryID,email:_.email,password:_.password,latitude:_.latitude,longitude:_.longitude})});if(O.ok){const F=await O.json();m(F.userData),x("/totp-page")}else{let F="An error occurred. Please try again.";try{F=(await O.json()).message||F}catch(D){console.error("Error parsing error response:",D)}alert(F),console.error("Failed to log in:",O.statusText)}}catch(O){console.error("Login error:",O),alert("An error occurred. Please check your network and try again."),alert(h)}finally{P(!1)}},B={backgroundColor:"orange",height:"100vh",width:"100vw",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},Z={width:"50%",gap:"20px"},V={},re={backgroundColor:"white",width:"50%",height:"1.5rem",borderRadius:"10px",margin:"10px",textAlign:"center",color:"green"},M={cursor:S?"wait":"default"};return f("div",{style:{...B,cursor:S?"wait":"default"},children:[l("h1",{style:{color:"green"},children:"PrescribeNg Staff Portal"}),f("div",{style:Z,children:[l("div",{style:V,children:l("input",{type:"email",style:re,value:_.email,onChange:O=>k({..._,email:O.target.value}),placeholder:"PrescribeNg Work Email'"})}),l("div",{style:V,children:l("input",{type:"password",style:re,value:_.password,onChange:O=>k({..._,password:O.target.value}),placeholder:"Password"})}),l("button",{style:M,onClick:w,children:"Login"})]})]})}function mp(){const{state:p,logout:m,updateUser:h}=T.useContext(kn),{spineUrl:y,token:_}=p,[k,S]=T.useState(""),P=Sn();return l("div",{style:{backgroundColor:"orange",color:"black",height:"100vh",width:"100vw",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:f("div",{style:{backgroundColor:"orange",width:"40%",height:"30%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:[l("input",{style:{backgroundColor:"white",color:"black",border:"none",borderRadius:"7px",width:"70%",height:"2.5rem",textAlign:"center"},value:k,onChange:F=>S(F.target.value),placeholder:"Enter 'TOTP' from sms/email"}),f("div",{style:{height:"40px",width:"50%",gap:"10px",marginTop:"30px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[l("span",{style:{height:"30px",width:"50px",color:"green",textDecoration:"underline",fontSize:"1.2rem",cursor:"pointer",margin:"10px"},onClick:async()=>{try{const F=await fetch(`${y}/auth/multifactor_authentication`,{method:"POST",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({totp:k})});if(console.log("Response Status:",F.status),F.ok){const D=await F.json();console.log("Received Data:",D),h({token:D.token}),P("/home")}else{const D=await F.json();alert(D.message)}}catch(F){console.error("Error validating OTP:",F)}},children:"Submit"}),l("span",{style:{height:"30px",width:"50px",color:"blue",textDecoration:"underline",fontSize:"1.2rem",cursor:"pointer"},onClick:()=>{m(),P("/")},children:"cancel"})]})]})})}var lh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zd=er.createContext&&er.createContext(lh),gp=["attr","size","title"];function vp(p,m){if(p==null)return{};var h=yp(p,m),y,_;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(p);for(_=0;_<k.length;_++)y=k[_],!(m.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(p,y)&&(h[y]=p[y])}return h}function yp(p,m){if(p==null)return{};var h={};for(var y in p)if(Object.prototype.hasOwnProperty.call(p,y)){if(m.indexOf(y)>=0)continue;h[y]=p[y]}return h}function ns(){return ns=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(p[y]=h[y])}return p},ns.apply(this,arguments)}function Wd(p,m){var h=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);m&&(y=y.filter(function(_){return Object.getOwnPropertyDescriptor(p,_).enumerable})),h.push.apply(h,y)}return h}function is(p){for(var m=1;m<arguments.length;m++){var h=arguments[m]!=null?arguments[m]:{};m%2?Wd(Object(h),!0).forEach(function(y){_p(p,y,h[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(h)):Wd(Object(h)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(h,y))})}return p}function _p(p,m,h){return m=wp(m),m in p?Object.defineProperty(p,m,{value:h,enumerable:!0,configurable:!0,writable:!0}):p[m]=h,p}function wp(p){var m=xp(p,"string");return typeof m=="symbol"?m:m+""}function xp(p,m){if(typeof p!="object"||!p)return p;var h=p[Symbol.toPrimitive];if(h!==void 0){var y=h.call(p,m);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(p)}function sh(p){return p&&p.map((m,h)=>er.createElement(m.tag,is({key:h},m.attr),sh(m.child)))}function To(p){return m=>er.createElement(Cp,ns({attr:is({},p.attr)},m),sh(p.child))}function Cp(p){var m=h=>{var{attr:y,size:_,title:k}=p,S=vp(p,gp),P=_||h.size||"1em",x;return h.className&&(x=h.className),p.className&&(x=(x?x+" ":"")+p.className),er.createElement("svg",ns({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},h.attr,y,S,{className:x,style:is(is({color:p.color||h.color},h.style),p.style),height:P,width:P,xmlns:"http://www.w3.org/2000/svg"}),k&&er.createElement("title",null,k),p.children)};return Zd!==void 0?er.createElement(Zd.Consumer,null,h=>m(h)):m(lh)}function Sp(p){return To({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(p)}function Hd(p){return To({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(p)}function kp(p){return To({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(p)}function Pp(p){return To({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(p)}function bo(p){return To({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(p)}function Vd(p){return To({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(p)}function bp(){const{state:p}=T.useContext(kn),{userState:m,user:h,userPhotoUrl:y,branch:_}=p,[k,S]=T.useState(!1),P=Sn(),x=Ea(),w=()=>{P("/")},B=()=>{P("")},Z=()=>f("div",{style:re.container,children:[f(Rn,{to:"",style:V(""),children:[l(Hd,{})," Home"]}),f(Rn,{to:"manage-administrators",style:V("manage-administrators"),children:[l(Vd,{})," Manage Administrators"]}),f(Rn,{to:"organisation-signup",style:V("organisation-signup"),children:[l(Pp,{})," Organisation Signup"]}),f(Rn,{to:"manage-organisations",style:V("manage-organisations"),children:[l(Vd,{})," Manage Dispensaries"]}),f(Rn,{to:"clinician-signup",style:V("clinician-signup"),children:[l(bo,{})," Clinician Signup-"]}),f(Rn,{to:"manage-clinicians",style:V("manage-clinicians"),children:[l(bo,{})," Manage Clinicians"]}),f(Rn,{to:"patient-signup",style:V("patient-signup"),children:[l(bo,{})," Patient Signup"]}),f(Rn,{to:"manage-patients",style:V("manage-patients"),children:[l(bo,{})," Manage Patients"]}),f(Rn,{to:"prescribeng-services",style:V("prescribeng-services"),children:[l(bo,{})," Manage Services"]}),f(Rn,{to:"ambulance-fleet",style:V("ambulance-fleet"),children:[l(bo,{})," Ambulance Call Centre"]}),f(Rn,{to:"notifications",style:V("notifications"),children:[l(Sp,{})," Notifications"]})]}),V=O=>x.pathname.split("/").pop()===O?{...re.general,backgroundColor:"#3498db"}:re.general,re={container:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"20px"},general:{display:"flex",alignItems:"center",color:"white",backgroundColor:"#333",padding:"12px 18px",margin:"10px 0",textDecoration:"none",borderRadius:"8px",width:"90%",justifyContent:"center",fontSize:"1.1rem",transition:"background-color 0.3s ease"}},M={page:{color:"black",height:"100vh",width:"100vw",overflowY:"hidden",display:"flex"},header:{position:"sticky",top:"15px",color:"#333",height:"10vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},headerText:{fontSize:"1.3rem",fontWeight:"bold"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},logoutButton:{position:"absolute",top:"10px",right:"50px",backgroundColor:"#FF4747",color:"white",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontSize:"1.1rem",border:"none",transition:"background-color 0.3s ease"},sideBar:{height:"95vh",width:"220px",backgroundColor:"#2c3e50",color:"white",margin:"15px",borderRadius:"10px",paddingLeft:"20px",paddingRight:"20px",borderTopRightRadius:"10px",borderBottomRightRadius:"10px",overflowY:"auto"},displayBoard:{flex:1,marginLeft:"0px",padding:"20px",backgroundColor:"#ecf0f1",height:"94vh"}};return f("div",{style:{...M.page,cursor:k?"wait":"default"},children:[f("div",{style:M.sideBar,children:[l("div",{style:M.photoContainer,children:y?l("img",{src:y,style:M.image,alt:"User's photo"}):l("div",{style:M.placeholderText,children:"Photo Not Found"})}),l("p",{style:{position:"sticky",top:"170px",backgroundColor:"#2c3e50"},children:f("strong",{children:["User: ",h," (",m,")"]})}),Z()]}),f("div",{style:M.displayBoard,children:[l("div",{style:M.header,children:f("p",{style:M.headerText,children:[l(Hd,{style:{cursor:"pointer"},onClick:B}),"/",x.pathname.split("/").pop()]})}),l(qf,{})]}),f("button",{onClick:w,style:M.logoutButton,children:[l(kp,{})," Logout"]})]})}const Ru=[{id:1,title:"PRESCRIBE.NG",subtitle:"Highly versitile and adaptable medical referral system for al kinds of medical referrals",image:"/images/welcome.jpg"},{id:2,title:"Cutting-Edge Medical Referrals",subtitle:"Connecting Physicians and Patients Effortlessly",image:"/images/referral.jpg"},{id:3,title:"Partner with Us",subtitle:"Innovative Healthcare Solutions for Every Community",image:"/images/partner.jpg"},{id:4,title:"Join the Future of Healthcare referrals in the UK",subtitle:"Highly-adaptable. Hassle-free. Minimal clicks. Seamless. Highly secure.",image:"/images/future.jpg"}],Tp=()=>{const[p,m]=T.useState(0);T.useEffect(()=>{const w=setInterval(()=>{m(B=>(B+1)%Ru.length)},8e3);return()=>clearInterval(w)},[]);const h={position:"relative",width:"100%",height:"80vh",overflow:"hidden"},y=(w,B)=>({position:"absolute",width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${w})`,backgroundColor:"white",opacity:B?1:0,transform:B?"translateX(0)":"translateX(100%)",transition:"all 1s ease-in-out"}),_={position:"absolute",bottom:"20%",left:"10%",color:"white",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.5)"},k={fontSize:"3rem",margin:0},S={fontSize:"1.5rem",marginTop:"10px"},P={position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",display:"flex"},x=w=>({width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"white",margin:"0 5px",cursor:"pointer",opacity:w?1:.5,transition:"opacity 0.3s ease"});return f("div",{style:h,children:[Ru.map((w,B)=>l("div",{style:y(w.image,B===p),children:f("div",{style:_,children:[l("h1",{style:k,children:w.title}),l("p",{style:S,children:w.subtitle})]})},w.id)),l("div",{style:P,children:Ru.map((w,B)=>l("span",{style:x(B===p),onClick:()=>m(B)},B))})]})};var es={exports:{}},Ep=es.exports,$d;function Lp(){return $d||($d=1,function(p,m){(function(y,_){p.exports=_(rs())})(Ep,function(h){return function(y){var _={};function k(S){if(_[S])return _[S].exports;var P=_[S]={i:S,l:!1,exports:{}};return y[S].call(P.exports,P,P.exports,k),P.l=!0,P.exports}return k.m=y,k.c=_,k.d=function(S,P,x){k.o(S,P)||Object.defineProperty(S,P,{enumerable:!0,get:x})},k.r=function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},k.t=function(S,P){if(P&1&&(S=k(S)),P&8||P&4&&typeof S=="object"&&S&&S.__esModule)return S;var x=Object.create(null);if(k.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:S}),P&2&&typeof S!="string")for(var w in S)k.d(x,w,(function(B){return S[B]}).bind(null,w));return x},k.n=function(S){var P=S&&S.__esModule?function(){return S.default}:function(){return S};return k.d(P,"a",P),P},k.o=function(S,P){return Object.prototype.hasOwnProperty.call(S,P)},k.p="",k(k.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(y,_,k){k.r(_);var S=k("react"),P=function(){var V=function(re,M){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,F){O.__proto__=F}||function(O,F){for(var D in F)F.hasOwnProperty(D)&&(O[D]=F[D])},V(re,M)};return function(re,M){V(re,M);function O(){this.constructor=re}re.prototype=M===null?Object.create(M):(O.prototype=M.prototype,new O)}}(),x=function(){return x=Object.assign||function(V){for(var re,M=1,O=arguments.length;M<O;M++){re=arguments[M];for(var F in re)Object.prototype.hasOwnProperty.call(re,F)&&(V[F]=re[F])}return V},x.apply(this,arguments)},w=function(V,re){var M={};for(var O in V)Object.prototype.hasOwnProperty.call(V,O)&&re.indexOf(O)<0&&(M[O]=V[O]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var F=0,O=Object.getOwnPropertySymbols(V);F<O.length;F++)re.indexOf(O[F])<0&&Object.prototype.propertyIsEnumerable.call(V,O[F])&&(M[O[F]]=V[O[F]]);return M};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(re){var M=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return M?new Promise(function(O,F){M.call(navigator,re,O,F)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function B(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var Z=function(V){P(re,V);function re(M){var O=V.call(this,M)||this;return O.canvas=null,O.ctx=null,O.requestUserMediaId=0,O.unmounted=!1,O.state={hasUserMedia:!1},O}return re.prototype.componentDidMount=function(){var M=this,O=M.state,F=M.props;if(this.unmounted=!1,!B()){F.onUserMediaError("getUserMedia not supported");return}O.hasUserMedia||this.requestUserMedia(),F.children&&typeof F.children!="function"&&console.warn("children must be a function")},re.prototype.componentDidUpdate=function(M){var O=this.props;if(!B()){O.onUserMediaError("getUserMedia not supported");return}var F=JSON.stringify(M.audioConstraints)!==JSON.stringify(O.audioConstraints),D=JSON.stringify(M.videoConstraints)!==JSON.stringify(O.videoConstraints),ue=M.minScreenshotWidth!==O.minScreenshotWidth,te=M.minScreenshotHeight!==O.minScreenshotHeight;(D||ue||te)&&(this.canvas=null,this.ctx=null),(F||D)&&(this.stopAndCleanup(),this.requestUserMedia())},re.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},re.stopMediaStream=function(M){M&&(M.getVideoTracks&&M.getAudioTracks?(M.getVideoTracks().map(function(O){M.removeTrack(O),O.stop()}),M.getAudioTracks().map(function(O){M.removeTrack(O),O.stop()})):M.stop())},re.prototype.stopAndCleanup=function(){var M=this.state;M.hasUserMedia&&(re.stopMediaStream(this.stream),M.src&&window.URL.revokeObjectURL(M.src))},re.prototype.getScreenshot=function(M){var O=this,F=O.state,D=O.props;if(!F.hasUserMedia)return null;var ue=this.getCanvas(M);return ue&&ue.toDataURL(D.screenshotFormat,D.screenshotQuality)},re.prototype.getCanvas=function(M){var O=this,F=O.state,D=O.props;if(!this.video||!F.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var ue=this.video.videoWidth,te=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var me=ue/te;ue=D.minScreenshotWidth||this.video.clientWidth,te=ue/me,D.minScreenshotHeight&&te<D.minScreenshotHeight&&(te=D.minScreenshotHeight,ue=te*me)}this.canvas=document.createElement("canvas"),this.canvas.width=(M==null?void 0:M.width)||ue,this.canvas.height=(M==null?void 0:M.height)||te,this.ctx=this.canvas.getContext("2d")}var Te=this,Re=Te.ctx,Ie=Te.canvas;return Re&&Ie&&(Ie.width=(M==null?void 0:M.width)||Ie.width,Ie.height=(M==null?void 0:M.height)||Ie.height,D.mirrored&&(Re.translate(Ie.width,0),Re.scale(-1,1)),Re.imageSmoothingEnabled=D.imageSmoothing,Re.drawImage(this.video,0,0,(M==null?void 0:M.width)||Ie.width,(M==null?void 0:M.height)||Ie.height),D.mirrored&&(Re.scale(-1,1),Re.translate(-Ie.width,0))),Ie},re.prototype.requestUserMedia=function(){var M=this,O=this.props,F=function(te,me){var Te={video:typeof me<"u"?me:!0};O.audio&&(Te.audio=typeof te<"u"?te:!0),M.requestUserMediaId++;var Re=M.requestUserMediaId;navigator.mediaDevices.getUserMedia(Te).then(function(Ie){M.unmounted||Re!==M.requestUserMediaId?re.stopMediaStream(Ie):M.handleUserMedia(null,Ie)}).catch(function(Ie){M.handleUserMedia(Ie)})};if("mediaDevices"in navigator)F(O.audioConstraints,O.videoConstraints);else{var D=function(te){return{optional:[{sourceId:te}]}},ue=function(te){var me=te.deviceId;return typeof me=="string"?me:Array.isArray(me)&&me.length>0?me[0]:typeof me=="object"&&me.ideal?me.ideal:null};MediaStreamTrack.getSources(function(te){var me=null,Te=null;te.forEach(function(R){R.kind==="audio"?me=R.id:R.kind==="video"&&(Te=R.id)});var Re=ue(O.audioConstraints);Re&&(me=Re);var Ie=ue(O.videoConstraints);Ie&&(Te=Ie),F(D(me),D(Te))})}},re.prototype.handleUserMedia=function(M,O){var F=this.props;if(M||!O){this.setState({hasUserMedia:!1}),F.onUserMediaError(M);return}this.stream=O;try{this.video&&(this.video.srcObject=O),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(O)})}F.onUserMedia(O)},re.prototype.render=function(){var M=this,O=this,F=O.state,D=O.props,ue=D.audio;D.forceScreenshotSourceSize;var te=D.disablePictureInPicture;D.onUserMedia,D.onUserMediaError,D.screenshotFormat,D.screenshotQuality,D.minScreenshotWidth,D.minScreenshotHeight,D.audioConstraints,D.videoConstraints,D.imageSmoothing;var me=D.mirrored,Te=D.style,Re=Te===void 0?{}:Te,Ie=D.children,R=w(D,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),z=me?x(x({},Re),{transform:(Re.transform||"")+" scaleX(-1)"}):Re,q={getScreenshot:this.getScreenshot.bind(this)};return S.createElement(S.Fragment,null,S.createElement("video",x({autoPlay:!0,disablePictureInPicture:te,src:F.src,muted:!ue,playsInline:!0,ref:function(ne){M.video=ne},style:z},R)),Ie&&Ie(q))},re.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},re}(S.Component);_.default=Z},react:function(y,_){y.exports=h}}).default})}(es)),es.exports}var Op=Lp();const La=Uu(Op);function Np(){const{state:p}=T.useContext(kn),{spineUrl:m,token:h,accessLevel:y,allStates:_,department:k,referenceLibrary:S}=p,[P,x]=T.useState([]),[w,B]=T.useState("home"),[Z,V]=T.useState("view-mode"),[re,M]=T.useState({}),[O,F]=T.useState([]),[D,ue]=T.useState({}),[te,me]=T.useState(""),[Te,Re]=T.useState(""),[Ie,R]=T.useState(""),[z,q]=T.useState(""),[ne,Be]=T.useState("");Sn();const[ge,oe]=T.useState(!1),[je,ie]=T.useState(!1),[Ce,W]=T.useState(!1),[ye,J]=T.useState("table"),[E,X]=T.useState({}),[be,ke]=T.useState([]);T.useEffect(()=>{(async()=>{oe(!0);try{const Y=await fetch(`${m}/organisations/fetch_dispensaries?state=${encodeURIComponent(z)}&locality=${encodeURIComponent(ne)}&category=${encodeURIComponent(Te)}&approvalStatus=${encodeURIComponent(Ie)}&q=${encodeURIComponent(te)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(Y.ok){const Q=await Y.json();F(Q.dispensaries)}else{const Q=await Y.json();alert(Q.message)}}catch(Y){console.error("Error fetching dispensaries:",Y),alert("could not fetch dispensaries")}finally{oe(!1)}})()},[m,z,ne,Te,Ie,te,je]),T.useEffect(()=>{(async()=>{oe(!0);try{const Y=await fetch(`${m}/organisations/fetch_approved_localities?state=${encodeURIComponent(z)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(Y.ok){const Q=await Y.json();x(Q.localities),ie(Oe=>!Oe)}else{const Q=await Y.json();alert(Q.message)}}catch(Y){console.error("Error fetching approved localities:",Y),alert("could not fetch approved localities")}finally{oe(!1)}})()},[m,z]);const Pe=A=>{ue(A),B("organisationDashboard")},_e=async()=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Do you want to go ahead?")){alert("Action cancelled!");return}try{const Y=await fetch(`${m}/organisations/update_bank_details`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(D)});if(Y.ok){const Q=await Y.json();alert(Q.message)}else{const Q=await Y.json();alert(Q.message)}}catch(Y){console.error("Submission error:",Y),alert("An error occurred creating new service")}},de=async A=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Do you want to go ahead?")){alert("Action cancelled!");return}try{const Q=await fetch(`${m}/organisations/modify_dispensary`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:D.dispensaryID,action:A})});if(Q.ok){const Oe=await Q.json();alert(Oe.message)}else{const Oe=await Q.json();alert(Oe.message)}}catch(Q){console.error("Submission error:",Q),alert("An error occurred creating new service")}},He=async()=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Ensure organisation has sent a request through their official email and copied at least one of the key persons, who should have also responded. Organisation's whitelisted IP addresses will be deleted and a new IP address set for the main branch. Do you want to go ahead?")){alert("Action cancelled!");return}const Y=prompt("Provide new IPv4 address");if(!Y){alert("No IPv4 Uploaded!");return}try{const Q=await fetch(`${m}/organisations/reset_network`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:D.dispensaryID,newIP:Y})});if(Q.ok){const Oe=await Q.json();alert(Oe.message)}else{const Oe=await Q.json();alert(Oe.message)}}catch(Q){console.error("Submission error:",Q),alert("An error occurred creating new service")}};T.useRef(null);const he=A=>new Promise((Y,Q)=>{const Oe=new FileReader;Oe.onloadend=()=>Y(Oe.result.split(",")[1]),Oe.onerror=Q,Oe.readAsDataURL(A)}),we=async()=>{if(!confirm("Confirm Image Upload")){alert("New Patient creation cancelled!"),ue({...D,newLogo:null});return}const Y=D.newLogo;if(Y){const Q=new FileReader;Q.onloadend=async()=>{const Oe=Q.result.split(",")[1];try{const Et=await fetch(`${m}/organisations/logo_upload`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:D.dispensaryID,newLogo:Oe})});if(Et.ok){const Lt=await Et.json();Lt.newLogoUrl&&ue({...D,logoUrl:Lt.newLogoUrl}),B("organisationDashboard"),ue({...D,newLogo:null})}else{const Lt=await Et.json();alert(Lt.message)}}catch(Et){console.error("Submission error:",Et),alert("An error occurred while uploading the new logo")}},Q.readAsDataURL(Y)}else alert("No image selected!")},Ue=A=>{const{name:Y,type:Q,files:Oe}=A.target;if(Q==="file"){const Et=Array.from(Oe);ke(Lt=>({...Lt,[Y]:[...Lt[Y]||[],...Et]}))}},tt=A=>{ke(Y=>{const Q=[...Y.uploads];return Q.splice(A,1),{uploads:Q}})},ve=async()=>{if(confirm("Confirm submission")){const Y=await Promise.all(be.uploads.map(async Q=>{const Oe=await he(Q);return{name:Q.name,content:Oe}}));try{const Q=await fetch(`${m}/organisations/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:D.dispensaryID,registrationNumber:D.registrationNumber,uploads:Y})});if(Q.ok){const Oe=await Q.json();ue({...D,documents:Oe.documents}),J("table")}else{const Oe=await Q.json();alert(Oe.message)}}catch(Q){console.error("File upload error:",Q),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},Ht=async()=>{if(!E.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const Y=await fetch(`${m}/organisations/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:D.dispensaryID,registrationNumber:D.registrationNumber,fileKey:E.fileKey,validity:E.validity,verification:"verified"})});if(Y.ok){const Q=await Y.json();ue({...D,documents:Q.documents}),J("table"),W(!1)}else{const Q=await Y.json();alert(Q.message)}}catch(Y){console.error("File verification error:",Y),alert("An error occurred uploading files")}},pe=async()=>{if(!E.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const Y=await fetch(`${m}/organisations/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:D.dispensaryID,registrationNumber:D.registrationNumber,fileKey:E.fileKey,validity:E.validity,verification:"unverified"})});if(Y.ok){const Q=await Y.json();ue({...D,documents:Q.documents}),J("table"),W(!1)}else{const Q=await Y.json();alert(Q.message)}}catch(Y){console.error("File verification error:",Y),alert("An error occurred uploading files")}},ee={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},profileContainer:{width:"90%",height:"60vh",textAlign:"left",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer",margin:"5px"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},specialOptions:{display:y<=3?"inline-block":"none"},image:{height:"100%",width:"100%",objectFit:"cover"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"300px",width:"300px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden",marginRight:"20px"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"300px",width:"300px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"grey",position:"sticky",top:"0px",zIndex:2e3},serviceTypeSelector:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"25%",height:"25px",top:"120px"},searchContainer:{backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"25%",height:"25px",top:"120px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:Ce?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},$=A=>({backgroundColor:A%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return f("div",{style:{cursor:ge?"progress":"default"},children:[w==="home"&&f("div",{children:[l("h2",{children:"PRESCRIBENG SERVICES SECTION"}),f("div",{style:ee.TCBody,children:[l("h3",{children:"WARNING"}),l("p",{children:"This page is strictly for personnels of the medical department and includes the following roles: doctor, nurse, pharmacies, radiographers, laboratory scientist"}),l("p",{children:"If you do not belong to the medical department and one of the mentioned roles, exit the page immediately and report to the technical team."})]}),l("span",{style:ee.TCButton,onClick:()=>B("tableHome"),children:"View Organisations"})]}),w==="tableHome"&&l("div",{children:l("div",{style:ee.container,children:f("div",{style:ee.tableContainer,children:[f("div",{style:ee.searchContainer,children:[f("select",{style:ee.serviceTypeSelector,value:Te,onChange:A=>Re(A.target.value),children:[l("option",{value:"",children:"Select Organisation Category"}),l("option",{value:"ambulance",children:"Ambulance Company"}),l("option",{value:"clinic",children:"Clinic"}),l("option",{value:"hospital",children:"Hospital"}),l("option",{value:"pharmacy",children:"Pharmacy"}),l("option",{value:"sponsor",children:"Sponsor Organisation"}),l("option",{style:ee.specialOptions,value:"authority",children:"Authority"})]}),f("select",{style:ee.serviceTypeSelector,value:Ie,onChange:A=>R(A.target.value),children:[l("option",{value:"",children:"Select Status"}),l("option",{value:"approved",children:"Approved Partners"}),l("option",{value:"unapproved",children:"New Partners"}),l("option",{value:"suspended",children:"Suspended"}),l("option",{value:"reported",children:"Under Investigation"}),l("option",{value:"banned",children:"Banned"})]}),f("select",{style:ee.serviceTypeSelector,value:z,onChange:A=>q(A.target.value),children:[l("option",{value:"",children:"Select State"}),_.map(A=>l("option",{children:A},A))]}),f("select",{style:ee.serviceTypeSelector,value:ne,onChange:A=>Be(A.target.value),children:[l("option",{value:"",children:"Select Locality"}),P.map(A=>l("option",{children:A},A))]}),l("input",{style:ee.searchField,value:te,onChange:A=>me(A.target.value),placeholder:"Search here for services"}),l("span",{onClick:()=>B("home"),style:{position:"relative",top:"0px",right:"0px",textAlign:"right"},children:"Close"})]}),f("table",{style:{width:"100%"},children:[l("thead",{style:ee.thead,children:f("tr",{children:[l("th",{children:"S/N"}),l("th",{children:"Organisation"}),l("th",{children:"Category"}),l("th",{children:"Dispensary ID"}),l("th",{children:"State"}),l("th",{children:"Locality"}),l("th",{children:"Email"}),l("th",{children:"Status"})]})}),l("tbody",{children:O.map((A,Y)=>f("tr",{style:$(Y),onClick:()=>Pe(A),children:[l("td",{children:Y+1}),l("td",{children:A.organisation}),l("td",{children:A.category}),l("td",{children:A.dispensaryID}),l("td",{children:A.state}),l("td",{children:A.locality}),l("td",{children:A.organisationEmail}),l("td",{children:A.approvalStatus})]},A))})]})]})})}),w==="organisationDashboard"&&l("div",{children:f("div",{style:ee.profileContainer,children:[l("h3",{children:D.organisation.toUpperCase()}),f("div",{style:{display:"flex",flexDirection:"row",height:"80%"},children:[f("div",{children:[l("div",{style:ee.photoContainer,children:D.logoUrl?l("img",{src:D.logoUrl,style:ee.image,alt:"User's photo"}):l("div",{style:ee.placeholderText,children:"Photo Not Found"})}),l("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>B("Logo Upload"),children:"Upload Logo"})]}),f("div",{style:{width:"35%",height:"100%",overflowY:"auto"},children:[f("p",{children:[l("strong",{children:"Category: "}),D.category]}),f("p",{children:[l("strong",{children:"Organisation Email: "}),D.organisationEmail]}),f("p",{children:[l("strong",{children:"Telephone: "}),D.telephone]}),f("p",{children:[l("strong",{children:"Status: "}),D.approvalStatus]}),f("p",{children:[l("strong",{children:"Added On: "}),D.createdOn]}),f("p",{children:[l("strong",{children:"Added By: "}),D.createdBy]}),f("p",{style:{display:D.approvalStatus==="approved"?"inline-block":"none"},children:[l("strong",{children:"Approved By: "}),D.approvedBy]}),l("br",{})]}),f("div",{style:{height:"100%",display:"flex",flexDirection:"column",width:"35%",overflowY:"auto",marginLeft:"30px"},children:[l("h3",{children:"Key Persons"}),D.keyPersons.map((A,Y)=>f("div",{style:{lineHeight:"0.5",borderRadius:"10px",backgroundColor:"#F9F9F9",display:"inline-block",marginBottom:"10px"},children:[l("p",{children:A.name}),f("p",{children:["Role: ",A.role]}),f("p",{children:["Email: ",A.email]})]},Y))]})]}),l("button",{style:{...ee.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>de("approved"),children:"Approve"}),l("button",{style:{...ee.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>de("suspended"),children:"Suspend"}),l("button",{style:{...ee.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>de("reported"),children:"Report"}),l("button",{style:{...ee.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>de("banned"),children:"Ban"}),l("button",{style:{...ee.button,display:y===1||k==="IT"&&y<=4?"inline-block":"none"},onClick:He,children:"Reset Network"}),l("button",{style:{...ee.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>B("Bank Details"),children:"Bank Details"}),l("button",{style:{...ee.button},onClick:()=>B("Documents"),children:"Documents"}),l("button",{style:{...ee.button},onClick:()=>{B("tableHome"),ie(A=>!A)},children:"Back"})]})}),w==="Bank Details"&&f("div",{children:[" ",f("div",{style:ee.profileContainer,children:[l("h3",{children:D.organisation.toUpperCase()}),"Bank Details Will be managed here",f("div",{style:{display:"flex",flexDirection:"row",height:"80%"},children:[l("div",{children:l("div",{style:ee.photoContainer,children:D.logoUrl?l("img",{src:D.logoUrl,style:ee.image,alt:"User's photo"}):l("div",{style:ee.placeholderText,children:"Photo Not Found"})})}),f("div",{style:{width:"65%",height:"100%",overflowY:"auto"},children:[Z==="view-mode"&&f("div",{children:[f("p",{children:[l("strong",{children:"Bank: "}),D.bank]}),f("p",{children:[l("strong",{children:"Bank Code: "}),D.bankCode]}),f("p",{children:[l("strong",{children:"Nuban: "}),D.nuban]}),f("p",{children:[l("strong",{children:"Sort Code: "}),D.sortCode]}),l("span",{style:ee.TCButton,onClick:()=>V("edit-mode"),children:"Edit"})]}),Z==="edit-mode"&&f("div",{children:[f("p",{children:[l("strong",{children:"Bank: "}),l("input",{style:{backgroundColor:"white",color:"black"},value:D.bank,onChange:A=>ue({...D,bank:A.target.value})})]}),f("p",{children:[l("strong",{children:"Bank Code: "}),l("input",{style:{backgroundColor:"white",color:"black"},value:D.bankCode,onChange:A=>ue({...D,bankCode:A.target.value})})]}),f("p",{children:[l("strong",{children:"Nuban: "}),l("input",{style:{backgroundColor:"white",color:"black"},value:D.nuban,onChange:A=>ue({...D,nuban:A.target.value})})]}),f("p",{children:[l("strong",{children:"Sort Code: "}),l("input",{style:{backgroundColor:"white",color:"black"},value:D.sortCode,onChange:A=>ue({...D,sortCode:A.target.value})})]}),l("span",{style:ee.TCButton,onClick:_e,children:"Update Bank Details"})]})]})]})]}),l("span",{style:ee.TCButton,onClick:()=>{B("organisationDashboard"),V("view-mode")},children:"Back"})]}),w==="logo upload"&&f("div",{children:[" ",l("div",{style:ee.profileContainer,children:"Logo Will be upload through this page"}),l("span",{style:ee.TCButton,onClick:()=>B("organisationDashboard"),children:"Back"})]}),w==="Logo Upload"&&l("div",{style:{width:"100%"},children:l("div",{style:ee.profileContainer,children:f("div",{style:{display:"flex",flexDirection:"row"},children:[f("div",{style:{...ee.section,marginRight:"20px"},children:[f("h3",{children:["Logo Preview for ",D.organisation]}),l("div",{style:ee.photoContainer2,children:D.newLogo?l("img",{src:D.newLogo,alt:"Captured",width:400}):l("div",{style:ee.placeholderText,children:"No Logo Uploaded"})}),l("div",{children:l("input",{type:"file",onChange:A=>ue({...D,newLogo:A.target.files[0]})})}),l("button",{style:ee.button,onClick:we,children:"Upload"}),l("button",{style:ee.button,onClick:()=>{B("organisationDashboard"),ue({...D,newLogo:null})},children:"Back"})]}),l("div",{style:{...ee.section},children:l("p",{children:"Write up and warnings about Logo Upload"})})]})})}),w==="Documents"&&l("div",{style:{width:"100%"},children:f("div",{style:ee.profileContainer,children:[ye==="table"&&f("div",{style:{...ee.section,width:"100%"},children:[l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:ee.table,children:[l("thead",{style:ee.thead,children:f("tr",{children:[l("th",{children:"Document"}),l("th",{children:"Validity"}),l("th",{children:"Verification"}),l("th",{children:"Action"})]})}),l("tbody",{children:D.documents&&D.documents.length>0?D.documents.map((A,Y)=>f("tr",{children:[l("td",{children:A.fileName}),l("td",{children:A.validity||"not set"}),l("td",{children:A.verification||"unverified"}),l("td",{children:l("button",{onClick:()=>{J("iframe"),X(A)},children:"View"})})]},Y)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),l("button",{onClick:()=>{B("organisationDashboard")},children:"Close"}),l("button",{onClick:()=>{J("upload")},children:"Upload Document"})]}),ye==="iframe"&&l("div",{style:{...ee.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:Ce?"none":"auto"},children:f("div",{children:[l("span",{style:ee.topCloseButton,onClick:()=>{J("table"),E({}),W(!1)},children:"Close"}),l("iframe",{style:{height:"60vh",width:"100%"},src:E.fileUrl}),f("div",{style:ee.docVerificationOverlay,children:[f("div",{children:[l("h3",{children:"When does this document expire?"}),l("input",{style:ee.input,type:"date",value:E.validity||"",onChange:A=>X({...E,validity:A.target.value})}),l("button",{style:{...ee.button,display:E.verification==="unverified"?"inline-block":"none"},onClick:Ht,children:"Verify"}),l("button",{style:{...ee.button,display:E.verification==="verified"?"inline-block":"none"},onClick:pe,children:"De-Verify"})]}),l("span",{style:ee.topCloseButton,onClick:()=>W(!1),children:"Close"})]}),l("button",{style:{...ee.button,display:E.verification==="verified"?"none":"inline-block"},onClick:()=>W(!0),children:"Verify"}),l("button",{style:{...ee.button,display:E.verification==="verified"&&y<=3?"inline-block":"none"},onClick:()=>W(!0),children:"De-Verify"})]})}),ye==="upload"&&f("div",{style:{...ee.section,width:"100%"},children:[f("div",{style:ee.uploadfield,children:[f("div",{style:ee.uploadInput,children:[l("label",{children:"Upload File"}),l("input",{name:"uploads",type:"file",onChange:Ue,multiple:!0})]}),l("div",{style:ee.uploadedFiles,children:be.uploads&&be.uploads.length>0?be.uploads.map((A,Y)=>f("div",{style:ee.uploadItem,children:[f("span",{children:[Y+1,". ",A.name]}),l("span",{style:ee.removeFileButton,onClick:()=>tt(Y),children:"X"})]},Y)):l("p",{children:"No files uploaded yet."})})]}),l("button",{onClick:()=>{J("table"),ke([])},children:"Back"}),l("button",{style:{display:be.uploads?"inline-block":"none"},onClick:ve,children:"Upload"})]})]})})]})}function uh(p,m){const h=T.useRef(m);T.useEffect(function(){m!==h.current&&p.attributionControl!=null&&(h.current!=null&&p.attributionControl.removeAttribution(h.current),m!=null&&p.attributionControl.addAttribution(m)),h.current=m},[p,m])}const Mp=1;function zp(p){return Object.freeze({__version:Mp,map:p})}function Ip(p,m){return Object.freeze({...p,...m})}const ch=T.createContext(null),dh=ch.Provider;function hh(){const p=T.useContext(ch);if(p==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return p}function Bp(p){function m(h,y){const{instance:_,context:k}=p(h).current;return T.useImperativeHandle(y,()=>_),h.children==null?null:l(dh,{value:k,children:h.children})}return T.forwardRef(m)}function Rp(p){function m(h,y){const[_,k]=T.useState(!1),{instance:S}=p(h,k).current;T.useImperativeHandle(y,()=>S),T.useEffect(function(){_&&S.update()},[S,_,h.children]);const P=S._contentNode;return P?of.createPortal(h.children,P):null}return T.forwardRef(m)}function Ap(p){function m(h,y){const{instance:_}=p(h).current;return T.useImperativeHandle(y,()=>_),null}return T.forwardRef(m)}function fh(p,m){const h=T.useRef();T.useEffect(function(){return m!=null&&p.instance.on(m),h.current=m,function(){h.current!=null&&p.instance.off(h.current),h.current=null}},[p,m])}function Hu(p,m){const h=p.pane??m.pane;return h?{...p,pane:h}:p}function Dp(p,m){return function(y,_){const k=hh(),S=p(Hu(y,k),k);return uh(k.map,y.attribution),fh(S.current,y.eventHandlers),m(S.current,k,y,_),S}}var ka={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Fp=ka.exports,Gd;function Up(){return Gd||(Gd=1,function(p,m){(function(h,y){y(m)})(Fp,function(h){var y="1.9.4";function _(t){var i,o,s,d;for(o=1,s=arguments.length;o<s;o++){d=arguments[o];for(i in d)t[i]=d[i]}return t}var k=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function S(t,i){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var s=o.call(arguments,2);return function(){return t.apply(i,s.length?s.concat(o.call(arguments)):arguments)}}var P=0;function x(t){return"_leaflet_id"in t||(t._leaflet_id=++P),t._leaflet_id}function w(t,i,o){var s,d,v,b;return b=function(){s=!1,d&&(v.apply(o,d),d=!1)},v=function(){s?d=arguments:(t.apply(o,arguments),setTimeout(b,i),s=!0)},v}function B(t,i,o){var s=i[1],d=i[0],v=s-d;return t===s&&o?t:((t-d)%v+v)%v+d}function Z(){return!1}function V(t,i){if(i===!1)return t;var o=Math.pow(10,i===void 0?6:i);return Math.round(t*o)/o}function re(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function M(t){return re(t).split(/\s+/)}function O(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?k(t.options):{});for(var o in i)t.options[o]=i[o];return t.options}function F(t,i,o){var s=[];for(var d in t)s.push(encodeURIComponent(o?d.toUpperCase():d)+"="+encodeURIComponent(t[d]));return(!i||i.indexOf("?")===-1?"?":"&")+s.join("&")}var D=/\{ *([\w_ -]+) *\}/g;function ue(t,i){return t.replace(D,function(o,s){var d=i[s];if(d===void 0)throw new Error("No value provided for variable "+o);return typeof d=="function"&&(d=d(i)),d})}var te=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function me(t,i){for(var o=0;o<t.length;o++)if(t[o]===i)return o;return-1}var Te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Re(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Ie=0;function R(t){var i=+new Date,o=Math.max(0,16-(i-Ie));return Ie=i+o,window.setTimeout(t,o)}var z=window.requestAnimationFrame||Re("RequestAnimationFrame")||R,q=window.cancelAnimationFrame||Re("CancelAnimationFrame")||Re("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ne(t,i,o){if(o&&z===R)t.call(i);else return z.call(window,S(t,i))}function Be(t){t&&q.call(window,t)}var ge={__proto__:null,extend:_,create:k,bind:S,get lastId(){return P},stamp:x,throttle:w,wrapNum:B,falseFn:Z,formatNum:V,trim:re,splitWords:M,setOptions:O,getParamString:F,template:ue,isArray:te,indexOf:me,emptyImageUrl:Te,requestFn:z,cancelFn:q,requestAnimFrame:ne,cancelAnimFrame:Be};function oe(){}oe.extend=function(t){var i=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=i.__super__=this.prototype,s=k(o);s.constructor=i,i.prototype=s;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(i[d]=this[d]);return t.statics&&_(i,t.statics),t.includes&&(je(t.includes),_.apply(null,[s].concat(t.includes))),_(s,t),delete s.statics,delete s.includes,s.options&&(s.options=o.options?k(o.options):{},_(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,b=s._initHooks.length;v<b;v++)s._initHooks[v].call(this)}},i},oe.include=function(t){var i=this.prototype.options;return _(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},oe.mergeOptions=function(t){return _(this.prototype.options,t),this},oe.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function je(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=te(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ie={on:function(t,i,o){if(typeof t=="object")for(var s in t)this._on(s,t[s],i);else{t=M(t);for(var d=0,v=t.length;d<v;d++)this._on(t[d],i,o)}return this},off:function(t,i,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var s in t)this._off(s,t[s],i);else{t=M(t);for(var d=arguments.length===1,v=0,b=t.length;v<b;v++)d?this._off(t[v]):this._off(t[v],i,o)}return this},_on:function(t,i,o,s){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,o)===!1){o===this&&(o=void 0);var d={fn:i,ctx:o};s&&(d.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(d)}},_off:function(t,i,o){var s,d,v;if(this._events&&(s=this._events[t],!!s)){if(arguments.length===1){if(this._firingCount)for(d=0,v=s.length;d<v;d++)s[d].fn=Z;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var b=this._listens(t,i,o);if(b!==!1){var U=s[b];this._firingCount&&(U.fn=Z,this._events[t]=s=s.slice()),s.splice(b,1)}}},fire:function(t,i,o){if(!this.listens(t,o))return this;var s=_({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var v=0,b=d.length;v<b;v++){var U=d[v],G=U.fn;U.once&&this.off(t,G,U.ctx),G.call(U.ctx||this,s)}this._firingCount--}}return o&&this._propagateEvent(s),this},listens:function(t,i,o,s){typeof t!="string"&&console.warn('"string" type argument expected');var d=i;typeof i!="function"&&(s=!!i,d=void 0,o=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,d,o)!==!1)return!0;if(s){for(var b in this._eventParents)if(this._eventParents[b].listens(t,i,o,s))return!0}return!1},_listens:function(t,i,o){if(!this._events)return!1;var s=this._events[t]||[];if(!i)return!!s.length;o===this&&(o=void 0);for(var d=0,v=s.length;d<v;d++)if(s[d].fn===i&&s[d].ctx===o)return d;return!1},once:function(t,i,o){if(typeof t=="object")for(var s in t)this._on(s,t[s],i,!0);else{t=M(t);for(var d=0,v=t.length;d<v;d++)this._on(t[d],i,o,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[x(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[x(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,_({layer:t.target,propagatedFrom:t.target},t),!0)}};ie.addEventListener=ie.on,ie.removeEventListener=ie.clearAllEventListeners=ie.off,ie.addOneTimeEventListener=ie.once,ie.fireEvent=ie.fire,ie.hasEventListeners=ie.listens;var Ce=oe.extend(ie);function W(t,i,o){this.x=o?Math.round(t):t,this.y=o?Math.round(i):i}var ye=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(t){return this.clone()._add(J(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(J(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new W(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new W(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ye(this.x),this.y=ye(this.y),this},distanceTo:function(t){t=J(t);var i=t.x-this.x,o=t.y-this.y;return Math.sqrt(i*i+o*o)},equals:function(t){return t=J(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=J(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+V(this.x)+", "+V(this.y)+")"}};function J(t,i,o){return t instanceof W?t:te(t)?new W(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new W(t.x,t.y):new W(t,i,o)}function E(t,i){if(t)for(var o=i?[t,i]:t,s=0,d=o.length;s<d;s++)this.extend(o[s])}E.prototype={extend:function(t){var i,o;if(!t)return this;if(t instanceof W||typeof t[0]=="number"||"x"in t)i=o=J(t);else if(t=X(t),i=t.min,o=t.max,!i||!o)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=o.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(t){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,o;return typeof t[0]=="number"||t instanceof W?t=J(t):t=X(t),t instanceof E?(i=t.min,o=t.max):i=o=t,i.x>=this.min.x&&o.x<=this.max.x&&i.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=X(t);var i=this.min,o=this.max,s=t.min,d=t.max,v=d.x>=i.x&&s.x<=o.x,b=d.y>=i.y&&s.y<=o.y;return v&&b},overlaps:function(t){t=X(t);var i=this.min,o=this.max,s=t.min,d=t.max,v=d.x>i.x&&s.x<o.x,b=d.y>i.y&&s.y<o.y;return v&&b},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,o=this.max,s=Math.abs(i.x-o.x)*t,d=Math.abs(i.y-o.y)*t;return X(J(i.x-s,i.y-d),J(o.x+s,o.y+d))},equals:function(t){return t?(t=X(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function X(t,i){return!t||t instanceof E?t:new E(t,i)}function be(t,i){if(t)for(var o=i?[t,i]:t,s=0,d=o.length;s<d;s++)this.extend(o[s])}be.prototype={extend:function(t){var i=this._southWest,o=this._northEast,s,d;if(t instanceof Pe)s=t,d=t;else if(t instanceof be){if(s=t._southWest,d=t._northEast,!s||!d)return this}else return t?this.extend(_e(t)||ke(t)):this;return!i&&!o?(this._southWest=new Pe(s.lat,s.lng),this._northEast=new Pe(d.lat,d.lng)):(i.lat=Math.min(s.lat,i.lat),i.lng=Math.min(s.lng,i.lng),o.lat=Math.max(d.lat,o.lat),o.lng=Math.max(d.lng,o.lng)),this},pad:function(t){var i=this._southWest,o=this._northEast,s=Math.abs(i.lat-o.lat)*t,d=Math.abs(i.lng-o.lng)*t;return new be(new Pe(i.lat-s,i.lng-d),new Pe(o.lat+s,o.lng+d))},getCenter:function(){return new Pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Pe||"lat"in t?t=_e(t):t=ke(t);var i=this._southWest,o=this._northEast,s,d;return t instanceof be?(s=t.getSouthWest(),d=t.getNorthEast()):s=d=t,s.lat>=i.lat&&d.lat<=o.lat&&s.lng>=i.lng&&d.lng<=o.lng},intersects:function(t){t=ke(t);var i=this._southWest,o=this._northEast,s=t.getSouthWest(),d=t.getNorthEast(),v=d.lat>=i.lat&&s.lat<=o.lat,b=d.lng>=i.lng&&s.lng<=o.lng;return v&&b},overlaps:function(t){t=ke(t);var i=this._southWest,o=this._northEast,s=t.getSouthWest(),d=t.getNorthEast(),v=d.lat>i.lat&&s.lat<o.lat,b=d.lng>i.lng&&s.lng<o.lng;return v&&b},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=ke(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ke(t,i){return t instanceof be?t:new be(t,i)}function Pe(t,i,o){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,o!==void 0&&(this.alt=+o)}Pe.prototype={equals:function(t,i){if(!t)return!1;t=_e(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+V(this.lat,t)+", "+V(this.lng,t)+")"},distanceTo:function(t){return He.distance(this,_e(t))},wrap:function(){return He.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,o=i/Math.cos(Math.PI/180*this.lat);return ke([this.lat-i,this.lng-o],[this.lat+i,this.lng+o])},clone:function(){return new Pe(this.lat,this.lng,this.alt)}};function _e(t,i,o){return t instanceof Pe?t:te(t)&&typeof t[0]!="object"?t.length===3?new Pe(t[0],t[1],t[2]):t.length===2?new Pe(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Pe(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new Pe(t,i,o)}var de={latLngToPoint:function(t,i){var o=this.projection.project(t),s=this.scale(i);return this.transformation._transform(o,s)},pointToLatLng:function(t,i){var o=this.scale(i),s=this.transformation.untransform(t,o);return this.projection.unproject(s)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,o=this.scale(t),s=this.transformation.transform(i.min,o),d=this.transformation.transform(i.max,o);return new E(s,d)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?B(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?B(t.lat,this.wrapLat,!0):t.lat,s=t.alt;return new Pe(o,i,s)},wrapLatLngBounds:function(t){var i=t.getCenter(),o=this.wrapLatLng(i),s=i.lat-o.lat,d=i.lng-o.lng;if(s===0&&d===0)return t;var v=t.getSouthWest(),b=t.getNorthEast(),U=new Pe(v.lat-s,v.lng-d),G=new Pe(b.lat-s,b.lng-d);return new be(U,G)}},He=_({},de,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var o=Math.PI/180,s=t.lat*o,d=i.lat*o,v=Math.sin((i.lat-t.lat)*o/2),b=Math.sin((i.lng-t.lng)*o/2),U=v*v+Math.cos(s)*Math.cos(d)*b*b,G=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*G}}),he=6378137,we={R:he,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,o=this.MAX_LATITUDE,s=Math.max(Math.min(o,t.lat),-o),d=Math.sin(s*i);return new W(this.R*t.lng*i,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(t){var i=180/Math.PI;return new Pe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=he*Math.PI;return new E([-t,-t],[t,t])}()};function Ue(t,i,o,s){if(te(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=o,this._d=s}Ue.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new W((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function tt(t,i,o,s){return new Ue(t,i,o,s)}var ve=_({},He,{code:"EPSG:3857",projection:we,transformation:function(){var t=.5/(Math.PI*we.R);return tt(t,.5,-t,.5)}()}),Ht=_({},ve,{code:"EPSG:900913"});function pe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ee(t,i){var o="",s,d,v,b,U,G;for(s=0,v=t.length;s<v;s++){for(U=t[s],d=0,b=U.length;d<b;d++)G=U[d],o+=(d?"L":"M")+G.x+" "+G.y;o+=i?Me.svg?"z":"x":""}return o||"M0 0"}var $=document.documentElement.style,A="ActiveXObject"in window,Y=A&&!document.addEventListener,Q="msLaunchUri"in navigator&&!("documentMode"in document),Oe=Ot("webkit"),Et=Ot("android"),Lt=Ot("android 2")||Ot("android 3"),Na=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ma=Et&&Ot("Google")&&Na<537&&!("AudioNode"in window),Ir=!!window.opera,Br=!Q&&Ot("chrome"),ir=Ot("gecko")&&!Oe&&!Ir&&!A,za=!Br&&Ot("safari"),yi=Ot("phantom"),_i="OTransition"in $,as=navigator.platform.indexOf("Win")===0,Eo=A&&"transition"in $,Rr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Lt,Ia="MozPerspective"in $,Lo=!window.L_DISABLE_3D&&(Eo||Rr||Ia)&&!_i&&!yi,Yn=typeof orientation<"u"||Ot("mobile"),Oo=Yn&&Oe,No=Yn&&Rr,Ar=!window.PointerEvent&&window.MSPointerEvent,qn=!!(window.PointerEvent||Ar),Jn="ontouchstart"in window||!!window.TouchEvent,Ba=!window.L_NO_TOUCH&&(Jn||qn),Ra=Yn&&Ir,Aa=Yn&&ir,Da=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fa=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",Z,i),window.removeEventListener("testPassiveEventSupport",Z,i)}catch{}return t}(),Mo=function(){return!!document.createElement("canvas").getContext}(),Dr=!!(document.createElementNS&&pe("svg").createSVGRect),rr=!!Dr&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),zo=!Dr&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),or=navigator.platform.indexOf("Mac")===0,ls=navigator.platform.indexOf("Linux")===0;function Ot(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Me={ie:A,ielt9:Y,edge:Q,webkit:Oe,android:Et,android23:Lt,androidStock:Ma,opera:Ir,chrome:Br,gecko:ir,safari:za,phantom:yi,opera12:_i,win:as,ie3d:Eo,webkit3d:Rr,gecko3d:Ia,any3d:Lo,mobile:Yn,mobileWebkit:Oo,mobileWebkit3d:No,msPointer:Ar,pointer:qn,touch:Ba,touchNative:Jn,mobileOpera:Ra,mobileGecko:Aa,retina:Da,passiveEvents:Fa,canvas:Mo,svg:Dr,vml:zo,inlineSvg:rr,mac:or,linux:ls},ar=Me.msPointer?"MSPointerDown":"pointerdown",Fr=Me.msPointer?"MSPointerMove":"pointermove",Ua=Me.msPointer?"MSPointerUp":"pointerup",ja=Me.msPointer?"MSPointerCancel":"pointercancel",Io={touchstart:ar,touchmove:Fr,touchend:Ua,touchcancel:ja},An={touchstart:ut,touchmove:Ur,touchend:Ur,touchcancel:Ur},Qn={},Bo=!1;function ss(t,i,o){return i==="touchstart"&&us(),An[i]?(o=An[i].bind(this,o),t.addEventListener(Io[i],o,!1),o):(console.warn("wrong event specified:",i),Z)}function Za(t,i,o){if(!Io[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Io[i],o,!1)}function Wa(t){Qn[t.pointerId]=t}function Ha(t){Qn[t.pointerId]&&(Qn[t.pointerId]=t)}function Ro(t){delete Qn[t.pointerId]}function us(){Bo||(document.addEventListener(ar,Wa,!0),document.addEventListener(Fr,Ha,!0),document.addEventListener(Ua,Ro,!0),document.addEventListener(ja,Ro,!0),Bo=!0)}function Ur(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var o in Qn)i.touches.push(Qn[o]);i.changedTouches=[i],t(i)}}function ut(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&ct(i),Ur(t,i)}function cs(t){var i={},o,s;for(s in t)o=t[s],i[s]=o&&o.bind?o.bind(t):o;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Ao=200;function Va(t,i){t.addEventListener("dblclick",i);var o=0,s;function d(v){if(v.detail!==1){s=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var b=ti(v);if(!(b.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!b.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var U=Date.now();U-o<=Ao?(s++,s===2&&i(cs(v))):s=1,o=U}}}return t.addEventListener("click",d),{dblclick:i,simDblclick:d}}function jr(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var Do=Si(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wi=Si(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),lr=wi==="webkitTransition"||wi==="OTransition"?wi+"End":"transitionend";function Xt(t){return typeof t=="string"?document.getElementById(t):t}function sr(t,i){var o=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!o||o==="auto")&&document.defaultView){var s=document.defaultView.getComputedStyle(t,null);o=s?s[i]:null}return o==="auto"?null:o}function $e(t,i,o){var s=document.createElement(t);return s.className=i||"",o&&o.appendChild(s),s}function at(t){var i=t.parentNode;i&&i.removeChild(t)}function Zr(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function xi(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Pn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Ci(t,i){if(t.classList!==void 0)return t.classList.contains(i);var o=Wr(t);return o.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(o)}function Ve(t,i){if(t.classList!==void 0)for(var o=M(i),s=0,d=o.length;s<d;s++)t.classList.add(o[s]);else if(!Ci(t,i)){var v=Wr(t);Fo(t,(v?v+" ":"")+i)}}function rt(t,i){t.classList!==void 0?t.classList.remove(i):Fo(t,re((" "+Wr(t)+" ").replace(" "+i+" "," ")))}function Fo(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Wr(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Nt(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&$a(t,i)}function $a(t,i){var o=!1,s="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(s)}catch{if(i===1)return}i=Math.round(i*100),o?(o.Enabled=i!==100,o.Opacity=i):t.style.filter+=" progid:"+s+"(opacity="+i+")"}function Si(t){for(var i=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in i)return t[o];return!1}function en(t,i,o){var s=i||new W(0,0);t.style[Do]=(Me.ie3d?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(o?" scale("+o+")":"")}function ft(t,i){t._leaflet_pos=i,Me.any3d?en(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function bn(t){return t._leaflet_pos||new W(0,0)}var qe,ki,Hr;if("onselectstart"in document)qe=function(){Ze(window,"selectstart",ct)},ki=function(){nt(window,"selectstart",ct)};else{var Xn=Si(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qe=function(){if(Xn){var t=document.documentElement.style;Hr=t[Xn],t[Xn]="none"}},ki=function(){Xn&&(document.documentElement.style[Xn]=Hr,Hr=void 0)}}function Vr(){Ze(window,"dragstart",ct)}function $r(){nt(window,"dragstart",ct)}var ur,cr;function Pi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(tn(),ur=t,cr=t.style.outlineStyle,t.style.outlineStyle="none",Ze(window,"keydown",tn))}function tn(){ur&&(ur.style.outlineStyle=cr,ur=void 0,cr=void 0,nt(window,"keydown",tn))}function Tn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function dn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var dr={__proto__:null,TRANSFORM:Do,TRANSITION:wi,TRANSITION_END:lr,get:Xt,getStyle:sr,create:$e,remove:at,empty:Zr,toFront:xi,toBack:Pn,hasClass:Ci,addClass:Ve,removeClass:rt,setClass:Fo,getClass:Wr,setOpacity:Nt,testProp:Si,setTransform:en,setPosition:ft,getPosition:bn,get disableTextSelection(){return qe},get enableTextSelection(){return ki},disableImageDrag:Vr,enableImageDrag:$r,preventOutline:Pi,restoreOutline:tn,getSizedParentNode:Tn,getScale:dn};function Ze(t,i,o,s){if(i&&typeof i=="object")for(var d in i)jo(t,d,i[d],o);else{i=M(i);for(var v=0,b=i.length;v<b;v++)jo(t,i[v],o,s)}return this}var _t="_leaflet_events";function nt(t,i,o,s){if(arguments.length===1)Uo(t),delete t[_t];else if(i&&typeof i=="object")for(var d in i)Gr(t,d,i[d],o);else if(i=M(i),arguments.length===2)Uo(t,function(U){return me(i,U)!==-1});else for(var v=0,b=i.length;v<b;v++)Gr(t,i[v],o,s);return this}function Uo(t,i){for(var o in t[_t]){var s=o.split(/\d/)[0];(!i||i(s))&&Gr(t,s,null,null,o)}}var ei={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jo(t,i,o,s){var d=i+x(o)+(s?"_"+x(s):"");if(t[_t]&&t[_t][d])return this;var v=function(U){return o.call(s||t,U||window.event)},b=v;!Me.touchNative&&Me.pointer&&i.indexOf("touch")===0?v=ss(t,i,v):Me.touch&&i==="dblclick"?v=Va(t,v):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(ei[i]||i,v,Me.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(v=function(U){U=U||window.event,pr(t,U)&&b(U)},t.addEventListener(ei[i],v,!1)):t.addEventListener(i,b,!1):t.attachEvent("on"+i,v),t[_t]=t[_t]||{},t[_t][d]=v}function Gr(t,i,o,s,d){d=d||i+x(o)+(s?"_"+x(s):"");var v=t[_t]&&t[_t][d];if(!v)return this;!Me.touchNative&&Me.pointer&&i.indexOf("touch")===0?Za(t,i,v):Me.touch&&i==="dblclick"?jr(t,v):"removeEventListener"in t?t.removeEventListener(ei[i]||i,v,!1):t.detachEvent("on"+i,v),t[_t][d]=null}function hn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Kr(t){return jo(t,"wheel",hn),this}function hr(t){return Ze(t,"mousedown touchstart dblclick contextmenu",hn),t._leaflet_disable_click=!0,this}function ct(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function nn(t){return ct(t),hn(t),this}function ti(t){if(t.composedPath)return t.composedPath();for(var i=[],o=t.target;o;)i.push(o),o=o.parentNode;return i}function fr(t,i){if(!i)return new W(t.clientX,t.clientY);var o=dn(i),s=o.boundingClientRect;return new W((t.clientX-s.left)/o.x-i.clientLeft,(t.clientY-s.top)/o.y-i.clientTop)}var ds=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ga(t){return Me.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/ds:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function pr(t,i){var o=i.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var Yr={__proto__:null,on:Ze,off:nt,stopPropagation:hn,disableScrollPropagation:Kr,disableClickPropagation:hr,preventDefault:ct,stop:nn,getPropagationPath:ti,getMousePosition:fr,getWheelDelta:Ga,isExternalTarget:pr,addListener:Ze,removeListener:nt},qr=Ce.extend({run:function(t,i,o,s){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=bn(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ne(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,o=this._duration*1e3;i<o?this._runFrame(this._easeOut(i/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var o=this._startPos.add(this._offset.multiplyBy(t));i&&o._round(),ft(this._el,o),this.fire("step")},_complete:function(){Be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ye=Ce.extend({options:{crs:ve,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=O(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=S(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(_e(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=wi&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ze(this._proxy,lr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,o){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(_e(t),i,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=_({animate:o.animate},o.zoom),o.pan=_({animate:o.animate,duration:o.duration},o.pan));var s=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,o.zoom):this._tryAnimatedPan(t,o.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,o.pan&&o.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,o){var s=this.getZoomScale(i),d=this.getSize().divideBy(2),v=t instanceof W?t:this.latLngToContainerPoint(t),b=v.subtract(d).multiplyBy(1-1/s),U=this.containerPointToLatLng(d.add(b));return this.setView(U,i,{zoom:o})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():ke(t);var o=J(i.paddingTopLeft||i.padding||[0,0]),s=J(i.paddingBottomRight||i.padding||[0,0]),d=this.getBoundsZoom(t,!1,o.add(s));if(d=typeof i.maxZoom=="number"?Math.min(i.maxZoom,d):d,d===1/0)return{center:t.getCenter(),zoom:d};var v=s.subtract(o).divideBy(2),b=this.project(t.getSouthWest(),d),U=this.project(t.getNorthEast(),d),G=this.unproject(b.add(U).divideBy(2).add(v),d);return{center:G,zoom:d}},fitBounds:function(t,i){if(t=ke(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,i);return this.setView(o.center,o.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=J(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Ve(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,o){if(o=o||{},o.animate===!1||!Me.any3d)return this.setView(t,i,o);this._stop();var s=this.project(this.getCenter()),d=this.project(t),v=this.getSize(),b=this._zoom;t=_e(t),i=i===void 0?b:i;var U=Math.max(v.x,v.y),G=U*this.getZoomScale(b,i),ae=d.distanceTo(s)||1,xe=1.42,Ae=xe*xe;function Ge(et){var Ui=et?-1:1,Ps=et?G:U,bs=G*G-U*U+Ui*Ae*Ae*ae*ae,si=2*Ps*Ae*ae,ui=bs/si,ci=Math.sqrt(ui*ui+1)-ui,co=ci<1e-9?-18:Math.log(ci);return co}function wt(et){return(Math.exp(et)-Math.exp(-et))/2}function gt(et){return(Math.exp(et)+Math.exp(-et))/2}function Ut(et){return wt(et)/gt(et)}var zt=Ge(0);function Di(et){return U*(gt(zt)/gt(zt+xe*et))}function sa(et){return U*(gt(zt)*Ut(zt+xe*et)-wt(zt))/Ae}function Vn(et){return 1-Math.pow(1-et,1.5)}var pl=Date.now(),li=(Ge(1)-zt)/xe,gn=o.duration?1e3*o.duration:1e3*li*.8;function Fi(){var et=(Date.now()-pl)/gn,Ui=Vn(et)*li;et<=1?(this._flyToFrame=ne(Fi,this),this._move(this.unproject(s.add(d.subtract(s).multiplyBy(sa(Ui)/ae)),b),this.getScaleZoom(U/Di(Ui),b),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),Fi.call(this),this},flyToBounds:function(t,i){var o=this._getBoundsCenterZoom(t,i);return this.flyTo(o.center,o.zoom,i)},setMaxBounds:function(t){return t=ke(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var o=this.getCenter(),s=this._limitCenter(o,this._zoom,ke(t));return o.equals(s)||this.panTo(s,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var o=J(i.paddingTopLeft||i.padding||[0,0]),s=J(i.paddingBottomRight||i.padding||[0,0]),d=this.project(this.getCenter()),v=this.project(t),b=this.getPixelBounds(),U=X([b.min.add(o),b.max.subtract(s)]),G=U.getSize();if(!U.contains(v)){this._enforcingBounds=!0;var ae=v.subtract(U.getCenter()),xe=U.extend(v).getSize().subtract(G);d.x+=ae.x<0?-xe.x:xe.x,d.y+=ae.y<0?-xe.y:xe.y,this.panTo(this.unproject(d),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=_({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=i.divideBy(2).round(),d=o.divideBy(2).round(),v=s.subtract(d);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(S(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=_({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=S(this._handleGeolocationResponse,this),o=S(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,t):navigator.geolocation.getCurrentPosition(i,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,o=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,o=t.coords.longitude,s=new Pe(i,o),d=s.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var b=this.getBoundsZoom(d);this.setView(s,v.maxZoom?Math.min(b,v.maxZoom):b)}var U={latlng:s,bounds:d,timestamp:t.timestamp};for(var G in t.coords)typeof t.coords[G]=="number"&&(U[G]=t.coords[G]);this.fire("locationfound",U)}},addHandler:function(t,i){if(!i)return this;var o=this[t]=new i(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)at(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),s=$e("div",o,i||this._mapPane);return t&&(this._panes[t]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new be(i,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,o){t=ke(t),o=J(o||[0,0]);var s=this.getZoom()||0,d=this.getMinZoom(),v=this.getMaxZoom(),b=t.getNorthWest(),U=t.getSouthEast(),G=this.getSize().subtract(o),ae=X(this.project(U,s),this.project(b,s)).getSize(),xe=Me.any3d?this.options.zoomSnap:1,Ae=G.x/ae.x,Ge=G.y/ae.y,wt=i?Math.max(Ae,Ge):Math.min(Ae,Ge);return s=this.getScaleZoom(wt,s),xe&&(s=Math.round(s/(xe/100))*(xe/100),s=i?Math.ceil(s/xe)*xe:Math.floor(s/xe)*xe),Math.max(d,Math.min(v,s))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var o=this._getTopLeftPoint(t,i);return new E(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var o=this.options.crs;return i=i===void 0?this._zoom:i,o.scale(t)/o.scale(i)},getScaleZoom:function(t,i){var o=this.options.crs;i=i===void 0?this._zoom:i;var s=o.zoom(t*o.scale(i));return isNaN(s)?1/0:s},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(_e(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(J(t),i)},layerPointToLatLng:function(t){var i=J(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(_e(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(_e(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ke(t))},distance:function(t,i){return this.options.crs.distance(_e(t),_e(i))},containerPointToLayerPoint:function(t){return J(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return J(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(J(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_e(t)))},mouseEventToContainerPoint:function(t){return fr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=Xt(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ze(i,"scroll",this._onScroll,this),this._containerId=x(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,Ve(t,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=sr(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ft(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ve(t.markerPane,"leaflet-zoom-hide"),Ve(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,o){ft(this._mapPane,new W(0,0));var s=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var d=this._zoom!==i;this._moveStart(d,o)._move(t,i)._moveEnd(d),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,o,s){i===void 0&&(i=this._zoom);var d=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),s?o&&o.pinch&&this.fire("zoom",o):((d||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ft(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[x(this._container)]=this;var i=t?nt:Ze;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Be(this._resizeRequest),this._resizeRequest=ne(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var o=[],s,d=i==="mouseout"||i==="mouseover",v=t.target||t.srcElement,b=!1;v;){if(s=this._targets[x(v)],s&&(i==="click"||i==="preclick")&&this._draggableMoved(s)){b=!0;break}if(s&&s.listens(i,!0)&&(d&&!pr(v,t)||(o.push(s),d))||v===this._container)break;v=v.parentNode}return!o.length&&!b&&!d&&this.listens(i,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var o=t.type;o==="mousedown"&&Pi(i),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,o){if(t.type==="click"){var s=_({},t);s.type="preclick",this._fireDOMEvent(s,s.type,o)}var d=this._findEventTargets(t,i);if(o){for(var v=[],b=0;b<o.length;b++)o[b].listens(i,!0)&&v.push(o[b]);d=v.concat(d)}if(d.length){i==="contextmenu"&&ct(t);var U=d[0],G={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ae=U.getLatLng&&(!U._radius||U._radius<=10);G.containerPoint=ae?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(t),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=ae?U.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(b=0;b<d.length;b++)if(d[b].fire(i,G,!0),G.originalEvent._stopped||d[b].options.bubblingMouseEvents===!1&&me(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return bn(this._mapPane)||new W(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var o=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var o=this.getSize()._divideBy(2);return this.project(t,i)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,o){var s=this._getNewPixelOrigin(o,i);return this.project(t,i)._subtract(s)},_latLngBoundsToNewLayerBounds:function(t,i,o){var s=this._getNewPixelOrigin(o,i);return X([this.project(t.getSouthWest(),i)._subtract(s),this.project(t.getNorthWest(),i)._subtract(s),this.project(t.getSouthEast(),i)._subtract(s),this.project(t.getNorthEast(),i)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,o){if(!o)return t;var s=this.project(t,i),d=this.getSize().divideBy(2),v=new E(s.subtract(d),s.add(d)),b=this._getBoundsOffset(v,o,i);return Math.abs(b.x)<=1&&Math.abs(b.y)<=1?t:this.unproject(s.add(b),i)},_limitOffset:function(t,i){if(!i)return t;var o=this.getPixelBounds(),s=new E(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(s,i))},_getBoundsOffset:function(t,i,o){var s=X(this.project(i.getNorthEast(),o),this.project(i.getSouthWest(),o)),d=s.min.subtract(t.min),v=s.max.subtract(t.max),b=this._rebound(d.x,-v.x),U=this._rebound(d.y,-v.y);return new W(b,U)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),o=this.getMaxZoom(),s=Me.any3d?this.options.zoomSnap:1;return s&&(t=Math.round(t/s)*s),Math.max(i,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){rt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var o=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,i),!0)},_createAnimProxy:function(){var t=this._proxy=$e("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var o=Do,s=this._proxy.style[o];en(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),s===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();en(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(i),d=this._getCenterOffset(t)._divideBy(1-1/s);return o.animate!==!0&&!this.getSize().contains(d)?!1:(ne(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,o,s){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:s}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(S(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&rt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dn(t,i){return new Ye(t,i)}var Dt=oe.extend({options:{position:"topright"},initialize:function(t){O(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),o=this.getPosition(),s=t._controlCorners[o];return Ve(i,"leaflet-control"),o.indexOf("bottom")!==-1?s.insertBefore(i,s.firstChild):s.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Fn=function(t){return new Dt(t)};Ye.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",o=this._controlContainer=$e("div",i+"control-container",this._container);function s(d,v){var b=i+d+" "+i+v;t[d+v]=$e("div",b,o)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)at(this._controlCorners[t]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zo=Dt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,o,s){return o<s?-1:s<o?1:0}},initialize:function(t,i,o){O(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var s in t)this._addLayer(t[s],s);for(s in i)this._addLayer(i[s],s,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Dt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(x(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):rt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return rt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=$e("div",t),o=this.options.collapsed;i.setAttribute("aria-haspopup",!0),hr(i),Kr(i);var s=this._section=$e("section",t+"-list");o&&(this._map.on("click",this.collapse,this),Ze(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=$e("a",t+"-toggle",i);d.href="#",d.title="Layers",d.setAttribute("role","button"),Ze(d,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ct(v),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=$e("div",t+"-base",s),this._separator=$e("div",t+"-separator",s),this._overlaysList=$e("div",t+"-overlays",s),i.appendChild(s)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&x(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:o}),this.options.sortLayers&&this._layers.sort(S(function(s,d){return this.options.sortFunction(s.layer,d.layer,s.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Zr(this._baseLayersList),Zr(this._overlaysList),this._layerControlInputs=[];var t,i,o,s,d=0;for(o=0;o<this._layers.length;o++)s=this._layers[o],this._addItem(s),i=i||s.overlay,t=t||!s.overlay,d+=s.overlay?0:1;return this.options.hideSingleBase&&(t=t&&d>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(x(t.target)),o=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,i)},_createRadioElement:function(t,i){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=o,s.firstChild},_addItem:function(t){var i=document.createElement("label"),o=this._map.hasLayer(t.layer),s;t.overlay?(s=document.createElement("input"),s.type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=o):s=this._createRadioElement("leaflet-base-layers_"+x(this),o),this._layerControlInputs.push(s),s.layerId=x(t.layer),Ze(s,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+t.name;var v=document.createElement("span");i.appendChild(v),v.appendChild(s),v.appendChild(d);var b=t.overlay?this._overlaysList:this._baseLayersList;return b.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,o,s=[],d=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)i=t[v],o=this._getLayer(i.layerId).layer,i.checked?s.push(o):i.checked||d.push(o);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])&&this._map.removeLayer(d[v]);for(v=0;v<s.length;v++)this._map.hasLayer(s[v])||this._map.addLayer(s[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,o,s=this._map.getZoom(),d=t.length-1;d>=0;d--)i=t[d],o=this._getLayer(i.layerId).layer,i.disabled=o.options.minZoom!==void 0&&s<o.options.minZoom||o.options.maxZoom!==void 0&&s>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Ze(t,"click",ct),this.expand();var i=this;setTimeout(function(){nt(t,"click",ct),i._preventClick=!1})}}),Jr=function(t,i,o){return new Zo(t,i,o)},bi=Dt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",o=$e("div",i+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,i+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,i+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,o,s,d){var v=$e("a",o,s);return v.innerHTML=t,v.href="#",v.title=i,v.setAttribute("role","button"),v.setAttribute("aria-label",i),hr(v),Ze(v,"click",nn),Ze(v,"click",d,this),Ze(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";rt(this._zoomInButton,i),rt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ve(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ve(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bi,this.addControl(this.zoomControl))});var Ka=function(t){return new bi(t)},Mt=Dt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",o=$e("div",i),s=this.options;return this._addScales(s,i+"-line",o),t.on(s.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,o){t.metric&&(this._mScale=$e("div",i,o)),t.imperial&&(this._iScale=$e("div",i,o))},_update:function(){var t=this._map,i=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),o=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,o,i/t)},_updateImperial:function(t){var i=t*3.2808399,o,s,d;i>5280?(o=i/5280,s=this._getRoundNum(o),this._updateScale(this._iScale,s+" mi",s/o)):(d=this._getRoundNum(i),this._updateScale(this._iScale,d+" ft",d/i))},_updateScale:function(t,i,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),o=t/i;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,i*o}}),Ti=function(t){return new Mt(t)},Wo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ni=Dt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?Wo+" ":"")+"Leaflet</a>"},initialize:function(t){O(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=$e("div","leaflet-control-attribution"),hr(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook(function(){this.options.attributionControl&&new ni().addTo(this)});var hs=function(t){return new ni(t)};Dt.Layers=Zo,Dt.Zoom=bi,Dt.Scale=Mt,Dt.Attribution=ni,Fn.layers=Jr,Fn.zoom=Ka,Fn.scale=Ti,Fn.attribution=hs;var Vt=oe.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vt.addTo=function(t,i){return t.addHandler(i,this),this};var Ho={Events:ie},Ei=Me.touch?"touchstart mousedown":"mousedown",rn=Ce.extend({options:{clickTolerance:3},initialize:function(t,i,o,s){O(this,s),this._element=t,this._dragStartTarget=i||t,this._preventOutline=o},enable:function(){this._enabled||(Ze(this._dragStartTarget,Ei,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rn._dragging===this&&this.finishDrag(!0),nt(this._dragStartTarget,Ei,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Ci(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){rn._dragging===this&&this.finishDrag();return}if(!(rn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(rn._dragging=this,this._preventOutline&&Pi(this._element),Vr(),qe(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,o=Tn(this._element);this._startPoint=new W(i.clientX,i.clientY),this._startPos=bn(this._element),this._parentScale=dn(o);var s=t.type==="mousedown";Ze(document,s?"mousemove":"touchmove",this._onMove,this),Ze(document,s?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,o=new W(i.clientX,i.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,ct(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ve(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ft(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){rt(document.body,"leaflet-dragging"),this._lastTarget&&(rt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),nt(document,"mousemove touchmove",this._onMove,this),nt(document,"mouseup touchend touchcancel",this._onUp,this),$r(),ki();var i=this._moved&&this._moving;this._moving=!1,rn._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Vo(t,i,o){var s,d=[1,4,2,8],v,b,U,G,ae,xe,Ae,Ge;for(v=0,xe=t.length;v<xe;v++)t[v]._code=ii(t[v],i);for(U=0;U<4;U++){for(Ae=d[U],s=[],v=0,xe=t.length,b=xe-1;v<xe;b=v++)G=t[v],ae=t[b],G._code&Ae?ae._code&Ae||(Ge=Xr(ae,G,Ae,i,o),Ge._code=ii(Ge,i),s.push(Ge)):(ae._code&Ae&&(Ge=Xr(ae,G,Ae,i,o),Ge._code=ii(Ge,i),s.push(Ge)),s.push(G));t=s}return t}function Ya(t,i){var o,s,d,v,b,U,G,ae,xe;if(!t||t.length===0)throw new Error("latlngs not passed");$t(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ae=_e([0,0]),Ge=ke(t),wt=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());wt<1700&&(Ae=$o(t));var gt=t.length,Ut=[];for(o=0;o<gt;o++){var zt=_e(t[o]);Ut.push(i.project(_e([zt.lat-Ae.lat,zt.lng-Ae.lng])))}for(U=G=ae=0,o=0,s=gt-1;o<gt;s=o++)d=Ut[o],v=Ut[s],b=d.y*v.x-v.y*d.x,G+=(d.x+v.x)*b,ae+=(d.y+v.y)*b,U+=b*3;U===0?xe=Ut[0]:xe=[G/U,ae/U];var Di=i.unproject(J(xe));return _e([Di.lat+Ae.lat,Di.lng+Ae.lng])}function $o(t){for(var i=0,o=0,s=0,d=0;d<t.length;d++){var v=_e(t[d]);i+=v.lat,o+=v.lng,s++}return _e([i/s,o/s])}var fs={__proto__:null,clipPolygon:Vo,polygonCenter:Ya,centroid:$o};function Qr(t,i){if(!i||!t.length)return t.slice();var o=i*i;return t=gs(t,o),t=ms(t,o),t}function qa(t,i,o){return Math.sqrt(ri(t,i,o,!0))}function ps(t,i,o){return ri(t,i,o)}function ms(t,i){var o=t.length,s=typeof Uint8Array<"u"?Uint8Array:Array,d=new s(o);d[0]=d[o-1]=1,Go(t,d,i,0,o-1);var v,b=[];for(v=0;v<o;v++)d[v]&&b.push(t[v]);return b}function Go(t,i,o,s,d){var v=0,b,U,G;for(U=s+1;U<=d-1;U++)G=ri(t[U],t[s],t[d],!0),G>v&&(b=U,v=G);v>o&&(i[b]=1,Go(t,i,o,s,b),Go(t,i,o,b,d))}function gs(t,i){for(var o=[t[0]],s=1,d=0,v=t.length;s<v;s++)vs(t[s],t[d])>i&&(o.push(t[s]),d=s);return d<v-1&&o.push(t[v-1]),o}var Ko;function Ja(t,i,o,s,d){var v=s?Ko:ii(t,o),b=ii(i,o),U,G,ae;for(Ko=b;;){if(!(v|b))return[t,i];if(v&b)return!1;U=v||b,G=Xr(t,i,U,o,d),ae=ii(G,o),U===v?(t=G,v=ae):(i=G,b=ae)}}function Xr(t,i,o,s,d){var v=i.x-t.x,b=i.y-t.y,U=s.min,G=s.max,ae,xe;return o&8?(ae=t.x+v*(G.y-t.y)/b,xe=G.y):o&4?(ae=t.x+v*(U.y-t.y)/b,xe=U.y):o&2?(ae=G.x,xe=t.y+b*(G.x-t.x)/v):o&1&&(ae=U.x,xe=t.y+b*(U.x-t.x)/v),new W(ae,xe,d)}function ii(t,i){var o=0;return t.x<i.min.x?o|=1:t.x>i.max.x&&(o|=2),t.y<i.min.y?o|=4:t.y>i.max.y&&(o|=8),o}function vs(t,i){var o=i.x-t.x,s=i.y-t.y;return o*o+s*s}function ri(t,i,o,s){var d=i.x,v=i.y,b=o.x-d,U=o.y-v,G=b*b+U*U,ae;return G>0&&(ae=((t.x-d)*b+(t.y-v)*U)/G,ae>1?(d=o.x,v=o.y):ae>0&&(d+=b*ae,v+=U*ae)),b=t.x-d,U=t.y-v,s?b*b+U*U:new W(d,v)}function $t(t){return!te(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Qa(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$t(t)}function Xa(t,i){var o,s,d,v,b,U,G,ae;if(!t||t.length===0)throw new Error("latlngs not passed");$t(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var xe=_e([0,0]),Ae=ke(t),Ge=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());Ge<1700&&(xe=$o(t));var wt=t.length,gt=[];for(o=0;o<wt;o++){var Ut=_e(t[o]);gt.push(i.project(_e([Ut.lat-xe.lat,Ut.lng-xe.lng])))}for(o=0,s=0;o<wt-1;o++)s+=gt[o].distanceTo(gt[o+1])/2;if(s===0)ae=gt[0];else for(o=0,v=0;o<wt-1;o++)if(b=gt[o],U=gt[o+1],d=b.distanceTo(U),v+=d,v>s){G=(v-s)/d,ae=[U.x-G*(U.x-b.x),U.y-G*(U.y-b.y)];break}var zt=i.unproject(J(ae));return _e([zt.lat+xe.lat,zt.lng+xe.lng])}var el={__proto__:null,simplify:Qr,pointToSegmentDistance:qa,closestPointOnSegment:ps,clipSegment:Ja,_getEdgeIntersection:Xr,_getBitCode:ii,_sqClosestPointOnSegment:ri,isFlat:$t,_flat:Qa,polylineCenter:Xa},Yo={project:function(t){return new W(t.lng,t.lat)},unproject:function(t){return new Pe(t.y,t.x)},bounds:new E([-180,-90],[180,90])},qo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new E([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,o=this.R,s=t.lat*i,d=this.R_MINOR/o,v=Math.sqrt(1-d*d),b=v*Math.sin(s),U=Math.tan(Math.PI/4-s/2)/Math.pow((1-b)/(1+b),v/2);return s=-o*Math.log(Math.max(U,1e-10)),new W(t.lng*i*o,s)},unproject:function(t){for(var i=180/Math.PI,o=this.R,s=this.R_MINOR/o,d=Math.sqrt(1-s*s),v=Math.exp(-t.y/o),b=Math.PI/2-2*Math.atan(v),U=0,G=.1,ae;U<15&&Math.abs(G)>1e-7;U++)ae=d*Math.sin(b),ae=Math.pow((1-ae)/(1+ae),d/2),G=Math.PI/2-2*Math.atan(v*ae)-b,b+=G;return new Pe(b*i,t.x*i/o)}},ys={__proto__:null,LonLat:Yo,Mercator:qo,SphericalMercator:we},_s=_({},He,{code:"EPSG:3395",projection:qo,transformation:function(){var t=.5/(Math.PI*qo.R);return tt(t,.5,-t,.5)}()}),tl=_({},He,{code:"EPSG:4326",projection:Yo,transformation:tt(1/180,1,-1/180,.5)}),ws=_({},de,{projection:Yo,transformation:tt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var o=i.lng-t.lng,s=i.lat-t.lat;return Math.sqrt(o*o+s*s)},infinite:!0});de.Earth=He,de.EPSG3395=_s,de.EPSG3857=ve,de.EPSG900913=Ht,de.EPSG4326=tl,de.Simple=ws;var on=Ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[x(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[x(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var o=this.getEvents();i.on(o,this),this.once("remove",function(){i.off(o,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Ye.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=x(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=x(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return x(t)in this._layers},eachLayer:function(t,i){for(var o in this._layers)t.call(i,this._layers[o]);return this},_addLayers:function(t){t=t?te(t)?t:[t]:[];for(var i=0,o=t.length;i<o;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[x(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=x(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,o=this._getZoomSpan();for(var s in this._zoomBoundLayers){var d=this._zoomBoundLayers[s].options;t=d.minZoom===void 0?t:Math.min(t,d.minZoom),i=d.maxZoom===void 0?i:Math.max(i,d.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Un=on.extend({initialize:function(t,i){O(this,i),this._layers={};var o,s;if(t)for(o=0,s=t.length;o<s;o++)this.addLayer(t[o])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),o,s;for(o in this._layers)s=this._layers[o],s[t]&&s[t].apply(s,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var o in this._layers)t.call(i,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return x(t)}}),mr=function(t,i){return new Un(t,i)},En=Un.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Un.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Un.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new be;for(var i in this._layers){var o=this._layers[i];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),nl=function(t,i){return new En(t,i)},oi=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){O(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(o,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(s,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),s},_setIconStyles:function(t,i){var o=this.options,s=o[i+"Size"];typeof s=="number"&&(s=[s,s]);var d=J(s),v=J(i==="shadow"&&o.shadowAnchor||o.iconAnchor||d&&d.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(o.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),d&&(t.style.width=d.x+"px",t.style.height=d.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return Me.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function il(t){return new oi(t)}var Li=oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Li.imagePath!="string"&&(Li.imagePath=this._detectIconPath()),(this.options.imagePath||Li.imagePath)+oi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(o,s,d){var v=s.exec(o);return v&&v[d]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=$e("div","leaflet-default-icon-path",document.body),i=sr(t,"background-image")||sr(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Jo=Vt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new rn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ve(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&rt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,o=i._map,s=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,v=bn(i._icon),b=o.getPixelBounds(),U=o.getPixelOrigin(),G=X(b.min._subtract(U).add(d),b.max._subtract(U).subtract(d));if(!G.contains(v)){var ae=J((Math.max(G.max.x,v.x)-G.max.x)/(b.max.x-G.max.x)-(Math.min(G.min.x,v.x)-G.min.x)/(b.min.x-G.min.x),(Math.max(G.max.y,v.y)-G.max.y)/(b.max.y-G.max.y)-(Math.min(G.min.y,v.y)-G.min.y)/(b.min.y-G.min.y)).multiplyBy(s);o.panBy(ae,{animate:!1}),this._draggable._newPos._add(ae),this._draggable._startPos._add(ae),ft(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ne(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Be(this._panRequest),this._panRequest=ne(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,o=i._shadow,s=bn(i._icon),d=i._map.layerPointToLatLng(s);o&&ft(o,s),i._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Ln=on.extend({options:{icon:new Li,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){O(this,i),this._latlng=_e(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=_e(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),s=!1;o!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),Ve(o,i),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ze(o,"focus",this._panOnFocus,this);var d=t.icon.createShadow(this._shadow),v=!1;d!==this._shadow&&(this._removeShadow(),v=!0),d&&(Ve(d,i),d.alt=""),this._shadow=d,t.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nt(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ft(this._icon,t),this._shadow&&ft(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Nt(this._icon,t),this._shadow&&Nt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,o=i.iconSize?J(i.iconSize):J(0,0),s=i.iconAnchor?J(i.iconAnchor):J(0,0);t.panInside(this._latlng,{paddingTopLeft:s,paddingBottomRight:o.subtract(s)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xs(t,i){return new Ln(t,i)}var jn=on.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return O(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),eo=jn.extend({options:{fill:!0,radius:10},initialize:function(t,i){O(this,i),this._latlng=_e(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=_e(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return jn.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,o=this._clickTolerance(),s=[t+o,i+o];this._pxBounds=new E(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rl(t,i){return new eo(t,i)}var to=eo.extend({initialize:function(t,i,o){if(typeof i=="number"&&(i=_({},o,{radius:i})),O(this,i),this._latlng=_e(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:jn.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,o=this._map,s=o.options.crs;if(s.distance===He.distance){var d=Math.PI/180,v=this._mRadius/He.R/d,b=o.project([i+v,t]),U=o.project([i-v,t]),G=b.add(U).divideBy(2),ae=o.unproject(G).lat,xe=Math.acos((Math.cos(v*d)-Math.sin(i*d)*Math.sin(ae*d))/(Math.cos(i*d)*Math.cos(ae*d)))/d;(isNaN(xe)||xe===0)&&(xe=v/Math.cos(Math.PI/180*i)),this._point=G.subtract(o.getPixelOrigin()),this._radius=isNaN(xe)?0:G.x-o.project([ae,t-xe]).x,this._radiusY=G.y-b.y}else{var Ae=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(Ae).x}this._updateBounds()}});function gr(t,i,o){return new to(t,i,o)}var Ft=jn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){O(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,o=null,s=ri,d,v,b=0,U=this._parts.length;b<U;b++)for(var G=this._parts[b],ae=1,xe=G.length;ae<xe;ae++){d=G[ae-1],v=G[ae];var Ae=s(t,d,v,!0);Ae<i&&(i=Ae,o=s(t,d,v))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=_e(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new be,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return $t(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],o=$t(t),s=0,d=t.length;s<d;s++)o?(i[s]=_e(t[s]),this._bounds.extend(i[s])):i[s]=this._convertLatLngs(t[s]);return i},_project:function(){var t=new E;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new W(t,t);this._rawPxBounds&&(this._pxBounds=new E([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,o){var s=t[0]instanceof Pe,d=t.length,v,b;if(s){for(b=[],v=0;v<d;v++)b[v]=this._map.latLngToLayerPoint(t[v]),o.extend(b[v]);i.push(b)}else for(v=0;v<d;v++)this._projectLatlngs(t[v],i,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,o,s,d,v,b,U,G;for(o=0,d=0,v=this._rings.length;o<v;o++)for(G=this._rings[o],s=0,b=G.length;s<b-1;s++)U=Ja(G[s],G[s+1],t,s,!0),U&&(i[d]=i[d]||[],i[d].push(U[0]),(U[1]!==G[s+1]||s===b-2)&&(i[d].push(U[1]),d++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,o=0,s=t.length;o<s;o++)t[o]=Qr(t[o],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var o,s,d,v,b,U,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,v=this._parts.length;o<v;o++)for(U=this._parts[o],s=0,b=U.length,d=b-1;s<b;d=s++)if(!(!i&&s===0)&&qa(t,U[d],U[s])<=G)return!0;return!1}});function Cs(t,i){return new Ft(t,i)}Ft._flat=Qa;var On=Ft.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ya(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Ft.prototype._convertLatLngs.call(this,t),o=i.length;return o>=2&&i[0]instanceof Pe&&i[0].equals(i[o-1])&&i.pop(),i},_setLatLngs:function(t){Ft.prototype._setLatLngs.call(this,t),$t(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $t(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,o=new W(i,i);if(t=new E(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var s=0,d=this._rings.length,v;s<d;s++)v=Vo(this._rings[s],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,o,s,d,v,b,U,G,ae;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,G=this._parts.length;v<G;v++)for(o=this._parts[v],b=0,ae=o.length,U=ae-1;b<ae;U=b++)s=o[b],d=o[U],s.y>t.y!=d.y>t.y&&t.x<(d.x-s.x)*(t.y-s.y)/(d.y-s.y)+s.x&&(i=!i);return i||Ft.prototype._containsPoint.call(this,t,!0)}});function Ss(t,i){return new On(t,i)}var fn=En.extend({initialize:function(t,i){O(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=te(t)?t:t.features,o,s,d;if(i){for(o=0,s=i.length;o<s;o++)d=i[o],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var b=Oi(t,v);return b?(b.feature=ao(t),b.defaultOptions=b.options,this.resetStyle(b),v.onEachFeature&&v.onEachFeature(t,b),this.addLayer(b)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=_({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Oi(t,i){var o=t.type==="Feature"?t.geometry:t,s=o?o.coordinates:null,d=[],v=i&&i.pointToLayer,b=i&&i.coordsToLatLng||io,U,G,ae,xe;if(!s&&!o)return null;switch(o.type){case"Point":return U=b(s),no(v,t,U,i);case"MultiPoint":for(ae=0,xe=s.length;ae<xe;ae++)U=b(s[ae]),d.push(no(v,t,U,i));return new En(d);case"LineString":case"MultiLineString":return G=vr(s,o.type==="LineString"?0:1,b),new Ft(G,i);case"Polygon":case"MultiPolygon":return G=vr(s,o.type==="Polygon"?1:2,b),new On(G,i);case"GeometryCollection":for(ae=0,xe=o.geometries.length;ae<xe;ae++){var Ae=Oi({geometry:o.geometries[ae],type:"Feature",properties:t.properties},i);Ae&&d.push(Ae)}return new En(d);case"FeatureCollection":for(ae=0,xe=o.features.length;ae<xe;ae++){var Ge=Oi(o.features[ae],i);Ge&&d.push(Ge)}return new En(d);default:throw new Error("Invalid GeoJSON object.")}}function no(t,i,o,s){return t?t(i,o):new Ln(o,s&&s.markersInheritOptions&&s)}function io(t){return new Pe(t[1],t[0],t[2])}function vr(t,i,o){for(var s=[],d=0,v=t.length,b;d<v;d++)b=i?vr(t[d],i-1,o):(o||io)(t[d]),s.push(b);return s}function ro(t,i){return t=_e(t),t.alt!==void 0?[V(t.lng,i),V(t.lat,i),V(t.alt,i)]:[V(t.lng,i),V(t.lat,i)]}function oo(t,i,o,s){for(var d=[],v=0,b=t.length;v<b;v++)d.push(i?oo(t[v],$t(t[v])?0:i-1,o,s):ro(t[v],s));return!i&&o&&d.length>0&&d.push(d[0].slice()),d}function Ni(t,i){return t.feature?_({},t.feature,{geometry:i}):ao(i)}function ao(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Qo={toGeoJSON:function(t){return Ni(this,{type:"Point",coordinates:ro(this.getLatLng(),t)})}};Ln.include(Qo),to.include(Qo),eo.include(Qo),Ft.include({toGeoJSON:function(t){var i=!$t(this._latlngs),o=oo(this._latlngs,i?1:0,!1,t);return Ni(this,{type:(i?"Multi":"")+"LineString",coordinates:o})}}),On.include({toGeoJSON:function(t){var i=!$t(this._latlngs),o=i&&!$t(this._latlngs[0]),s=oo(this._latlngs,o?2:i?1:0,!0,t);return i||(s=[s]),Ni(this,{type:(o?"Multi":"")+"Polygon",coordinates:s})}}),Un.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(o){i.push(o.toGeoJSON(t).geometry.coordinates)}),Ni(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var o=i==="GeometryCollection",s=[];return this.eachLayer(function(d){if(d.toGeoJSON){var v=d.toGeoJSON(t);if(o)s.push(v.geometry);else{var b=ao(v);b.type==="FeatureCollection"?s.push.apply(s,b.features):s.push(b)}}}),o?Ni(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});function ol(t,i){return new fn(t,i)}var an=ol,Zn=on.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,o){this._url=t,this._bounds=ke(i),O(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&xi(this._image),this},bringToBack:function(){return this._map&&Pn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ke(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:$e("img");if(Ve(i,"leaflet-image-layer"),this._zoomAnimated&&Ve(i,"leaflet-zoom-animated"),this.options.className&&Ve(i,this.options.className),i.onselectstart=Z,i.onmousemove=Z,i.onload=S(this.fire,this,"load"),i.onerror=S(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;en(this._image,o,i)},_reset:function(){var t=this._image,i=new E(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=i.getSize();ft(t,i.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){Nt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),al=function(t,i,o){return new Zn(t,i,o)},Xo=Zn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:$e("video");if(Ve(i,"leaflet-image-layer"),this._zoomAnimated&&Ve(i,"leaflet-zoom-animated"),this.options.className&&Ve(i,this.options.className),i.onselectstart=Z,i.onmousemove=Z,i.onloadeddata=S(this.fire,this,"load"),t){for(var o=i.getElementsByTagName("source"),s=[],d=0;d<o.length;d++)s.push(o[d].src);this._url=o.length>0?s:[i.src];return}te(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var b=$e("source");b.src=this._url[v],i.appendChild(b)}}});function ll(t,i,o){return new Xo(t,i,o)}var ea=Zn.extend({_initImage:function(){var t=this._image=this._url;Ve(t,"leaflet-image-layer"),this._zoomAnimated&&Ve(t,"leaflet-zoom-animated"),this.options.className&&Ve(t,this.options.className),t.onselectstart=Z,t.onmousemove=Z}});function ta(t,i,o){return new ea(t,i,o)}var pn=on.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof Pe||te(t))?(this._latlng=_e(t),O(this,i)):(O(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Nt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Nt(this._container,1),this.bringToFront(),this.options.interactive&&(Ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Nt(this._container,0),this._removeTimeout=setTimeout(S(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=_e(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xi(this._container),this},bringToBack:function(){return this._map&&Pn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof En){i=null;var o=this._source._layers;for(var s in o)if(o[s]._map){i=o[s];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=J(this.options.offset),o=this._getAnchor();this._zoomAnimated?ft(this._container,t.add(o)):i=i.add(t).add(o);var s=this._containerBottom=-i.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=s+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Ye.include({_initOverlay:function(t,i,o,s){var d=i;return d instanceof t||(d=new t(s).setContent(i)),o&&d.setLatLng(o),d}}),on.include({_initOverlay:function(t,i,o,s){var d=o;return d instanceof t?(O(d,s),d._source=this):(d=i&&!s?i:new t(s,this),d.setContent(o)),d}});var lo=pn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,pn.prototype.openOn.call(this,t)},onAdd:function(t){pn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof jn||this._source.on("preclick",hn))},onRemove:function(t){pn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof jn||this._source.off("preclick",hn))},getEvents:function(){var t=pn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=$e("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=$e("div",t+"-content-wrapper",i);if(this._contentNode=$e("div",t+"-content",o),hr(i),Kr(this._contentNode),Ze(i,"contextmenu",hn),this._tipContainer=$e("div",t+"-tip-container",i),this._tip=$e("div",t+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=$e("a",t+"-close-button",i);s.setAttribute("role","button"),s.setAttribute("aria-label","Close popup"),s.href="#close",s.innerHTML='<span aria-hidden="true">&#215;</span>',Ze(s,"click",function(d){ct(d),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),i.width=o+1+"px",i.whiteSpace="",i.height="";var s=t.offsetHeight,d=this.options.maxHeight,v="leaflet-popup-scrolled";d&&s>d?(i.height=d+"px",Ve(t,v)):rt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();ft(this._container,i.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(sr(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+i,s=this._containerWidth,d=new W(this._containerLeft,-o-this._containerBottom);d._add(bn(this._container));var v=t.layerPointToContainerPoint(d),b=J(this.options.autoPanPadding),U=J(this.options.autoPanPaddingTopLeft||b),G=J(this.options.autoPanPaddingBottomRight||b),ae=t.getSize(),xe=0,Ae=0;v.x+s+G.x>ae.x&&(xe=v.x+s-ae.x+G.x),v.x-xe-U.x<0&&(xe=v.x-U.x),v.y+o+G.y>ae.y&&(Ae=v.y+o-ae.y+G.y),v.y-Ae-U.y<0&&(Ae=v.y-U.y),(xe||Ae)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([xe,Ae]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mi=function(t,i){return new lo(t,i)};Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(t,i,o){return this._initOverlay(lo,t,i,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),on.include({bindPopup:function(t,i){return this._popup=this._initOverlay(lo,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof En||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){nn(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof jn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var zi=pn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){pn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){pn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=pn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$e("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,o,s=this._map,d=this._container,v=s.latLngToContainerPoint(s.getCenter()),b=s.layerPointToContainerPoint(t),U=this.options.direction,G=d.offsetWidth,ae=d.offsetHeight,xe=J(this.options.offset),Ae=this._getAnchor();U==="top"?(i=G/2,o=ae):U==="bottom"?(i=G/2,o=0):U==="center"?(i=G/2,o=ae/2):U==="right"?(i=0,o=ae/2):U==="left"?(i=G,o=ae/2):b.x<v.x?(U="right",i=0,o=ae/2):(U="left",i=G+(xe.x+Ae.x)*2,o=ae/2),t=t.subtract(J(i,o,!0)).add(xe).add(Ae),rt(d,"leaflet-tooltip-right"),rt(d,"leaflet-tooltip-left"),rt(d,"leaflet-tooltip-top"),rt(d,"leaflet-tooltip-bottom"),Ve(d,"leaflet-tooltip-"+U),ft(d,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Nt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yr=function(t,i){return new zi(t,i)};Ye.include({openTooltip:function(t,i,o){return this._initOverlay(zi,t,i,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),on.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(zi,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[i](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof En||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(Ze(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Ze(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,o,s;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),s=this._map.containerPointToLayerPoint(o),i=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(i)}});var so=oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Zr(i),i.appendChild(o.html)):i.innerHTML=o.html!==!1?o.html:"",o.bgPos){var s=J(o.bgPos);i.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function sl(t){return new so(t)}oi.Default=Li;var Wn=on.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){O(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),at(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Pn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof W?t:new W(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,o=-t(-1/0,1/0),s=0,d=i.length,v;s<d;s++)v=i[s].style.zIndex,i[s]!==this._container&&v&&(o=t(o,+v));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){Nt(this._container,this.options.opacity);var t=+new Date,i=!1,o=!1;for(var s in this._tiles){var d=this._tiles[s];if(!(!d.current||!d.loaded)){var v=Math.min(1,(t-d.loaded)/200);Nt(d.el,v),v<1?i=!0:(d.active?o=!0:this._onOpaqueTile(d),d.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),i&&(Be(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this))}},_onOpaqueTile:Z,_initContainer:function(){this._container||(this._container=$e("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=i-Math.abs(t-o),this._onUpdateLevel(o)):(at(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var s=this._levels[t],d=this._map;return s||(s=this._levels[t]={},s.el=$e("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=i,s.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,d.getCenter(),d.getZoom()),Z(s.el.offsetWidth),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:Z,_onRemoveLevel:Z,_onCreateLevel:Z,_pruneTiles:function(){if(this._map){var t,i,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var s=i.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)at(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,o,s){var d=Math.floor(t/2),v=Math.floor(i/2),b=o-1,U=new W(+d,+v);U.z=+b;var G=this._tileCoordsToKey(U),ae=this._tiles[G];return ae&&ae.active?(ae.retain=!0,!0):(ae&&ae.loaded&&(ae.retain=!0),b>s?this._retainParent(d,v,b,s):!1)},_retainChildren:function(t,i,o,s){for(var d=2*t;d<2*t+2;d++)for(var v=2*i;v<2*i+2;v++){var b=new W(d,v);b.z=o+1;var U=this._tileCoordsToKey(b),G=this._tiles[U];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);o+1<s&&this._retainChildren(d,v,o+1,s)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,o,s){var d=Math.round(i);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var v=this.options.updateWhenZooming&&d!==this._tileZoom;(!s||v)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,i)},_setZoomTransform:function(t,i,o){var s=this._map.getZoomScale(o,t.zoom),d=t.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(i,o)).round();Me.any3d?en(t.el,d,s):ft(t.el,d)},_resetGrid:function(){var t=this._map,i=t.options.crs,o=this._tileSize=this.getTileSize(),s=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],s).x/o.x),Math.ceil(t.project([0,i.wrapLng[1]],s).x/o.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],s).y/o.x),Math.ceil(t.project([i.wrapLat[1],0],s).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,o=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),s=i.getZoomScale(o,this._tileZoom),d=i.project(t,this._tileZoom).floor(),v=i.getSize().divideBy(s*2);return new E(d.subtract(v),d.add(v))},_update:function(t){var i=this._map;if(i){var o=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var s=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(s),v=d.getCenter(),b=[],U=this.options.keepBuffer,G=new E(d.getBottomLeft().subtract([U,-U]),d.getTopRight().add([U,-U]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ae in this._tiles){var xe=this._tiles[ae].coords;(xe.z!==this._tileZoom||!G.contains(new W(xe.x,xe.y)))&&(this._tiles[ae].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var Ae=d.min.y;Ae<=d.max.y;Ae++)for(var Ge=d.min.x;Ge<=d.max.x;Ge++){var wt=new W(Ge,Ae);if(wt.z=this._tileZoom,!!this._isValidTile(wt)){var gt=this._tiles[this._tileCoordsToKey(wt)];gt?gt.current=!0:b.push(wt)}}if(b.sort(function(zt,Di){return zt.distanceTo(v)-Di.distanceTo(v)}),b.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ut=document.createDocumentFragment();for(Ge=0;Ge<b.length;Ge++)this._addTile(b[Ge],Ut);this._level.el.appendChild(Ut)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var o=this._globalTileRange;if(!i.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!i.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(t);return ke(this.options.bounds).overlaps(s)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,o=this.getTileSize(),s=t.scaleBy(o),d=s.add(o),v=i.unproject(s,t.z),b=i.unproject(d,t.z);return[v,b]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),o=new be(i[0],i[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),o=new W(+i[0],+i[1]);return o.z=+i[2],o},_removeTile:function(t){var i=this._tiles[t];i&&(at(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ve(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=Z,t.onmousemove=Z,Me.ielt9&&this.options.opacity<1&&Nt(t,this.options.opacity)},_addTile:function(t,i){var o=this._getTilePos(t),s=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),S(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&ne(S(this._tileReady,this,t,null,d)),ft(d,o),this._tiles[s]={el:d,coords:t,current:!0},i.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,i,o){i&&this.fire("tileerror",{error:i,tile:o,coords:t});var s=this._tileCoordsToKey(t);o=this._tiles[s],o&&(o.loaded=+new Date,this._map._fadeAnimated?(Nt(o.el,0),Be(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),i||(Ve(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?ne(this._pruneTiles,this):setTimeout(S(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new W(this._wrapX?B(t.x,this._wrapX):t.x,this._wrapY?B(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new E(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ii(t){return new Wn(t)}var Hn=Wn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=O(this,i),i.detectRetina&&Me.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var o=document.createElement("img");return Ze(o,"load",S(this._tileOnLoad,this,i,o)),Ze(o,"error",S(this._tileOnError,this,i,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(t),o},getTileUrl:function(t){var i={r:Me.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=o),i["-y"]=o}return ue(this._url,_(i,this.options))},_tileOnLoad:function(t,i){Me.ielt9?setTimeout(S(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,o){var s=this.options.errorTileUrl;s&&i.getAttribute("src")!==s&&(i.src=s),t(o,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,o=this.options.zoomReverse,s=this.options.zoomOffset;return o&&(t=i-t),t+s},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=Z,i.onerror=Z,!i.complete)){i.src=Te;var o=this._tiles[t].coords;at(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:o})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",Te),Wn.prototype._removeTile.call(this,t)},_tileReady:function(t,i,o){if(!(!this._map||o&&o.getAttribute("src")===Te))return Wn.prototype._tileReady.call(this,t,i,o)}});function na(t,i){return new Hn(t,i)}var _r=Hn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var o=_({},this.defaultWmsParams);for(var s in i)s in this.options||(o[s]=i[s]);i=O(this,i);var d=i.detectRetina&&Me.retina?2:1,v=this.getTileSize();o.width=v.x*d,o.height=v.y*d,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Hn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),o=this._crs,s=X(o.project(i[0]),o.project(i[1])),d=s.min,v=s.max,b=(this._wmsVersion>=1.3&&this._crs===tl?[d.y,d.x,v.y,v.x]:[d.x,d.y,v.x,v.y]).join(","),U=Hn.prototype.getTileUrl.call(this,t);return U+F(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(t,i){return _(this.wmsParams,t),i||this.redraw(),this}});function ul(t,i){return new _r(t,i)}Hn.WMS=_r,na.wms=ul;var mn=on.extend({options:{padding:.1},initialize:function(t){O(this,t),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var o=this._map.getZoomScale(i,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,i),v=s.multiplyBy(-o).add(d).subtract(this._map._getNewPixelOrigin(t,i));Me.any3d?en(this._container,v,o):ft(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),o=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new E(o,o.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ia=mn.extend({options:{tolerance:0},getEvents:function(){var t=mn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ze(t,"mousemove",this._onMouseMove,this),Ze(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ze(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Be(this._redrawRequest),delete this._ctx,at(this._container),nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mn.prototype._update.call(this);var t=this._bounds,i=this._container,o=t.getSize(),s=Me.retina?2:1;ft(i,t.min),i.width=s*o.x,i.height=s*o.y,i.style.width=o.x+"px",i.style.height=o.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){mn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[x(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,o=i.next,s=i.prev;o?o.prev=s:this._drawLast=s,s?s.next=o:this._drawFirst=o,delete t._order,delete this._layers[x(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),o=[],s,d;for(d=0;d<i.length;d++){if(s=Number(i[d]),isNaN(s))return;o.push(s)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ne(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new E,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var o=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)t=s.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var o,s,d,v,b=t._parts,U=b.length,G=this._ctx;if(U){for(G.beginPath(),o=0;o<U;o++){for(s=0,d=b[o].length;s<d;s++)v=b[o][s],G[s?"lineTo":"moveTo"](v.x,v.y);i&&G.closePath()}this._fillStroke(G,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,o=this._ctx,s=Math.max(Math.round(t._radius),1),d=(Math.max(Math.round(t._radiusY),1)||s)/s;d!==1&&(o.save(),o.scale(1,d)),o.beginPath(),o.arc(i.x,i.y/d,s,0,Math.PI*2,!1),d!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,i){var o=i.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),o,s,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(s=o);this._fireEvent(s?[s]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(rt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var o,s,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(i)&&(s=o);s!==this._hoveredLayer&&(this._handleMouseOut(t),s&&(Ve(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseover"),this._hoveredLayer=s)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(S(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,o){this._map._fireDOMEvent(i,o||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var o=i.next,s=i.prev;if(o)o.prev=s;else return;s?s.next=o:o&&(this._drawFirst=o),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var o=i.next,s=i.prev;if(s)s.next=o;else return;o?o.prev=s:s&&(this._drawLast=s),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function ra(t){return Me.canvas?new ia(t):null}var Bi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),cl={_initContainer:function(){this._container=$e("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=Bi("shape");Ve(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=Bi("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[x(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;at(i),t.removeInteractiveTarget(i),delete this._layers[x(t)]},_updateStyle:function(t){var i=t._stroke,o=t._fill,s=t.options,d=t._container;d.stroked=!!s.stroke,d.filled=!!s.fill,s.stroke?(i||(i=t._stroke=Bi("stroke")),d.appendChild(i),i.weight=s.weight+"px",i.color=s.color,i.opacity=s.opacity,s.dashArray?i.dashStyle=te(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=s.lineCap.replace("butt","flat"),i.joinstyle=s.lineJoin):i&&(d.removeChild(i),t._stroke=null),s.fill?(o||(o=t._fill=Bi("fill")),d.appendChild(o),o.color=s.fillColor||s.color,o.opacity=s.fillOpacity):o&&(d.removeChild(o),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),o=Math.round(t._radius),s=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+o+","+s+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){xi(t._container)},_bringToBack:function(t){Pn(t._container)}},ln=Me.vml?Bi:pe,ai=mn.extend({_initContainer:function(){this._container=ln("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ln("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,o.setAttribute("width",i.x),o.setAttribute("height",i.y)),ft(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=ln("path");t.options.className&&Ve(i,t.options.className),t.options.interactive&&Ve(i,"leaflet-interactive"),this._updateStyle(t),this._layers[x(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){at(t._path),t.removeInteractiveTarget(t._path),delete this._layers[x(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,o=t.options;i&&(o.stroke?(i.setAttribute("stroke",o.color),i.setAttribute("stroke-opacity",o.opacity),i.setAttribute("stroke-width",o.weight),i.setAttribute("stroke-linecap",o.lineCap),i.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?i.setAttribute("stroke-dasharray",o.dashArray):i.removeAttribute("stroke-dasharray"),o.dashOffset?i.setAttribute("stroke-dashoffset",o.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),o.fill?(i.setAttribute("fill",o.fillColor||o.color),i.setAttribute("fill-opacity",o.fillOpacity),i.setAttribute("fill-rule",o.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,ee(t._parts,i))},_updateCircle:function(t){var i=t._point,o=Math.max(Math.round(t._radius),1),s=Math.max(Math.round(t._radiusY),1)||o,d="a"+o+","+s+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(i.x-o)+","+i.y+d+o*2+",0 "+d+-o*2+",0 ";this._setPath(t,v)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){xi(t._path)},_bringToBack:function(t){Pn(t._path)}});Me.vml&&ai.include(cl);function uo(t){return Me.svg||Me.vml?new ai(t):null}Ye.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&ra(t)||uo(t)}});var dl=On.extend({initialize:function(t,i){On.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ke(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function ks(t,i){return new dl(t,i)}ai.create=ln,ai.pointsToPath=ee,fn.geometryToLayer=Oi,fn.coordsToLatLng=io,fn.coordsToLatLngs=vr,fn.latLngToCoords=ro,fn.latLngsToCoords=oo,fn.getFeature=Ni,fn.asFeature=ao,Ye.mergeOptions({boxZoom:!0});var Ri=Vt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qe(),Vr(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ze(document,{contextmenu:nn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=$e("div","leaflet-zoom-box",this._container),Ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new E(this._point,this._startPoint),o=i.getSize();ft(this._box,i.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(at(this._box),rt(this._container,"leaflet-crosshair")),ki(),$r(),nt(document,{contextmenu:nn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(S(this._resetState,this),0);var i=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ye.addInitHook("addHandler","boxZoom",Ri),Ye.mergeOptions({doubleClickZoom:!0});var hl=Vt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,o=i.getZoom(),s=i.options.zoomDelta,d=t.originalEvent.shiftKey?o-s:o+s;i.options.doubleClickZoom==="center"?i.setZoom(d):i.setZoomAround(t.containerPoint,d)}});Ye.addInitHook("addHandler","doubleClickZoom",hl),Ye.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var oa=Vt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new rn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){rt(this._map._container,"leaflet-grab"),rt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=ke(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),o=this._initialWorldOffset,s=this._draggable._newPos.x,d=(s-i+o)%t+i-o,v=(s+i+o)%t-i-o,b=Math.abs(d+o)<Math.abs(v+o)?d:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=b},_onDragEnd:function(t){var i=this._map,o=i.options,s=!o.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),s)i.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,b=o.easeLinearity,U=d.multiplyBy(b/v),G=U.distanceTo([0,0]),ae=Math.min(o.inertiaMaxSpeed,G),xe=U.multiplyBy(ae/G),Ae=ae/(o.inertiaDeceleration*b),Ge=xe.multiplyBy(-Ae/2).round();!Ge.x&&!Ge.y?i.fire("moveend"):(Ge=i._limitOffset(Ge,i.options.maxBounds),ne(function(){i.panBy(Ge,{duration:Ae,easeLinearity:b,noMoveStart:!0,animate:!0})}))}}});Ye.addInitHook("addHandler","dragging",oa),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var aa=Vt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ze(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,o=t.scrollTop||i.scrollTop,s=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},o=this.keyCodes,s,d;for(s=0,d=o.left.length;s<d;s++)i[o.left[s]]=[-1*t,0];for(s=0,d=o.right.length;s<d;s++)i[o.right[s]]=[t,0];for(s=0,d=o.down.length;s<d;s++)i[o.down[s]]=[0,t];for(s=0,d=o.up.length;s<d;s++)i[o.up[s]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},o=this.keyCodes,s,d;for(s=0,d=o.zoomIn.length;s<d;s++)i[o.zoomIn[s]]=t;for(s=0,d=o.zoomOut.length;s<d;s++)i[o.zoomOut[s]]=-t},_addHooks:function(){Ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,o=this._map,s;if(i in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(s=this._panKeys[i],t.shiftKey&&(s=J(s).multiplyBy(3)),o.options.maxBounds&&(s=o._limitOffset(J(s),o.options.maxBounds)),o.options.worldCopyJump){var d=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(s)));o.panTo(d)}else o.panBy(s)}else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;nn(t)}}});Ye.addInitHook("addHandler","keyboard",aa),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var it=Vt.extend({addHooks:function(){Ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Ga(t),o=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var s=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(S(this._performZoom,this),s),nn(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var s=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,v=o?Math.ceil(d/o)*o:d,b=t._limitZoom(i+(this._delta>0?v:-v))-i;this._delta=0,this._startTime=null,b&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+b):t.setZoomAround(this._lastMousePos,i+b))}});Ye.addInitHook("addHandler","scrollWheelZoom",it);var la=600;Ye.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var wr=Vt.extend({addHooks:function(){Ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new W(i.clientX,i.clientY),this._holdTimeout=setTimeout(S(function(){this._cancel(),this._isTapValid()&&(Ze(document,"touchend",ct),Ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),la),Ze(document,"touchend touchcancel contextmenu",this._cancel,this),Ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){nt(document,"touchend",ct),nt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),nt(document,"touchend touchcancel contextmenu",this._cancel,this),nt(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new W(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});o._simulated=!0,i.target.dispatchEvent(o)}});Ye.addInitHook("addHandler","tapHold",wr),Ye.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var Ai=Vt.extend({addHooks:function(){Ve(this._map._container,"leaflet-touch-zoom"),Ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var o=i.mouseEventToContainerPoint(t.touches[0]),s=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(o.add(s)._divideBy(2))),this._startDist=o.distanceTo(s),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Ze(document,"touchmove",this._onTouchMove,this),Ze(document,"touchend touchcancel",this._onTouchEnd,this),ct(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,o=i.mouseEventToContainerPoint(t.touches[0]),s=i.mouseEventToContainerPoint(t.touches[1]),d=o.distanceTo(s)/this._startDist;if(this._zoom=i.getScaleZoom(d,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&d<1||this._zoom>i.getMaxZoom()&&d>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var v=o._add(s)._divideBy(2)._subtract(this._centerPoint);if(d===1&&v.x===0&&v.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),Be(this._animRequest);var b=S(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ne(b,this,!0),ct(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Be(this._animRequest),nt(document,"touchmove",this._onTouchMove,this),nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ye.addInitHook("addHandler","touchZoom",Ai),Ye.BoxZoom=Ri,Ye.DoubleClickZoom=hl,Ye.Drag=oa,Ye.Keyboard=aa,Ye.ScrollWheelZoom=it,Ye.TapHold=wr,Ye.TouchZoom=Ai,h.Bounds=E,h.Browser=Me,h.CRS=de,h.Canvas=ia,h.Circle=to,h.CircleMarker=eo,h.Class=oe,h.Control=Dt,h.DivIcon=so,h.DivOverlay=pn,h.DomEvent=Yr,h.DomUtil=dr,h.Draggable=rn,h.Evented=Ce,h.FeatureGroup=En,h.GeoJSON=fn,h.GridLayer=Wn,h.Handler=Vt,h.Icon=oi,h.ImageOverlay=Zn,h.LatLng=Pe,h.LatLngBounds=be,h.Layer=on,h.LayerGroup=Un,h.LineUtil=el,h.Map=Ye,h.Marker=Ln,h.Mixin=Ho,h.Path=jn,h.Point=W,h.PolyUtil=fs,h.Polygon=On,h.Polyline=Ft,h.Popup=lo,h.PosAnimation=qr,h.Projection=ys,h.Rectangle=dl,h.Renderer=mn,h.SVG=ai,h.SVGOverlay=ea,h.TileLayer=Hn,h.Tooltip=zi,h.Transformation=Ue,h.Util=ge,h.VideoOverlay=Xo,h.bind=S,h.bounds=X,h.canvas=ra,h.circle=gr,h.circleMarker=rl,h.control=Fn,h.divIcon=sl,h.extend=_,h.featureGroup=nl,h.geoJSON=ol,h.geoJson=an,h.gridLayer=Ii,h.icon=il,h.imageOverlay=al,h.latLng=_e,h.latLngBounds=ke,h.layerGroup=mr,h.map=Dn,h.marker=xs,h.point=J,h.polygon=Ss,h.polyline=Cs,h.popup=Mi,h.rectangle=ks,h.setOptions=O,h.stamp=x,h.svg=uo,h.svgOverlay=ta,h.tileLayer=na,h.tooltip=yr,h.transformation=tt,h.version=y,h.videoOverlay=ll;var fl=window.L;h.noConflict=function(){return window.L=fl,this},window.L=h})}(ka,ka.exports)),ka.exports}var Oa=Up();const jp=Uu(Oa);function Vu(p,m,h){return Object.freeze({instance:p,context:m,container:h})}function $u(p,m){return m==null?function(y,_){const k=T.useRef();return k.current||(k.current=p(y,_)),k}:function(y,_){const k=T.useRef();k.current||(k.current=p(y,_));const S=T.useRef(y),{instance:P}=k.current;return T.useEffect(function(){S.current!==y&&(m(P,y,S.current),S.current=y)},[P,y,_]),k}}function Zp(p,m){T.useEffect(function(){return(m.layerContainer??m.map).addLayer(p.instance),function(){var k;(k=m.layerContainer)==null||k.removeLayer(p.instance),m.map.removeLayer(p.instance)}},[m,p])}function ph(p){return function(h){const y=hh(),_=p(Hu(h,y),y);return uh(y.map,h.attribution),fh(_.current,h.eventHandlers),Zp(_.current,y),_}}function Wp(p,m){const h=$u(p,m),y=ph(h);return Bp(y)}function Hp(p,m){const h=$u(p),y=Dp(h,m);return Rp(y)}function Vp(p,m){const h=$u(p,m),y=ph(h);return Ap(y)}function $p(p,m,h){const{opacity:y,zIndex:_}=m;y!=null&&y!==h.opacity&&p.setOpacity(y),_!=null&&_!==h.zIndex&&p.setZIndex(_)}function Gp({bounds:p,boundsOptions:m,center:h,children:y,className:_,id:k,placeholder:S,style:P,whenReady:x,zoom:w,...B},Z){const[V]=T.useState({className:_,id:k,style:P}),[re,M]=T.useState(null);T.useImperativeHandle(Z,()=>(re==null?void 0:re.map)??null,[re]);const O=T.useCallback(D=>{if(D!==null&&re===null){const ue=new Oa.Map(D,B);h!=null&&w!=null?ue.setView(h,w):p!=null&&ue.fitBounds(p,m),x!=null&&ue.whenReady(x),M(zp(ue))}},[]);return T.useEffect(()=>()=>{re==null||re.map.remove()},[re]),l("div",{...V,ref:O,children:re?l(dh,{value:re,children:y}):S??null})}const Kp=T.forwardRef(Gp),Yp=Wp(function({position:m,...h},y){const _=new Oa.Marker(m,h);return Vu(_,Ip(y,{overlayContainer:_}))},function(m,h,y){h.position!==y.position&&m.setLatLng(h.position),h.icon!=null&&h.icon!==y.icon&&m.setIcon(h.icon),h.zIndexOffset!=null&&h.zIndexOffset!==y.zIndexOffset&&m.setZIndexOffset(h.zIndexOffset),h.opacity!=null&&h.opacity!==y.opacity&&m.setOpacity(h.opacity),m.dragging!=null&&h.draggable!==y.draggable&&(h.draggable===!0?m.dragging.enable():m.dragging.disable())}),qp=Hp(function(m,h){const y=new Oa.Popup(m,h.overlayContainer);return Vu(y,h)},function(m,h,{position:y},_){T.useEffect(function(){const{instance:S}=m;function P(w){w.popup===S&&(S.update(),_(!0))}function x(w){w.popup===S&&_(!1)}return h.map.on({popupopen:P,popupclose:x}),h.overlayContainer==null?(y!=null&&S.setLatLng(y),S.openOn(h.map)):h.overlayContainer.bindPopup(S),function(){var B;h.map.off({popupopen:P,popupclose:x}),(B=h.overlayContainer)==null||B.unbindPopup(),h.map.removeLayer(S)}},[m,h,_,y])}),Jp=Vp(function({url:m,...h},y){const _=new Oa.TileLayer(m,Hu(h,y));return Vu(_,y)},function(m,h,y){$p(m,h,y);const{url:_}=h;_!=null&&_!==y.url&&m.setUrl(_)}),Qp=new jp.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/256/2894/2894975.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-30]}),Xp=[{call_sign:"AMB-001",company:"Red Cross Ambulance",status:"Available",lat:9.06434,lng:7.48487,speed:0},{call_sign:"AMB-002",company:"Red Cross Ambulance",status:"On Duty",lat:9.0646,lng:7.4846,speed:45},{call_sign:"AMB-003",company:"Red Cross Ambulance",status:"Unavailable",lat:9.0642,lng:7.4878,speed:0},{call_sign:"AMB-004",company:"St John Ambulance",status:"Available",lat:9.0646,lng:7.48492,speed:30},{call_sign:"AMB-005",company:"Red Cross Ambulance",status:"On Duty",lat:9.0641,lng:7.48475,speed:25}],Je={page:{width:"98%",height:"80vh",overflowY:"auto"},header:{height:"5%"},body:{width:"100%",height:"80%"},footer:{width:"95%",height:"15%"},title:{fontSize:"1.5em",marginBottom:"20px",color:"#333",textAlign:"center"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1}};function em(){const[p,m]=T.useState("triage"),[h,y]=T.useState("eligible"),[_,k]=T.useState({}),[S,P]=T.useState(0);T.useEffect(()=>{const w=async B=>{const Z=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(_.address)}`;try{const V=await fetch(Z);if(!V.ok)throw new Error(`HTTP error! Status: ${V.status}`);const M=(await V.json())[0];return k({..._,location:M}),console.log(`Latitude: ${M.lat}, Longitude: ${M.lon}`),M}catch(V){console.error("Error geocoding the address:",V)}};_.address&&w(_.address)},[_.address]),T.useEffect(()=>{(()=>{let B=0;_.isRegisteredClient==="no"&&y("ineligible"),_.isBreathing==="no"&&(B+=10),_.hasPulse==="no"&&(B+=10),_.isConscious==="no"&&(B+=10),P(B)})()},[_]);const x=()=>{k({}),m("triage"),y("eligible")};return f("div",{children:[p==="triage"&&f("div",{style:Je.page,children:[h=="eligible"&&f("div",{children:[l("h3",{style:Je.title,children:"Ambulance Triage"}),f("p",{children:[l("strong",{children:"TRIAGE SCORE:"})," ",S]}),f("label",{style:Je.label,children:["Is Patient Registered on PrescribeNg Platform?:",f("select",{value:_.isRegisteredClient,style:Je.input,onChange:w=>k({..._,isRegisteredClient:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"yes",children:"Yes"}),l("option",{value:"no",children:"No"})]})]}),f("label",{style:Je.label,children:["Is Patient Breathing?:",f("select",{value:_.isBreathing,style:Je.input,onChange:w=>k({..._,isBreathing:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"yes",children:"Yes"}),l("option",{value:"no",children:"No"})]})]}),f("label",{style:Je.label,children:["Does patient have a pulse?:",f("select",{value:_.hasPulse,style:Je.input,onChange:w=>k({..._,hasPulse:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"yes",children:"Yes"}),l("option",{value:"no",children:"No"})]})]}),f("label",{style:Je.label,children:["Is patient conscious?:",f("select",{value:_.isConscious,style:Je.input,onChange:w=>k({..._,isConscious:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"yes",children:"Yes"}),l("option",{value:"no",children:"No"})]})]}),f("label",{style:Je.label,children:["Incident:",f("select",{value:_.situation,style:Je.input,onChange:w=>k({..._,situation:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"Found unresponsive",children:"Found unresponsive"}),l("option",{value:"Road Traffic Accident",children:"Road Traffic Accident"}),l("option",{value:"other reasons",children:"other"})]}),l("input",{value:_.location,style:Je.input,onChange:w=>k({..._,address:w.target.value}),required:!0})]}),l("h3",{children:"Security Questions"}),f("label",{style:Je.label,children:["Patient's last name:",l("input",{value:_.patientLastName,style:Je.input,onChange:w=>k({..._,patientLastName:w.target.value}),required:!0})]}),f("label",{style:Je.label,children:["Patient's first name:",l("input",{value:_.patientFirstName,style:Je.input,onChange:w=>k({..._,patientFirstName:w.target.value}),required:!0})]}),f("label",{style:Je.label,children:["Patient's PPN:",l("input",{value:_.patientPPN,style:Je.input,onChange:w=>k({..._,patientPPN:w.target.value}),required:!0})]}),f("label",{style:Je.label,children:["Caller's Details (First name/Last name/Phone number):",l("input",{value:_.callerDetails,style:Je.input,onChange:w=>k({..._,callerDetails:w.target.value}),required:!0})]}),f("label",{style:Je.label,children:["Patient Address/Location:",l("input",{value:_.location,style:Je.input,onChange:w=>k({..._,address:w.target.value}),required:!0})]}),f("label",{style:Je.label,children:["Coordinates:",l("input",{value:_.gps,style:Je.input,readOnly:!0})]}),f("div",{style:Je.buttonContainer,children:[l("button",{style:Je.submitButton,children:"Submit"}),l("button",{type:"button",style:Je.cancelButton,onClick:()=>m("fleet"),children:"Cancel"})]})]}),h=="ineligible"&&f("div",{children:[l("h3",{style:Je.title,children:"Ineligible Client!!!"}),l("div",{style:Je.buttonContainer,children:l("button",{type:"button",style:Je.cancelButton,onClick:x,children:"Close"})})]})]}),p==="fleet"&&f("div",{style:Je.page,children:[l("h3",{style:Je.header,children:"Service Locations"}),l("div",{style:Je.body,children:f(Kp,{center:[9.0643401849788,7.4848690457152],zoom:13,style:{height:"500px",width:"100%"},children:[l(Jp,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Xp.map((w,B)=>l(Yp,{position:[w.lat,w.lng],icon:Qp,children:f(qp,{children:[l("strong",{children:"Call Sign:"})," ",w.call_sign," ",l("br",{}),l("strong",{children:"Company:"})," ",w.company," ",l("br",{}),l("strong",{children:"Status:"})," ",w.status," ",l("br",{}),l("strong",{children:"Speed:"})," ",w.speed," km/h"]})},B))]})}),l("div",{style:Je.footer,children:"footer"})]})]})}function tm(){const{state:p}=T.useContext(kn),{spineUrl:m,token:h,accessLevel:y,allStates:_}=p,[k,S]=T.useState([]),[P,x]=T.useState("page1"),[w,B]=T.useState({}),[Z,V]=T.useState({organisationEmailOTP:"",kp1EmailOTP:"",kp1MobileOTP:"",kp2EmailOTP:"",kp2MobileOTP:""}),[re,M]=T.useState("");Sn();const[O,F]=T.useState(!1);T.useEffect(()=>{(async()=>{F(!0);try{const q=await fetch(`${m}/organisations/fetch_approved_localities?state=${encodeURIComponent(w.state)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(q.ok){const ne=await q.json();S(ne.localities)}else{const ne=await q.json();alert(ne.message)}}catch(q){console.error("Error fetching approved localities:",q),alert("An error occurred while fetching approved localities")}finally{F(!1)}})()},[w.state]);const D=async()=>{F(!0);try{const z=await fetch(`${m}/organisations/generate_organisation_email_otp?organisationEmail=${encodeURIComponent(w.organisationEmail)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(z.ok){const q=await z.json();V({...Z,organisationEmailOTP:q.organisationEmailOTP}),x("page3")}else{const q=await z.json();alert(q.message)}}catch(z){console.error("Submission error:",z),alert("An error occurred while generating otp")}finally{F(!1)}},ue=async()=>{if(w.organisationEmailOTP!==Z.organisationEmailOTP){alert("Invalid OTP!");return}else alert("Organisation Email verified!"),x("page4")},te=async()=>{F(!0);try{const z=await fetch(`${m}/organisations/generate_email_and_mobile_otp?email=${encodeURIComponent(w.kp1Email)}&mobile=${w.kp1Mobile}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(z.ok){const q=await z.json();V({...Z,kp1EmailOTP:q.emailOTP,kp1MobileOTP:q.mobileOTP}),x("page5")}else{const q=await z.json();alert(q.message)}}catch(z){console.error("Submission error:",z),alert("An error occurred while generating otp")}finally{F(!1)}},me=async()=>{if(w.kp1EmailOTP!==Z.kp1EmailOTP){alert("Invalid Email OTP!");return}else if(w.kp1MobileOTP!==Z.kp1MobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),x("page6")},Te=async()=>{F(!0);try{const z=await fetch(`${m}/organisations/generate_email_and_mobile_otp?email=${encodeURIComponent(w.kp2Email)}&mobile=${w.kp2Mobile}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(z.ok){const q=await z.json();V({...Z,kp2EmailOTP:q.emailOTP,kp2MobileOTP:q.mobileOTP}),x("page7")}else{const q=await z.json();alert(q.message)}}catch(z){console.error("Submission error:",z),alert("An error occurred while generating otp")}finally{F(!1)}},Re=async()=>{if(w.kp2EmailOTP!==Z.kp2EmailOTP){alert("Invalid Email OTP!");return}else if(w.kp2MobileOTP!==Z.kp2MobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),x("page8")},Ie=async()=>{if(confirm("Confirm submission")){const q={};Object.entries(w).forEach(([ne,Be])=>{q[ne]=Be});try{const ne=await fetch(`${m}/organisations/organisation_signup`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(q)});if(ne.ok){const Be=await ne.json();M(Be.successMessage),x("page9")}else{const Be=await ne.json();alert(Be.message)}}catch(ne){console.error("Submission error:",ne),alert("An error occurred creating new organisation")}finally{F(!1)}}else alert("New Organisation creation cancelled!")},R={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1}};return f("div",{style:{cursor:O?"wait":"default"},children:[P==="page1"&&f("div",{children:[l("h2",{children:"Terms And Conditions"}),f("div",{style:R.TCBody,children:[l("h3",{children:"GENERAL"}),f("p",{children:[l("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),l("br",{}),l("h3",{children:"PHARMACY"}),l("h3",{children:"HOSPITAL"}),f("p",{children:[l("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),l("br",{}),l("h3",{children:"SPONSOR ORGANISATIONS"}),f("p",{children:[l("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),l("br",{})]}),l("span",{style:R.TCButton,onClick:()=>x("page2"),children:"Agree"})]}),P==="page2"&&f("div",{children:[l("h2",{children:"Organisation Data"}),f("div",{style:R.container,children:[f("label",{style:R.label,children:["Category:",f("select",{type:"text",name:"category",value:w.category,onChange:z=>B({...w,category:z.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Category"}),l("option",{value:"ambulance",children:"Ambulance Company"}),l("option",{value:"clinic",children:"Clinic"}),l("option",{value:"dental",children:"Dental Centre"}),l("option",{value:"hospital",children:"Hospital"}),l("option",{value:"pharmacy",children:"Pharmacy"}),l("option",{value:"physiotherapy",children:"Physiotherapy Centre"}),l("option",{value:"sponsor",children:"Sponsor Organisation"}),l("option",{value:"donor",children:"Donor Agency"}),l("option",{value:"scheme",children:"Scheme"})]})]}),f("label",{style:R.label,children:["Name of Organisation:",l("input",{type:"text",name:"organisation",value:w.organisation,onChange:z=>B({...w,organisation:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["CAC Registration Number:",l("input",{type:"text",name:"registrationNumber",value:w.registrationNumber,onChange:z=>B({...w,registrationNumber:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["State:",f("select",{type:"text",name:"state",value:w.state,onChange:z=>B({...w,state:z.target.value}),style:R.input,children:[l("option",{value:"",children:"Select"}),_.map(z=>l("option",{children:z},z))]})]}),f("label",{style:R.label,children:["City/Town:",f("select",{type:"text",name:"locality",value:w.locality,onChange:z=>B({...w,locality:z.target.value}),style:R.input,children:[l("option",{value:"",children:"Select"}),k.map(z=>l("option",{children:z},z))]})]}),f("label",{style:R.label,children:["Address:",l("input",{type:"text",name:"address",value:w.address,onChange:z=>B({...w,address:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Postal Code:",l("input",{type:"text",name:"postcode",value:w.postcode,onChange:z=>B({...w,postcode:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["GPS Coordinates:",l("input",{type:"text",name:"gps",value:w.gps,onChange:z=>B({...w,gps:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Telephone Number(s):",l("input",{type:"text",name:"organisationTelephone",value:w.organisationTelephone,onChange:z=>B({...w,organisationTelephone:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Organisation Email:",l("input",{type:"text",name:"organisationEmail",value:w.organisationEmail,onChange:z=>B({...w,organisationEmail:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Organisation's IPV4 Address... This is the only address where your account can be signed into:",l("input",{type:"text",name:"ipAddress",value:w.ipAddress,onChange:z=>B({...w,ipAddress:z.target.value}),style:R.input})]}),l("span",{style:R.TCButton,onClick:D,children:"Next Page"})]})]}),P==="page3"&&f("div",{children:[l("h2",{children:"Organisation Email Verification"}),f("div",{style:R.container,children:[l("input",{type:"text",name:"organisationEmailOTP",value:w.organisationEmailOTP,onChange:z=>B({...w,organisationEmailOTP:z.target.value}),style:R.input,placeholder:"Verification code..."}),l("span",{style:R.TCButton,onClick:ue,children:"Verify"}),l("span",{style:R.TCButton,onClick:()=>x("page2"),children:"Back"})]})]}),P==="page4"&&f("div",{children:[l("h2",{children:"Keyperson 1: "}),f("div",{style:R.container,children:[f("label",{style:R.label,children:["KeyPerson1 Title:",f("select",{type:"text",value:w.kp1Title,onChange:z=>B({...w,kp1Title:z.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Mr.",children:"Mr."}),l("option",{value:"Mrs.",children:"Mrs."}),l("option",{value:"Ms.",children:"Ms."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("label",{style:R.label,children:["Keyperson1 Last Name:",l("input",{type:"text",value:w.kp1LastName,onChange:z=>B({...w,kp1LastName:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson1 First Name:",l("input",{type:"text",value:w.kp1FirstName,onChange:z=>B({...w,kp1FirstName:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson1 Department:",l("input",{type:"text",value:w.kp1Department,onChange:z=>B({...w,kp1Department:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson1 Role:",l("input",{type:"text",value:w.kp1Role,onChange:z=>B({...w,kp1Role:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson1 Employee ID:",l("input",{type:"text",value:w.kp1UserID,onChange:z=>B({...w,kp1UserID:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson1 Work Email:",l("input",{type:"text",value:w.kp1Email,onChange:z=>B({...w,kp1Email:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson1 Mobile:",l("input",{type:"number",value:w.kp1Mobile,onChange:z=>B({...w,kp1Mobile:z.target.value}),style:R.input})]}),l("span",{style:R.TCButton,onClick:te,children:"Next Page"}),l("span",{style:R.TCButton,onClick:()=>x("page3"),children:"Back"})]})]}),P==="page5"&&f("div",{children:[l("h2",{children:"Keyperson 1 Email/Mobile Number Verification"}),f("div",{style:R.container,children:[l("label",{style:R.label,children:l("input",{type:"text",name:"kp1EmailOTP",value:w.kp1EmailOTP,onChange:z=>B({...w,kp1EmailOTP:z.target.value}),style:R.input,placeholder:"Keyperson1 Email Verification code..."})}),l("label",{style:R.label,children:l("input",{type:"text",name:"kp1MobileOTP",value:w.kp1MobileOTP,onChange:z=>B({...w,kp1MobileOTP:z.target.value}),style:R.input,placeholder:"Keyperson1 Mobile Verification code..."})}),l("span",{style:R.TCButton,onClick:me,children:"Verify"}),l("span",{style:R.TCButton,onClick:()=>x("page4"),children:"Back"})]})]}),P==="page6"&&f("div",{children:[l("h2",{children:"Keyperson 2: "}),f("div",{style:R.container,children:[f("label",{style:R.label,children:["KeyPerson2 Name:",f("select",{type:"text",value:w.kp2Title,onChange:z=>B({...w,kp2Title:z.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Mr.",children:"Mr."}),l("option",{value:"Mrs.",children:"Mrs."}),l("option",{value:"Ms.",children:"Ms."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("label",{style:R.label,children:["Keyperson2 Last Name:",l("input",{type:"text",value:w.kp2LastName,onChange:z=>B({...w,kp2LastName:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson2 First Name:",l("input",{type:"text",value:w.kp2FirstName,onChange:z=>B({...w,kp2FirstName:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson2 Department:",l("input",{type:"text",value:w.kp2Department,onChange:z=>B({...w,kp2Department:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson2 Role:",l("input",{type:"text",value:w.kp2Role,onChange:z=>B({...w,kp2Role:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson2 Employee ID:",l("input",{type:"text",value:w.kp2UserID,onChange:z=>B({...w,kp2UserID:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson2 Work Email:",l("input",{type:"text",value:w.kp2Email,onChange:z=>B({...w,kp2Email:z.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Keyperson2 Mobile:",l("input",{type:"number",value:w.kp2Mobile,onChange:z=>B({...w,kp2Mobile:z.target.value}),style:R.input})]}),l("span",{style:R.TCButton,onClick:Te,children:"Next Page"}),l("span",{style:R.TCButton,onClick:()=>x("page5"),children:"Back"})]})]}),P==="page7"&&f("div",{children:[l("h2",{children:"Keyperson 2 Email/Mobile Number Verification"}),f("div",{style:R.container,children:[l("label",{style:R.label,children:l("input",{type:"text",name:"kp2EmailOTP",value:w.kp2EmailOTP,onChange:z=>B({...w,kp2EmailOTP:z.target.value}),style:R.input,placeholder:"Keyperson2 Email Verification code..."})}),l("label",{style:R.label,children:l("input",{type:"text",name:"kp2MobileOTP",value:w.kp2MobileOTP,onChange:z=>B({...w,kp2MobileOTP:z.target.value}),style:R.input,placeholder:"Keyperson2 Mobile Verification code..."})}),l("span",{style:R.TCButton,onClick:Re,children:"Verify"}),l("span",{style:R.TCButton,onClick:()=>x("page6"),children:"Back"})]})]}),P==="page8"&&f("div",{children:[l("h2",{children:"Final Submission Page"}),f("div",{style:R.buttonContainer,children:[l("button",{style:R.submitButton,onClick:Ie,children:"Submit"}),l("button",{type:"button",style:R.cancelButton,onClick:()=>x("page1"),children:"Cancel"})]})]}),P==="page9"&&f("div",{children:[l("h2",{children:"Signup Success Page"}),re]})]})}function nm(){const{state:p}=T.useContext(kn),{spineUrl:m,token:h,accessLevel:y,allStates:_}=p,[k,S]=T.useState("page1"),[P,x]=T.useState({}),[w,B]=T.useState({photo:null,rightFinger:null,leftFinger:null}),[Z,V]=T.useState({verifiedWatcher:"",emailOTP:"",mobileOTP:"",kp2EmailOTP:""}),[re,M]=T.useState(""),[O,F]=T.useState({});Sn();const[D,ue]=T.useState(!1),[te,me]=T.useState(""),Te=T.useRef(null);T.useEffect(()=>{(()=>{if(P.dob){const oe=new Date(P.dob),je=new Date;let ie=je.getFullYear()-oe.getFullYear();const Ce=je.getMonth()-oe.getMonth(),W=je.getDate()-oe.getDate();(Ce<0||Ce===0&&W<0)&&ie--,x({...P,age:ie})}else x({...P,age:null})})()},[P.dob]),T.useEffect(()=>{(async()=>{ue(!0);try{const oe=await fetch(`${m}/patients/verify_watcher?watcherPPN=${encodeURIComponent(P.watcherPPN)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(oe.ok){const je=await oe.json();V({...Z,verifiedWatcher:je.verifiedWatcher})}else{const je=await oe.json();alert(je.message)}}catch(oe){console.error("Error verifying watcher:",oe)}finally{ue(!1)}})()},[P.watcherPPN]);const Re=async()=>{if(Z.verifiedWatcher&&!P.relationship){alert("State relationship between watcher and patient!");return}if(ue(!0),!P.title||!P.lastName||!P.firstName||!P.dob||!P.gender||!P.nin||!P.address||!P.locality||!P.state||!P.mobile||!P.email){alert("Complete all fields!"),ue(!1);return}try{const ge=await fetch(`${m}/patients/generate_email_and_mobile_otp?email=${encodeURIComponent(P.email)}&mobile=${P.mobile}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(ge.ok){const oe=await ge.json();V({...Z,emailOTP:oe.emailOTP,mobileOTP:oe.mobileOTP}),S("page3")}else{const oe=await ge.json();alert(oe.message)}}catch(ge){console.error("Submission error:",ge),alert("An error occurred while generating otp")}finally{ue(!1)}},Ie=async()=>{if(P.emailOTP!==Z.emailOTP){alert("Invalid Email OTP!");return}else if(P.mobileOTP!==Z.mobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),S("page4")},R=()=>{const ge=Te.current.getScreenshot();B({...w,photo:ge})},z=async()=>{if(ue(!0),confirm("Confirm submission")){const oe={};Object.entries(P).forEach(([je,ie])=>{oe[je]=ie}),Object.entries(w).forEach(([je,ie])=>{oe[je]=ie});try{const je=await fetch(`${m}/patients/patient_signup`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(oe)});if(je.ok){const ie=await je.json();M(ie.successMessage),F(ie.certificate),S("page6")}else{const ie=await je.json();alert(ie.message)}}catch(je){console.error("Submission error:",je),alert("An error occurred creating new patient")}finally{ue(!1)}}else alert("New Patient creation cancelled!"),ue(!1)},q=()=>{x({}),B({}),S("page1")},ne={container:{cursor:D?"wait":"default",width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%",cursor:D?"wait":"default"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black",cursor:D?"wait":"default"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:D?"wait":"pointer",borderRadius:"4px",textAlign:"center"},photo:{margin:"20px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden",cursor:D?"wait":"default"},image:{height:"100%",width:"100%",objectFit:"cover",cursor:D?"wait":"default"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center",cursor:D?"wait":"default"}},Be={button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer"}};return f("div",{children:[k==="page1"&&f("div",{children:[l("h2",{children:"Patients Terms And Conditions"}),f("div",{style:ne.TCBody,children:[l("h3",{children:"GENERAL"}),f("p",{children:[l("strong",{children:"Minor:"})," All minors are required to be registered under an adult who would be responsible for them at all times"]}),l("br",{})]}),l("span",{style:ne.TCButton,onClick:()=>S("page2"),children:"Agree"})]}),k==="page2"&&f("div",{children:[l("h2",{children:"Patient Biodata: "}),f("div",{style:ne.container,children:[f("label",{style:ne.label,children:[l("input",{type:"hidden",value:w.phone,style:ne.input}),l("input",{type:"hidden",value:w.rightFinger,style:ne.input}),l("input",{type:"hidden",value:w.leftFinger,style:ne.input})]}),f("label",{style:ne.label,children:["Name:",f("select",{type:"text",value:P.title,onChange:ge=>x({...P,title:ge.target.value}),style:ne.input,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Mr.",children:"Mr."}),l("option",{value:"Mrs.",children:"Mrs."}),l("option",{value:"Ms.",children:"Ms."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("label",{style:ne.label,children:["Last Name:",l("input",{type:"text",value:P.lastName,onChange:ge=>x({...P,lastName:ge.target.value}),style:ne.input})]}),f("label",{style:ne.label,children:["First Name:",l("input",{type:"text",value:P.firstName,onChange:ge=>x({...P,firstName:ge.target.value}),style:ne.input})]}),f("label",{style:ne.label,children:["Date of Birth:",l("input",{type:"date",value:P.dob,onChange:ge=>x({...P,dob:ge.target.value}),style:ne.input}),f("p",{style:{display:P.age?"inline-block":"none"},children:[P.age,"years"]})]}),f("label",{style:ne.label,children:["Watcher (All minors require a watcher. Clients who are not computer literate may also require a watcher):",l("input",{type:"text",value:P.watcherPPN,onChange:ge=>x({...P,watcherPPN:ge.target.value}),style:ne.input}),f("p",{style:{display:P.watcherPPN?"inline-block":"none"},children:[l("strong",{children:"Verified Watcher: "}),Z.verifiedWatcher?Z.verifiedWatcher:"Watcher could not be verified",l("input",{style:{backgroundColor:"white",color:"black",width:"30%"},value:P.relationship,onChange:ge=>x({...P,relationship:ge.target.value}),placeholder:"Relationship..."})]})]}),f("label",{style:ne.label,children:["National Identification Number(NIN):",l("input",{type:"text",value:P.nin,onChange:ge=>x({...P,nin:ge.target.value}),style:ne.input})]}),f("label",{style:ne.label,children:["Gender:",f("select",{type:"text",value:P.gender,onChange:ge=>x({...P,gender:ge.target.value}),style:ne.input,children:[l("option",{value:"",children:"Select Gender"}),l("option",{value:"male",children:"Male"}),l("option",{value:"female",children:"Female"})]})]}),f("label",{style:ne.label,children:["Correspondence Address:",l("input",{type:"text",value:P.address,onChange:ge=>x({...P,address:ge.target.value}),style:ne.input})]}),f("label",{style:ne.label,children:["City/Town:",l("input",{type:"text",value:P.locality,onChange:ge=>x({...P,locality:ge.target.value}),style:ne.input})]}),f("label",{style:ne.label,children:["State of Residence:",f("select",{type:"text",value:P.state,onChange:ge=>x({...P,state:ge.target.value}),style:ne.input,children:[l("option",{value:"",children:"Select"}),_.map(ge=>l("option",{children:ge},ge))]})]}),f("label",{style:ne.label,children:["Email (Every client must be linked to an email or mobile number for correspondence purposes):",l("input",{type:"email",value:P.email,onChange:ge=>x({...P,email:ge.target.value}),style:ne.input})]}),f("label",{style:ne.label,children:["Mobile:",l("input",{type:"number",value:P.mobile,onChange:ge=>x({...P,mobile:ge.target.value}),style:ne.input})]}),f("label",{style:ne.label,children:["Emergency Contact 1 (First Name/Mobile/Relationship):",l("input",{type:"text",value:P.emergencyContact1,onChange:ge=>x({...P,emergencyContact1:ge.target.value}),style:ne.input})]}),f("label",{style:ne.label,children:["Emergency Contact 2 (First Name/Mobile/Relationship):",l("input",{type:"text",value:P.emergencyContact2,onChange:ge=>x({...P,emergencyContact2:ge.target.value}),style:ne.input})]}),l("span",{style:ne.TCButton,onClick:Re,children:"Next Page"}),l("span",{style:ne.TCButton,onClick:()=>{S("page1"),x({})},children:"Back"})]})]}),k==="page3"&&f("div",{children:[l("h2",{children:"Email/Mobile Number Verification"}),f("div",{style:ne.container,children:[l("label",{style:ne.label,children:l("input",{type:"text",name:"emailOTP",value:P.emailOTP,onChange:ge=>x({...P,emailOTP:ge.target.value}),style:ne.input,placeholder:"Email Verification code..."})}),l("label",{style:ne.label,children:l("input",{type:"text",name:"mobileOTP",value:P.mobileOTP,onChange:ge=>x({...P,mobileOTP:ge.target.value}),style:ne.input,placeholder:"Mobile Verification code..."})}),l("span",{style:ne.TCButton,onClick:Ie,children:"Verify"}),l("span",{style:ne.TCButton,onClick:()=>S("page2"),children:"Back"})]})]}),k==="page4"&&f("div",{children:[l("h2",{children:"NHIS Number"}),f("div",{style:ne.container,children:[f("label",{style:ne.label,children:["NHIS number (Proof must be provided)",l("input",{type:"text",value:P.nhisNumber,onChange:ge=>x({...P,nhisNumber:ge.target.value}),style:ne.input,placeholder:"NHIS number..."})]}),l("span",{style:ne.TCButton,onClick:()=>S("page5"),children:"Next page"}),l("span",{style:ne.TCButton,onClick:()=>S("page3"),children:"Back"})]})]}),k==="page5"&&l("div",{style:ne.container,children:f("div",{style:{display:"flex",flexDirection:"row"},children:[f("div",{style:{width:"50%"},children:[l("h2",{children:"Webcam"}),l(La,{audio:!1,ref:Te,screenshotFormat:"image/png",width:400}),l("div",{style:{margin:"20px 0"},children:l("button",{onClick:R,children:"Capture Photo"})})]}),f("div",{style:{display:w.photo?"inline-block":"none"},children:[w.photo&&f("div",{children:[l("h3",{children:"Photo Preview"}),l("img",{src:w.photo,alt:"Captured",width:400})]}),f("div",{style:{marginTop:"20px"},children:[l("button",{onClick:z,children:"Submit"}),l("span",{style:ne.TCButton,onClick:()=>{S("page4"),B({...w,photo:null})},children:"Back"})]})]}),te&&l("p",{children:te})]})}),k==="page6"&&f("div",{children:[l("h2",{children:"Signup Success Page"}),re,l("div",{style:{margin:"10px 0"},children:l("button",{style:Be.button,onClick:()=>S("page7"),children:"Print(Show) Certificate"})})]}),k==="page7"&&f("div",{children:[l("h2",{children:"PrescribeNg Certificate"}),l("div",{style:ne.photo,children:O.photoUrl?l("img",{src:O.photoUrl,style:ne.image,alt:"User's photo"}):l("div",{style:ne.placeholderText,children:"Photo Not Found"})}),f("div",{style:{alignContent:"left",textAlign:"left",margin:"20px"},children:[f("p",{children:[l("strong",{children:"Private Prescription Number: "}),O.ppn]}),f("p",{children:[l("strong",{children:"Patient Name: "}),O.name]}),f("p",{children:[l("strong",{children:"Date of Birth: "}),O.dob]}),f("p",{children:[l("strong",{children:"Age at Signup: "}),O.age,"yrs"]}),f("p",{children:[l("strong",{children:"Correspondence Address: "}),O.address]})]}),l("div",{style:{margin:"10px 0"},children:l("button",{style:Be.button,onClick:q,children:"Close"})})]})]})}function im(){const{state:p,logout:m,updatePatient:h}=T.useContext(kn),{token:y,spineUrl:_,category:k,accessLevel:S,configurations:P,serviceBranches:x,userID:w,organisation:B}=p,[Z,V]=T.useState("Home"),[re,M]=T.useState("new-watcher"),[O,F]=T.useState({}),[D,ue]=T.useState({}),[te,me]=T.useState(""),[Te,Re]=T.useState(""),[Ie,R]=T.useState([]),[z,q]=T.useState({}),[ne,Be]=T.useState(!1),[ge,oe]=T.useState(!1),[je,ie]=T.useState("table"),[Ce,W]=T.useState({}),[ye,J]=T.useState([]),E=T.useRef(null);Sn();const X=async A=>{A.preventDefault();try{const Y=await fetch(`${_}/patients/search_patients?ppn=${encodeURIComponent(Te.ppn)}&lastName=${encodeURIComponent(Te.lastName)}&dob=${encodeURIComponent(Te.dob)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(Y.ok){const Q=await Y.json();R(Q.searchResults)}else{const Q=await Y.json();R([]),alert(Q.message),console.error("Failed to fetch:",Q.message)}}catch(Y){console.error("Error fetching referrals:",Y)}},be=A=>{const{name:Y,value:Q}=A.target;Re(Oe=>({...Oe,[Y]:Q}))},ke=A=>{q(A),V("Editing Pad")};T.useEffect(()=>{(async()=>{try{const Y=await fetch(`${_}/patients/find_new_watcher?ppn=${encodeURIComponent(te)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(_),Y.ok){const Q=await Y.json();Q.newWatcher?ue(Q.newWatcher):ue({})}else{const Q=await Y.json();alert(Q.message),console.error("Failed to fetch keypersons:",Y.statusText)}}catch(Y){console.error("Error fetching keypersons:",Y)}})()},[_,y,te,ne]);const Pe=async()=>{if(!D.watcherID){alert("No new watcher exists!");return}try{if(!confirm("You are about to add a new watcher to patient's profile and this will give unrestricted access to patient's profile. By clicking ok, you assume responsibility for this change and have ensured that all due diligence has been done according to PrescribeNg LTD policies. Do you want to procede?")){alert("Action cancelled!");return}let Y=prompt("What is the watcher's relationship with patient?");if(!Y){alert("You must state the relationship between watcher and patient!");return}const Q=await fetch(`${_}/patients/add_new_watcher`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:z.ppn,watcherID:D.watcherID,relationship:Y})});if(Q.ok){const Oe=await Q.json();alert(Oe.message),q({...z,watchers:Oe.updatedWatchers})}else{const Oe=await Q.json();alert(Oe.message),console.error("Failed to fetch localities:",Q.statusText)}}catch(A){console.error("Error fetching localities:",A)}},_e=async()=>{if(!O.watcherID){alert("No watcher selected!");return}try{if(!confirm("You are about to remove a watcher from patient's profile and this will remove all access to patient's profile. By clicking ok, you assume responsibility for this change and have ensured that all due diligence has been done according to PrescribeNg LTD policies. Do you want to procede?")){alert("Action cancelled!");return}const Y=await fetch(`${_}/patients/remove_watcher`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:z.ppn,watcherID:O.watcherID})});if(Y.ok){const Q=await Y.json();alert(Q.message),q({...z,watchers:Q.updatedWatchers})}else{const Q=await Y.json();alert(Q.message),console.error("Failed to fetch localities:",Y.statusText)}}catch(A){console.error("Error fetching localities:",A)}},de=async()=>{try{if(!confirm("You are about to modify a patient's profile. By clicking ok, you assume responsibility for this change. Do you want to procede?")){alert("Action cancelled!");return}const Y=await fetch(`${_}/patients/modify_patient`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(z)});if(Y.ok){const Q=await Y.json();alert(Q.message),Be(Oe=>!Oe)}else{const Q=await Y.json();alert(Q.message),console.error("Failed to fetch localities:",Y.statusText)}}catch(A){console.error("Error fetching localities:",A)}},He=async()=>{if(!z.shareCodeReason){alert("Please provide a compelling reason for generating share code");return}try{if(!confirm(`You are about to generate a share code for ${z.firstName.toUpperCase()}. You must ensure a proof exists in form of email, that this request was made by ${z.firstName.toUpperCase()} or by an authorized person acting onbehalf of ${z.firstName.toUpperCase()}, with a compelling reason.`)){alert("Action cancelled!");return}const Y=await fetch(`${_}/patients/generate_share_code`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(z)});if(Y.ok){const Q=await Y.json();alert(Q.message),Be(Oe=>!Oe)}else{const Q=await Y.json();alert(Q.message),console.error("Failed to fetch localities:",Y.statusText)}}catch(A){console.error("Error fetching localities:",A)}},he=()=>{const A=E.current.getScreenshot();q({...z,newPhoto:A})},we=async()=>{if(!confirm("Confirm Image Upload")){alert("New Patient creation cancelled!"),q({...z,newPhoto:null});return}try{const Y=await fetch(`${_}/patients/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:z.ppn,newPhoto:z.newPhoto})});if(Y.ok){const Q=await Y.json();Q.newPhotoUrl&&q({...z,photoUrl:Q.newPhotoUrl}),V("Editing Pad"),q({...z,newPhoto:null})}else{const Q=await Y.json();alert(Q.message)}}catch(Y){console.error("Submission error:",Y),alert("An error occurred creating new patient")}},Ue=A=>{const{name:Y,type:Q,files:Oe}=A.target;if(Q==="file"){const Et=Array.from(Oe);J(Lt=>({...Lt,[Y]:[...Lt[Y]||[],...Et]}))}},tt=A=>{J(Y=>{const Q=[...Y.uploads];return Q.splice(A,1),{uploads:Q}})},ve=A=>new Promise((Y,Q)=>{const Oe=new FileReader;Oe.onloadend=()=>Y(Oe.result.split(",")[1]),Oe.onerror=Q,Oe.readAsDataURL(A)}),Ht=async()=>{if(confirm("Confirm submission")){const Y=await Promise.all(ye.uploads.map(async Q=>{const Oe=await ve(Q);return{name:Q.name,content:Oe}}));try{const Q=await fetch(`${_}/patients/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:z.ppn,uploads:Y})});if(Q.ok){const Oe=await Q.json();q({...z,documents:Oe.documents}),ie("table")}else{const Oe=await Q.json();alert(Oe.message)}}catch(Q){console.error("File upload error:",Q),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},pe=async()=>{if(!Ce.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const Y=await fetch(`${_}/patients/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:z.ppn,fileKey:Ce.fileKey,validity:Ce.validity,verification:"verified"})});if(Y.ok){const Q=await Y.json();q({...z,documents:Q.documents}),ie("table"),oe(!1)}else{const Q=await Y.json();alert(Q.message)}}catch(Y){console.error("File verification error:",Y),alert("An error occurred uploading files")}},ee=async()=>{if(!Ce.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const Y=await fetch(`${_}/patients/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:z.ppn,fileKey:Ce.fileKey,validity:Ce.validity,verification:"unverified"})});if(Y.ok){const Q=await Y.json();q({...z,documents:Q.documents}),ie("table"),oe(!1)}else{const Q=await Y.json();alert(Q.message)}}catch(Y){console.error("File verification error:",Y),alert("An error occurred uploading files")}},$={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"65vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},shareCodeInput:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"95%",height:"40vh",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px",cursor:"pointer"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:ge?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}};return f("div",{style:$.page,children:[Z==="Home"&&f("div",{style:$.tableContainer,children:[l("h2",{children:"Search Patients"}),l("form",{style:$.form,onSubmit:X,children:l("table",{style:$.table,children:l("thead",{children:f("tr",{children:[l("th",{style:$.th,children:l("input",{type:"text",name:"lastName",value:Te.lastName||"",onChange:be,placeholder:"Last Name",style:$.input})}),l("th",{style:$.th,children:l("input",{type:"date",name:"dob",value:Te.dob||"",onChange:be,placeholder:"NHS Number",style:$.input})}),l("th",{style:$.th,children:l("input",{type:"text",name:"ppn",value:Te.ppn||"",onChange:be,placeholder:"Private Prescription Number(PPN)",style:$.input})}),l("th",{style:$.th,children:l("button",{style:$.button,type:"submit",children:"Search"})})]})})})}),f("table",{style:$.table,children:[l("thead",{style:$.thead,children:f("tr",{children:[l("th",{style:$.th,children:"Name"}),l("th",{style:$.th,children:"Gender"}),l("th",{style:$.th,children:"DOB"}),l("th",{style:$.th,children:"PPN"}),l("th",{style:$.th})]})}),l("tbody",{children:Ie.length>0?Ie.map(A=>f("tr",{children:[f("td",{style:$.td,children:[A.title," ",A.lastName," ",A.firstName]}),l("td",{style:$.td,children:A.gender}),l("td",{style:$.td,children:A.dob}),l("td",{style:$.td,children:A.ppn}),l("td",{style:$.td,children:l("button",{style:$.button,onClick:()=>ke(A),children:"Select"})})]},A.ppn)):l("tr",{children:l("td",{colSpan:"5",style:$.td,children:"No patients found"})})})]})]}),Z==="Editing Pad"&&f("div",{style:{width:"100%"},children:[f("div",{style:$.profileContainer,children:[f("div",{style:$.section,children:[l("div",{style:$.photoContainer,children:z.photoUrl?l("img",{src:z.photoUrl,style:$.image,alt:"User's photo"}):l("div",{style:$.placeholderText,children:"Photo Not Found"})}),l("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>V("Photo Upload"),children:"Change Photo"}),f("p",{children:[l("strong",{children:"Name:"})," ",z.title," ",z.lastName," ",z.firstName]}),f("p",{children:[l("strong",{children:"PPN:"})," ",z.ppn]}),f("p",{children:[l("strong",{children:"NHIS Number:"})," ",z!=null&&z.nhis?`${z.nhis}`:"Not linked"]}),f("p",{children:[l("strong",{children:"Share Code/Expiry:"})," ",z!=null&&z.shareCode?`${z.shareCode} (${z.shareCodeExpiry})`:"Patient has no share code"]}),f("p",{children:[l("strong",{children:"DOB:"})," ",z.dob,"(",z.age,"yrs)"]}),f("p",{children:[l("strong",{children:"Admission Status:"})," ",z.admissionStatus]}),f("p",{children:[l("strong",{children:"Mobile Access:"})," ",(z==null?void 0:z.access)==="open"?"Activated":"Not activated"]}),f("div",{style:{marginBottom:"20px"},children:["Patient Status:",f("select",{style:$.input,value:z.clientStatus||"",onChange:A=>q({...z,clientStatus:A.target.value}),children:[l("option",{value:"",children:"Select Access Level"}),l("option",{value:"enrolled",children:"Enrolled"}),l("option",{value:"flagged",children:"Flagged"}),l("option",{value:"wanted",children:"Wanted"}),l("option",{value:"missing",children:"Missing Person"})]}),l("textarea",{style:{...$.input,display:z.clientStatus==="enrolled"?"none":"inline-block"},placeholder:"Brief detail...",value:z.flagReason,onChange:A=>q({...z,flagReason:A.target.value})}),l("button",{style:$.button,onClick:de,children:"Save Changes"})]})]}),f("div",{style:$.section,children:[l("div",{style:{height:"40%"},children:f("table",{style:$.table,children:[l("thead",{style:$.thead,children:f("tr",{children:[l("th",{children:"Watcher"}),l("th",{children:"Relationship"}),l("th",{children:"Watcher ID"})]})}),l("tbody",{children:z.watchers&&z.watchers.length>0?z.watchers.map((A,Y)=>f("tr",{children:[l("td",{children:A.watcher}),l("td",{children:A.relationship||"unknown"}),l("td",{children:A.watcherID})]},Y)):l("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no watcher"})})]})}),l("div",{style:{height:"40%"},children:f("table",{style:$.table,children:[l("thead",{style:$.thead,children:f("tr",{children:[l("th",{children:"HMO"}),l("th",{children:"Plan"}),l("th",{children:"Contact"})]})}),l("tbody",{children:z.policies&&z.policies.length>0?z.policies.map((A,Y)=>f("tr",{children:[l("td",{children:A.sponsor}),l("td",{children:A.plan}),l("td",{children:A.contact})]},Y)):l("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no active policy"})})]})})]})]}),f("div",{style:{display:"flex"},children:[l("button",{style:$.button,onClick:()=>V("Share Code"),children:"Generate Sharecode"}),l("button",{style:$.button,onClick:()=>V("Watchers"),children:"Add/Remove watcher"}),l("button",{style:$.button,onClick:()=>V("Documents"),children:"Documents"}),l("button",{style:$.button,onClick:()=>{V("Home"),q({})},children:"Close"})]})]}),Z==="Share Code"&&l("div",{style:{width:"100%"},children:f("div",{style:$.profileContainer,children:[f("div",{style:$.section,children:[f("h2",{children:["Share code Reason(",z.title," ",z.lastName," ",z.firstName,")"]}),l("div",{style:{marginBottom:"20px"},children:l("textarea",{style:{...$.shareCodeInput},placeholder:"(Paste email content from patient)",value:z.shareCodeReason,onChange:A=>q({...z,shareCodeReason:A.target.value})})}),l("button",{style:$.button,onClick:He,children:"Generate Sharecode"}),l("button",{style:$.button,onClick:()=>V("Editing Pad"),children:"Back"})]}),l("div",{style:{...$.section,width:"55%",marginLeft:"20px"},children:f("div",{style:{height:"40%"},children:[l("h3",{children:"Audit Trail"}),f("table",{style:$.table,children:[l("thead",{style:$.thead,children:f("tr",{children:[l("th",{children:"Event"}),l("th",{children:"Detail"}),l("th",{children:"Date"})]})}),l("tbody",{children:z.auditTrail&&z.auditTrail.length>0?z.auditTrail.map((A,Y)=>f("tr",{style:{marginBottom:"20px"},children:[l("td",{children:A.event}),l("td",{children:A.event}),l("td",{children:A.date})]},Y)):l("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no audit trail"})})]})]})})]})}),Z==="Watchers"&&l("div",{style:{width:"100%"},children:f("div",{style:$.profileContainer,children:[l("div",{style:{...$.section,width:"55%",marginLeft:"20px"},children:f("div",{style:{height:"60%",overflowY:"auto"},children:[l("h3",{children:"Audit Trail"}),f("table",{style:$.table,children:[l("thead",{style:$.thead,children:f("tr",{children:[l("th",{children:"Watcher"}),l("th",{children:"Relationship"}),l("th",{children:"Watcher ID"}),l("th",{})]})}),l("tbody",{children:z.watchers&&z.watchers.length>0?z.watchers.map((A,Y)=>f("tr",{children:[l("td",{children:A.watcher}),l("td",{children:A.relationship||"unknown"}),l("td",{children:A.watcherID}),l("td",{onClick:()=>{F(A),M("existing-watcher")},children:l("span",{style:$.button,children:"View"})})]},Y)):l("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no watcher"})})]})]})}),f("div",{style:$.section,children:[re==="existing-watcher"&&f("div",{children:[l("h2",{children:O.watcher}),l("div",{style:{...$.photoContainer2},children:O!=null&&O.photoUrl?l("img",{src:O==null?void 0:O.photoUrl,style:$.image,alt:"User's photo"}):l("div",{style:$.placeholderText,children:"Photo Not Found"})}),l("div",{style:{marginTop:"10px"},children:f("div",{children:[l("button",{style:{...$.button,display:O.watcherID?"inline-block":"none"},onClick:_e,children:"Remove"}),l("button",{style:$.button,onClick:()=>M("new-watcher"),children:"Add New Watcher"}),l("button",{style:$.button,onClick:()=>{V("Editing Pad"),M("new-watcher"),ue({}),F({}),me("")},children:"Back"})]})})]}),re==="new-watcher"&&f("div",{children:[l("h2",{children:D.watcher}),l("div",{style:{...$.photoContainer2},children:D!=null&&D.photoUrl?l("img",{src:D==null?void 0:D.photoUrl,style:$.image,alt:"User's photo"}):l("div",{style:$.placeholderText,children:"Photo Not Found"})}),f("div",{style:{marginTop:"10px"},children:[l("input",{style:{backgroundColor:"white",color:"black",width:"300px",height:"30px"},value:te,onChange:A=>me(A.target.value),placeholder:"Enter PPN of new watcher.."}),f("div",{children:[l("button",{style:$.button,onClick:Pe,children:"Add"}),l("button",{style:$.button,onClick:()=>{V("Editing Pad"),ue({}),F({}),me("")},children:"Back"})]})]})]})]})]})}),Z==="Photo Upload"&&l("div",{style:{width:"100%"},children:f("div",{style:$.profileContainer,children:[f("div",{style:{...$.section,width:"50%"},children:[l("h2",{children:"Web Cam"}),l("div",{style:$.photoContainer2,children:l(La,{audio:!1,ref:E,screenshotFormat:"image/png",width:400})}),l("button",{style:$.button,onClick:he,children:"Capture"}),l("button",{style:$.button,onClick:()=>{V("Editing Pad"),q({...z,newPhoto:null})},children:"Back"})]}),f("div",{style:{...$.section,width:"50%",display:z.newPhoto?"inline-block":"none"},children:[f("h2",{children:["Preview (",z.title," ",z.lastName," ",z.firstName,")"]}),l("div",{style:$.photoContainer2,children:z.newPhoto?l("img",{src:z.newPhoto,alt:"Captured",width:400}):l("div",{style:$.placeholderText,children:"No image captured"})}),l("button",{style:$.button,onClick:we,children:"Upload"})]})]})}),Z==="Documents"&&l("div",{style:{width:"100%"},children:f("div",{style:$.profileContainer,children:[je==="table"&&f("div",{style:{...$.section,width:"100%"},children:[l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:$.table,children:[l("thead",{style:$.thead,children:f("tr",{children:[l("th",{children:"Document"}),l("th",{children:"Validity"}),l("th",{children:"Verification"}),l("th",{children:"Action"})]})}),l("tbody",{children:z.documents&&z.documents.length>0?z.documents.map((A,Y)=>f("tr",{children:[l("td",{children:A.fileName}),l("td",{children:A.validity||"not set"}),l("td",{children:A.verification||"unverified"}),l("td",{children:l("button",{onClick:()=>{ie("iframe"),W(A)},children:"View"})})]},Y)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),l("button",{onClick:()=>{V("Editing Pad")},children:"Close"}),l("button",{onClick:()=>{ie("upload")},children:"Upload Document"})]}),je==="iframe"&&l("div",{style:{...$.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:ge?"none":"auto"},children:f("div",{children:[l("span",{style:$.topCloseButton,onClick:()=>{ie("table"),Ce({}),oe(!1)},children:"Close"}),l("iframe",{style:{height:"60vh",width:"100%"},src:Ce.fileUrl}),f("div",{style:$.docVerificationOverlay,children:[f("div",{children:[l("h3",{children:"When does this document expire?"}),l("input",{style:$.input,type:"date",value:Ce.validity||"",onChange:A=>W({...Ce,validity:A.target.value})}),l("button",{style:{...$.button,display:Ce.verification==="unverified"?"inline-block":"none"},onClick:pe,children:"Verify"}),l("button",{style:{...$.button,display:Ce.verification==="verified"?"inline-block":"none"},onClick:ee,children:"De-Verify"})]}),l("span",{style:$.topCloseButton,onClick:()=>oe(!1),children:"Close"})]}),l("button",{style:{...$.button,display:Ce.verification==="verified"?"none":"inline-block"},onClick:()=>oe(!0),children:"Verify"}),l("button",{style:{...$.button,display:Ce.verification==="verified"&&S<=3?"inline-block":"none"},onClick:()=>oe(!0),children:"De-Verify"})]})}),je==="upload"&&f("div",{style:{...$.section,width:"100%"},children:[f("div",{style:$.uploadfield,children:[f("div",{style:$.uploadInput,children:[l("label",{children:"Upload File"}),l("input",{name:"uploads",type:"file",onChange:Ue,multiple:!0})]}),l("div",{style:$.uploadedFiles,children:ye.uploads&&ye.uploads.length>0?ye.uploads.map((A,Y)=>f("div",{style:$.uploadItem,children:[f("span",{children:[Y+1,". ",A.name]}),l("span",{style:$.removeFileButton,onClick:()=>tt(Y),children:"X"})]},Y)):l("p",{children:"No files uploaded yet."})})]}),l("button",{onClick:()=>{ie("table"),J([])},children:"Back"}),l("button",{style:{display:ye.uploads?"inline-block":"none"},onClick:Ht,children:"Upload"})]})]})})]})}function rm(){const{state:p}=T.useContext(kn),{spineUrl:m,token:h,accessLevel:y,allStates:_,clinicianGrades:k,clinicianSpecialties:S}=p,[P,x]=T.useState("page1"),[w,B]=T.useState({}),[Z,V]=T.useState([]),[re,M]=T.useState({photo:null,rightFinger:null,leftFinger:null}),[O,F]=T.useState({verifiedWatcher:"",emailOTP:"",mobileOTP:"",kp2EmailOTP:""}),[D,ue]=T.useState("");Sn();const[te,me]=T.useState(!1),[Te,Re]=T.useState(""),Ie=T.useRef(null);T.useEffect(()=>{(()=>{if(w.dob){const Ce=new Date(w.dob),W=new Date;let ye=W.getFullYear()-Ce.getFullYear();const J=W.getMonth()-Ce.getMonth(),E=W.getDate()-Ce.getDate();(J<0||J===0&&E<0)&&ye--,B({...w,age:ye})}else B({...w,age:null})})()},[w.dob]);const R=async()=>{if(me(!0),!w.title||!w.lastName||!w.firstName||!w.dob||!w.gender||!w.address||!w.state||!w.mobile||!w.email){alert("Complete all fields!");return}try{const ie=await fetch(`${m}/clinicians/generate_email_and_mobile_otp?email=${encodeURIComponent(w.email)}&mobile=${w.mobile}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(ie.ok){const Ce=await ie.json();F({...O,emailOTP:Ce.emailOTP,mobileOTP:Ce.mobileOTP}),x("page3")}else{const Ce=await ie.json();alert(Ce.message)}}catch(ie){console.error("Submission error:",ie),alert("An error occurred while generating otp")}finally{me(!1)}},z=async()=>{if(w.emailOTP!==O.emailOTP){alert("Invalid Email OTP!");return}else if(w.mobileOTP!==O.mobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),x("page4")},q=async()=>{if(!w.domain||!w.grade||!w.specialty||!w.registrationNumber||!w.folioNumber||!w.licenseExpiry){alert("Complete all fields");return}x("page5")},ne=()=>{const ie=Ie.current.getScreenshot();M({...re,photo:ie})},Be=async()=>{if(me(!0),confirm("Confirm submission")){const Ce={};Object.entries(w).forEach(([W,ye])=>{Ce[W]=ye}),Object.entries(re).forEach(([W,ye])=>{Ce[W]=ye});try{const W=await fetch(`${m}/clinicians/clinician_signup`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(Ce)});if(W.ok){const ye=await W.json();ue(ye.message),x("page6")}else{const ye=await W.json();alert(ye.message)}}catch(W){console.error("Submission error:",W),alert("An error occurred signing up new clinician")}finally{me(!1)}}else alert("New clinician signup cancelled!"),me(!1)},ge=()=>{B({}),M({}),x("page1")},oe={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto",cursor:te?"wait":"default"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%",cursor:te?"wait":"default"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black",cursor:te?"wait":"default"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left",cursor:te?"wait":"default"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:te?"wait":"pointer",borderRadius:"4px",textAlign:"center"}},je={button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:te?"wait":"pointer"}};return f("div",{style:{cursor:te?"wait":"default"},children:[P==="page1"&&f("div",{children:[l("h2",{children:"Clinicians Terms And Conditions"}),f("div",{style:oe.TCBody,children:[l("h3",{children:"GENERAL"}),f("p",{children:[l("strong",{children:"Minor:"})," All minors are required to be registered under an adult who would be responsible for them at all times"]}),l("br",{})]}),l("span",{style:oe.TCButton,onClick:()=>x("page2"),children:"Agree"})]}),P==="page2"&&f("div",{children:[l("h2",{children:"Clinician's Biodata: "}),f("div",{style:oe.container,children:[f("label",{style:oe.label,children:[l("input",{type:"hidden",value:re.photo,style:oe.input}),l("input",{type:"hidden",value:re.rightFinger,style:oe.input}),l("input",{type:"hidden",value:re.leftFinger,style:oe.input})]}),f("label",{style:oe.label,children:["Title:",f("select",{type:"text",value:w.title,onChange:ie=>B({...w,title:ie.target.value}),style:oe.input,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("label",{style:oe.label,children:["Last Name:",l("input",{type:"text",value:w.lastName,onChange:ie=>B({...w,lastName:ie.target.value}),style:oe.input})]}),f("label",{style:oe.label,children:["First Name:",l("input",{type:"text",value:w.firstName,onChange:ie=>B({...w,firstName:ie.target.value}),style:oe.input})]}),f("label",{style:oe.label,children:["Date of Birth:",l("input",{type:"date",value:w.dob,onChange:ie=>B({...w,dob:ie.target.value}),style:oe.input}),f("p",{style:{display:w.age?"inline-block":"none"},children:[w.age,"years"]})]}),f("label",{style:oe.label,children:["Gender:",f("select",{type:"text",value:w.gender,onChange:ie=>B({...w,gender:ie.target.value}),style:oe.input,children:[l("option",{value:"",children:"Select Gender"}),l("option",{value:"male",children:"Male"}),l("option",{value:"female",children:"Female"})]})]}),f("label",{style:oe.label,children:["NIN(You would be held liable if you do not thorough verified the accuracy of NIN provided by signee.):",l("input",{type:"text",value:w.nin,onChange:ie=>B({...w,nin:ie.target.value}),style:oe.input})]}),f("label",{style:oe.label,children:["Correspondence Address:",l("input",{type:"text",value:w.address,onChange:ie=>B({...w,address:ie.target.value}),style:oe.input})]}),f("label",{style:oe.label,children:["State of Residence:",f("select",{type:"text",value:w.state,onChange:ie=>B({...w,state:ie.target.value}),style:oe.input,children:[l("option",{value:"",children:"Select"}),_.map(ie=>l("option",{children:ie},ie))]})]}),f("label",{style:oe.label,children:["Telephone:",l("input",{type:"number",value:w.telephone,onChange:ie=>B({...w,telephone:ie.target.value}),style:oe.input})]}),f("label",{style:oe.label,children:["Mobile:",l("input",{type:"number",value:w.mobile,onChange:ie=>B({...w,mobile:ie.target.value}),style:oe.input})]}),f("label",{style:oe.label,children:["Email (Every client must be linked to an email or mobile number for correspondence purposes):",l("input",{type:"email",value:w.email,onChange:ie=>B({...w,email:ie.target.value}),style:oe.input})]}),l("span",{style:oe.TCButton,onClick:R,children:"Next Page"}),l("span",{style:oe.TCButton,onClick:()=>x("page1"),children:"Back"})]})]}),P==="page3"&&f("div",{children:[l("h2",{children:"Email/Mobile Number Verification"}),f("div",{style:oe.container,children:[l("label",{style:oe.label,children:l("input",{type:"text",name:"emailOTP",value:w.emailOTP,onChange:ie=>B({...w,emailOTP:ie.target.value}),style:oe.input,placeholder:"Email Verification code..."})}),l("label",{style:oe.label,children:l("input",{type:"text",name:"mobileOTP",value:w.mobileOTP,onChange:ie=>B({...w,mobileOTP:ie.target.value}),style:oe.input,placeholder:"Mobile Verification code..."})}),l("span",{style:oe.TCButton,onClick:z,children:"Verify"}),l("span",{style:oe.TCButton,onClick:()=>x("page2"),children:"Back"})]})]}),P==="page4"&&f("div",{children:[l("h2",{children:"Professional Data"}),f("div",{style:oe.container,children:[f("label",{style:oe.label,children:["Domain:",f("select",{type:"text",value:w.domain,onChange:ie=>B({...w,domain:ie.target.value}),style:oe.input,children:[l("option",{value:"",children:"Select Domain"}),l("option",{value:"medical",children:"medical"}),l("option",{value:"dental",children:"dental"})]})]}),f("label",{style:oe.label,children:["Grade:",f("select",{type:"text",value:w.grade,onChange:ie=>B({...w,grade:ie.target.value}),style:oe.input,children:[l("option",{value:"",children:"Select Grade"}),k.map(ie=>l("option",{children:ie},ie))]})]}),f("label",{style:oe.label,children:["Specialty:",f("select",{type:"text",value:w.specialty,onChange:ie=>B({...w,specialty:ie.target.value}),style:oe.input,children:[l("option",{value:"",children:"Select Specialty"}),S.map(ie=>l("option",{children:ie},ie))]})]}),f("label",{style:oe.label,children:["Registration Number:",l("input",{type:"text",value:w.registrationNumber,onChange:ie=>B({...w,registrationNumber:ie.target.value}),style:oe.input,placeholder:"Doctor's MDCN Registration number..."})]}),f("label",{style:oe.label,children:["Folio Number:",l("input",{type:"text",value:w.folioNumber,onChange:ie=>B({...w,folioNumber:ie.target.value}),style:oe.input,placeholder:"Doctors MDCN Folio Number..."})]}),f("label",{style:oe.label,children:["License Expiry:",l("input",{type:"date",name:"licenseExpiry",value:w.licenseExpiry,onChange:ie=>B({...w,licenseExpiry:ie.target.value}),style:oe.input})]}),l("span",{style:oe.TCButton,onClick:q,children:"Next Page"}),l("span",{style:oe.TCButton,onClick:()=>x("page3"),children:"Back"})]})]}),P==="page5"&&l("div",{style:oe.container,children:f("div",{style:{display:"flex",flexDirection:"row"},children:[f("div",{style:{width:"50%"},children:[l("h2",{children:"Webcam"}),l(La,{audio:!1,ref:Ie,screenshotFormat:"image/png",width:400}),l("div",{style:{margin:"20px 0"},children:l("button",{onClick:ne,children:"Capture Photo"})})]}),f("div",{style:{display:re.photo?"inline-block":"none"},children:[re.photo&&f("div",{children:[l("h3",{children:"Photo Preview"}),l("img",{src:re.photo,alt:"Captured",width:400})]}),f("div",{style:{marginTop:"20px"},children:[l("button",{onClick:Be,children:"Submit"}),l("span",{style:oe.TCButton,onClick:()=>{x("page4"),M({...re,photo:null})},children:"Back"})]})]}),Te&&l("p",{children:Te})]})}),P==="page6"&&f("div",{children:[D,l("div",{style:{margin:"10px 0"},children:l("button",{style:je.button,onClick:ge,children:"Close"})})]})]})}function om(){const{state:p,logout:m,updatePatient:h}=T.useContext(kn),{token:y,spineUrl:_,category:k,accessLevel:S,configurations:P,serviceBranches:x,userID:w,organisation:B}=p,[Z,V]=T.useState("Home"),[re,M]=T.useState("table"),[O,F]=T.useState({}),[D,ue]=T.useState([]),[te,me]=T.useState({}),[Te,Re]=T.useState([]),[Ie,R]=T.useState(""),[z,q]=T.useState(""),[ne,Be]=T.useState(""),[ge,oe]=T.useState(!1),[je,ie]=T.useState(!1);Sn(),T.useEffect(()=>{(async()=>{try{const we=await fetch(`${_}/clinicians/fetch_clinicians?q=${encodeURIComponent(ne)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(_),we.ok){const Ue=await we.json();ue(Ue.clinicians)}else{const Ue=await we.json();alert(Ue.message),console.error("Failed to fetch keypersons:",we.statusText)}}catch(we){console.error("Error fetching keypersons:",we)}})()},[_,y,ne,ge]);const Ce=async()=>{try{if(!confirm("You are about to modify a clinician. Do you assume responsibility for this change?")){alert("Action cancelled!");return}const we=await fetch(`${_}/clinicians/modify_clinician`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(te)});if(we.ok){const Ue=await we.json();alert(Ue.message),oe(tt=>!tt)}else{const Ue=await we.json();alert(Ue.message),console.error("Failed to fetch localities:",we.statusText)}}catch(he){console.error("Error fetching localities:",he)}},W=T.useRef(null),ye=()=>{const he=W.current.getScreenshot();me(we=>({...we,newPhoto:he}))},J=async()=>{if(!confirm("Confirm Image Upload")){alert("Image Upload cancelled!"),me({...te,newPhoto:null});return}try{const we=await fetch(`${_}/clinicians/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:te.registrationNumber,newPhoto:te.newPhoto})});if(we.ok){const Ue=await we.json();Ue.newPhotoUrl&&me({...te,photoUrl:Ue.newPhotoUrl}),V("Editing Pad"),me({...te,newPhoto:null}),Re([])}else{const Ue=await we.json();alert(Ue.message)}}catch(we){console.error("Submission error:",we),alert("An error occurred uploading clinician photo")}},E=he=>{const{name:we,type:Ue,files:tt}=he.target;if(Ue==="file"){const ve=Array.from(tt);Re(Ht=>({...Ht,[we]:[...Ht[we]||[],...ve]}))}},X=he=>{Re(we=>{const Ue=[...we.uploads];return Ue.splice(he,1),{uploads:Ue}})},be=he=>new Promise((we,Ue)=>{const tt=new FileReader;tt.onloadend=()=>we(tt.result.split(",")[1]),tt.onerror=Ue,tt.readAsDataURL(he)}),ke=async()=>{if(confirm("Confirm submission")){const we=await Promise.all(Te.uploads.map(async Ue=>{const tt=await be(Ue);return{name:Ue.name,content:tt}}));try{const Ue=await fetch(`${_}/clinicians/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:te.registrationNumber,uploads:we})});if(Ue.ok){const tt=await Ue.json();me({...te,documents:tt.documents}),M("table")}else{const tt=await Ue.json();alert(tt.message)}}catch(Ue){console.error("File upload error:",Ue),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},Pe=async()=>{if(!O.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const we=await fetch(`${_}/clinicians/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:te.registrationNumber,fileKey:O.fileKey,validity:O.validity,verification:"verified"})});if(we.ok){const Ue=await we.json();me({...te,documents:Ue.documents}),M("table"),ie(!1)}else{const Ue=await we.json();alert(Ue.message)}}catch(we){console.error("File verification error:",we),alert("An error occurred uploading files")}},_e=async()=>{if(!O.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const we=await fetch(`${_}/clinicians/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:te.registrationNumber,fileKey:O.fileKey,validity:O.validity,verification:"unverified"})});if(we.ok){const Ue=await we.json();me({...te,documents:Ue.documents}),M("table"),ie(!1)}else{const Ue=await we.json();alert(Ue.message)}}catch(we){console.error("File verification error:",we),alert("An error occurred uploading files")}},de={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},searchFieldContainer:{display:"flex",flexDirection:"row",backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"35%",height:"25px",top:"120px"},stateSelector2:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"70vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:je?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},He=he=>({backgroundColor:he%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return f("div",{style:de.page,children:[Z==="Home"&&f("div",{style:de.tableContainer,children:[f("div",{style:de.searchFieldContainer,children:[f("select",{style:de.stateSelector2,value:Ie,onChange:he=>R(he.target.value),children:[l("option",{value:"",children:"Select Branch"}),x.map(he=>l("option",{value:he.branchID,children:he.branchName},he.branchID))]}),l("input",{style:de.searchField,value:ne,onChange:he=>Be(he.target.value),placeholder:"Search here for client"})]}),f("table",{style:{width:"100%"},children:[l("thead",{style:de.thead,children:f("tr",{children:[l("th",{}),l("th",{children:"Clinician"}),l("th",{children:"Reg Number"}),l("th",{children:"Folio Number"}),l("th",{children:"Specialty"}),l("th",{children:"Grade"}),l("th",{children:"Email"}),l("th",{children:"License Status"}),l("th",{children:"License Expiry"}),l("th",{children:"Account Status"}),l("th",{children:"Action"})]})}),l("tbody",{children:D.map((he,we)=>f("tr",{style:He(we),children:[l("td",{children:we+1}),l("td",{children:he.clinician}),l("td",{children:he.registrationNumber}),l("td",{children:he.folioNumber}),l("td",{children:he.specialty}),l("td",{children:he.grade}),l("td",{children:he.email}),l("td",{children:he.licenseStatus}),l("td",{children:he.licenseExpiry}),l("td",{children:he.accountStatus}),l("td",{children:l("button",{onClick:()=>{me(he),V("Editing Pad")},children:"Open Profile"})})]},he))})]})]}),Z==="Editing Pad"&&f("div",{style:{width:"100%"},children:[f("div",{style:de.profileContainer,children:[f("div",{style:de.section,children:[l("div",{style:de.photoContainer,children:te.photoUrl?l("img",{src:te.photoUrl,style:de.image,alt:"User's photo"}):l("div",{style:de.placeholderText,children:"Photo Not Found"})}),l("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>V("Photo Upload"),children:"Change Photo"}),f("p",{children:[l("strong",{children:"Clinician:"})," ",te.clinician]}),f("p",{children:[l("strong",{children:"MDCN Registration:"})," ",te.registrationNumber]}),f("p",{children:[l("strong",{children:"Folio Number:"})," ",te.folioNumber]}),f("p",{children:[l("strong",{children:"License Status:"})," ",te.licenseStatus]}),f("p",{children:[l("strong",{children:"License Expiry:"})," ",te.licenseExpiry]}),f("div",{style:{marginBottom:"20px",display:S>=5?"inline-block":"none"},children:["Vetting:",te.vettingStatus]}),f("div",{style:{marginBottom:"20px",display:S>=5?"inline-block":"none"},children:["Account Status:",te.accountStatus]}),f("div",{style:{marginBottom:"20px",display:S<=4?"inline-block":"none"},children:["Vetting:",f("select",{style:de.input,value:te.vettingStatus||"",onChange:he=>me({...te,vettingStatus:he.target.value}),children:[l("option",{value:"pending",children:"Pending"}),l("option",{value:"completed",children:"Completed"})]})]}),f("div",{style:{marginBottom:"20px",display:S<=4?"inline-block":"none"},children:["Account Status:",f("select",{style:de.input,value:te.accountStatus||"",onChange:he=>me({...te,accountStatus:he.target.value}),children:[l("option",{value:"pending",children:"Pending"}),l("option",{value:"approved",children:"Approved"}),l("option",{value:"reported",children:"Reported"}),l("option",{value:"banned",children:"Banned"}),l("option",{value:"license withdrawn",children:"License Withdrawn"})]})]}),l("button",{style:{...de.button,display:S<=4?"inline-block":"none"},onClick:Ce,children:"Save Changes"}),l("button",{style:de.button,onClick:()=>V("Documents"),children:"Documents"})]}),l("div",{style:{...de.section,width:"60%"},children:l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:de.table,children:[l("thead",{style:de.thead,children:f("tr",{children:[l("th",{children:"Role"}),l("th",{children:"Employer"}),l("th",{children:"Category"}),l("th",{children:"Contact"})]})}),l("tbody",{children:te.employers&&te.employers.length>0?te.employers.map((he,we)=>f("tr",{children:[l("td",{children:he.role}),l("td",{children:he.organisation}),l("td",{children:he.category}),l("td",{children:he.telephone})]},we)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No active employment"})})]})})})]}),l("button",{onClick:()=>{V("Home"),me({})},children:"Close"})]}),Z==="Photo Upload"&&l("div",{style:{width:"100%"},children:f("div",{style:de.profileContainer,children:[f("div",{style:{...de.section,width:"50%"},children:[l("h2",{children:"Web Cam"}),l("div",{style:de.photoContainer2,children:l(La,{audio:!1,ref:W,screenshotFormat:"image/png",width:400})}),l("button",{style:de.button,onClick:ye,children:"Capture"}),l("button",{style:de.button,onClick:()=>{V("Editing Pad"),me({...te,newPhoto:null})},children:"Back"})]}),f("div",{style:{...de.section,width:"50%",display:te.newPhoto?"inline-block":"none"},children:[f("h2",{children:["Preview (",te.clinician,")"]}),l("div",{style:de.photoContainer2,children:te.newPhoto?l("img",{src:te.newPhoto,alt:"Captured",width:400}):l("div",{style:de.placeholderText,children:"No image captured"})}),l("button",{style:de.button,onClick:J,children:"Upload"})]})]})}),Z==="Documents"&&l("div",{style:{width:"100%"},children:f("div",{style:de.profileContainer,children:[re==="table"&&f("div",{style:{...de.section,width:"100%"},children:[l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:de.table,children:[l("thead",{style:de.thead,children:f("tr",{children:[l("th",{children:"Document"}),l("th",{children:"Validity"}),l("th",{children:"Verification"}),l("th",{children:"Action"})]})}),l("tbody",{children:te.documents&&te.documents.length>0?te.documents.map((he,we)=>f("tr",{children:[l("td",{children:he.fileName}),l("td",{children:he.validity||"not set"}),l("td",{children:he.verification||"unverified"}),l("td",{children:l("button",{onClick:()=>{M("iframe"),F(he)},children:"View"})})]},we)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),l("button",{onClick:()=>{V("Editing Pad")},children:"Close"}),l("button",{onClick:()=>{M("upload")},children:"Upload Document"})]}),re==="iframe"&&l("div",{style:{...de.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:je?"none":"auto"},children:f("div",{children:[l("span",{style:de.topCloseButton,onClick:()=>{M("table"),O({}),ie(!1)},children:"Close"}),l("iframe",{style:{height:"60vh",width:"100%"},src:O.fileUrl}),f("div",{style:de.docVerificationOverlay,children:[f("div",{children:[l("h3",{children:"When does this document expire?"}),l("input",{style:de.input,type:"date",value:O.validity||"",onChange:he=>F({...O,validity:he.target.value})}),l("button",{style:{...de.button,display:O.verification==="unverified"?"inline-block":"none"},onClick:Pe,children:"Verify"}),l("button",{style:{...de.button,display:O.verification==="verified"?"inline-block":"none"},onClick:_e,children:"De-Verify"})]}),l("span",{style:de.topCloseButton,onClick:()=>ie(!1),children:"Close"})]}),l("button",{style:{...de.button,display:O.verification==="verified"?"none":"inline-block"},onClick:()=>ie(!0),children:"Verify"}),l("button",{style:{...de.button,display:O.verification==="verified"&&S<=3?"inline-block":"none"},onClick:()=>ie(!0),children:"De-Verify"})]})}),re==="upload"&&f("div",{style:{...de.section,width:"100%"},children:[f("div",{style:de.uploadfield,children:[f("div",{style:de.uploadInput,children:[l("label",{children:"Upload File"}),l("input",{name:"uploads",type:"file",onChange:E,multiple:!0})]}),l("div",{style:de.uploadedFiles,children:Te.uploads&&Te.uploads.length>0?Te.uploads.map((he,we)=>f("div",{style:de.uploadItem,children:[f("span",{children:[we+1,". ",he.name]}),l("span",{style:de.removeFileButton,onClick:()=>X(we),children:"X"})]},we)):l("p",{children:"No files uploaded yet."})})]}),l("button",{onClick:()=>{M("table"),Re([])},children:"Back"}),l("button",{style:{display:Te.uploads?"inline-block":"none"},onClick:ke,children:"Upload"})]})]})})]})}function am(){const{state:p}=T.useContext(kn),{spineUrl:m,token:h,accessLevel:y,allStates:_,referenceLibrary:k}=p,[S,P]=T.useState("page1"),[x,w]=T.useState({}),[B,Z]=T.useState([]),[V,re]=T.useState({}),[M,O]=T.useState(""),[F,D]=T.useState(""),[ue,te]=T.useState("");Sn();const[me,Te]=T.useState(!1);T.useEffect(()=>{(async()=>{try{const ne=await fetch(`${m}/services/fetch_public_reference_inventory?serviceType=${encodeURIComponent(F)}&q=${encodeURIComponent(M)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(ne.ok){const Be=await ne.json();Z(Be.prescribeNgServices)}else{const Be=await ne.json();alert(Be.message)}}catch(ne){console.error("Error checking duplicate service:",ne),alert("could not check for duplicate service")}finally{Te(!1)}})()},[m,F,M]);const Re=q=>{re(q),P("page3")};T.useEffect(()=>{(async()=>{try{const ne=await fetch(`${m}/services/check_for_duplicate_service?serviceType=${encodeURIComponent(x.serviceType)}&nonproprietaryName=${encodeURIComponent(x.nonproprietaryName)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(ne.ok){const Be=await ne.json();te(Be.duplicateService)}else{const Be=await ne.json();alert(Be.message)}}catch(ne){console.error("Error checking duplicate service:",ne),alert("could not check for duplicate service")}finally{Te(!1)}})()},[x.nonproprietaryName]);const Ie=async()=>{if(ue){alert("Duplicated service!");return}if(!x.serviceType||!x.itemClass||!x.itemSubclass||!x.legalClass||!x.nonproprietaryName||!x.description){alert("All fields are required!");return}if(confirm("Confirm submission")){const ne={};Object.entries(x).forEach(([Be,ge])=>{ne[Be]=ge});try{const Be=await fetch(`${m}/services/create_new_reference_inventory_item`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(ne)});if(Be.ok){const ge=await Be.json();alert(ge.message)}else{const ge=await Be.json();alert(ge.message)}}catch(Be){console.error("Submission error:",Be),alert("An error occurred creating new service")}}else alert("New service creation cancelled!")},R={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},productContainer:{width:"90%",height:"60vh",textAlign:"left",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},textarea:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",resize:"vertical",minHeight:"80px",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",margin:"5px",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},thead:{backgroundColor:"grey",position:"sticky",top:"0px",zIndex:2e3},serviceTypeSelector:{backgroundColor:"orange",color:"white",right:"20px",width:"25%",height:"25px",top:"120px"},searchContainer:{backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"25%",height:"25px",top:"120px"}},z=q=>({backgroundColor:q%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return f("div",{children:[S==="page1"&&f("div",{children:[l("h2",{children:"PRESCRIBENG SERVICES SECTION"}),f("div",{style:R.TCBody,children:[l("h3",{children:"WARNING"}),l("p",{children:"This page is strictly for personnels of the medical department and includes the following roles: doctor, nurse, pharmacies, radiographers, laboratory scientist"}),l("p",{children:"If you do not belong to the medical department and one of the mentioned roles, exit the page immediately and report to the technical team."})]}),l("span",{style:R.TCButton,onClick:()=>P("page2"),children:"View Existing Services "}),l("span",{style:R.TCButton,onClick:()=>P("newServiceForm1"),children:"Create New Services"}),l("span",{style:{...R.TCButton,display:y<3?"inline-block":"none"},onClick:()=>P("newServiceForm2"),children:"Create New Scheme"})]}),S==="page2"&&l("div",{children:l("div",{style:R.container,children:f("div",{style:R.tableContainer,children:[f("div",{style:R.searchContainer,children:[f("select",{style:R.serviceTypeSelector,value:F,onChange:q=>D(q.target.value),children:[l("option",{value:"",children:"Select Service Type"}),k.serviceTypes.map(q=>l("option",{children:q},q))]}),l("input",{style:R.searchField,value:M,onChange:q=>O(q.target.value),placeholder:"Search here for services"}),l("span",{onClick:()=>P("page1"),style:{position:"relative",top:"0px",right:"0px"},children:"Close"})]}),f("table",{style:{width:"100%"},children:[l("thead",{style:R.thead,children:f("tr",{children:[l("th",{children:"S/N"}),l("th",{children:"Service Type"}),l("th",{children:"Class"}),l("th",{children:"Subclass"}),l("th",{children:"Legal Class"}),l("th",{children:"Generic Name"}),l("th",{children:"Description"}),l("th",{children:"Scheme"}),l("th",{children:"Status"})]})}),l("tbody",{children:B.map((q,ne)=>f("tr",{style:z(ne),onClick:()=>Re(q),children:[l("td",{children:ne+1}),l("td",{children:q.serviceType}),l("td",{children:q.itemClass}),l("td",{children:q.itemSubclass}),l("td",{children:q.legalClass}),l("td",{children:q.nonproprietaryName}),l("td",{children:q.description}),l("td",{children:q.scheme}),l("td",{children:q.authorizationStatus})]},q))})]})]})})}),S==="page3"&&f("div",{children:[f("div",{children:[l("h3",{children:"Product Page"}),f("div",{style:R.productContainer,children:[f("p",{children:[l("strong",{children:"Service Item: "}),V.nonproprietaryName]}),f("p",{children:[l("strong",{children:"Type: "}),V.serviceType]}),f("p",{children:[l("strong",{children:"Class: "}),V.itemClass]}),f("p",{children:[l("strong",{children:"Subclass: "}),V.itemSubclass]}),l("br",{}),f("p",{children:[l("strong",{children:"Item Description: "}),V.description]}),l("br",{}),f("p",{children:[l("strong",{children:"Status: "}),V.authorizationStatus]}),f("p",{children:[l("strong",{children:"Added On: "}),V.addedOn]}),l("br",{}),f("p",{children:[l("strong",{children:"Added By: "}),V.addedBy]}),l("br",{}),f("p",{style:{display:V.authorizationStation==="authorized"?"inline-block":"none"},children:[l("strong",{children:"Authorized By: "}),V.authorizedBy]}),l("br",{}),l("button",{style:{display:V.authorizationStation==="authorized"?"none":"inline-block"},children:"Authorize"}),l("button",{children:"Reject"}),l("button",{children:"Withdraw"})]})]}),l("span",{style:R.TCButton,onClick:()=>P("page2"),children:"Back"})]}),S==="newServiceForm1"&&f("div",{children:[l("h3",{children:"New Service Form "}),f("div",{style:R.container,children:[l("label",{style:R.label,children:l("p",{style:{display:ue?"inline-block":"none",color:"red"},children:l("strong",{children:"Duplicate Service!!! "})})}),f("label",{style:R.label,children:["Service Type:",f("select",{type:"text",value:x.serviceType,onChange:q=>w({...x,serviceType:q.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Service Type"}),k.serviceTypes.map(q=>l("option",{children:q},q))]})]}),f("label",{style:R.label,children:["Service Class:",f("select",{type:"text",value:x.itemClass,onChange:q=>w({...x,itemClass:q.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Service Class"}),k.serviceClasses.map(q=>l("option",{children:q},q))]})]}),f("label",{style:R.label,children:["Subclass:",f("select",{type:"text",value:x.itemSubclass,onChange:q=>w({...x,itemSubclass:q.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Service Subclass"}),k.serviceSubclasses.map(q=>l("option",{children:q},q))]})]}),f("label",{style:R.label,children:["Legal Classification of Service:",f("select",{type:"text",value:x.legalClass,onChange:q=>w({...x,legalClass:q.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Legal Class"}),l("option",{value:"GSL",children:"General Sales List"}),l("option",{value:"PO",children:"Pharmacy Only"}),l("option",{value:"POM",children:"Prescription Only Medication"}),l("option",{value:"CD",children:"Controlled Drug"}),l("option",{value:"not applicable",children:"Not Applicable"})]})]}),f("label",{style:R.label,children:["Nonproprietary/Generic Name:",l("input",{type:"text",value:x.nonproprietaryName,onChange:q=>w({...x,nonproprietaryName:q.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Description:",l("textarea",{type:"text",value:x.description,onChange:q=>w({...x,description:q.target.value}),style:R.textarea,placeholder:"Detailed description of service item, including potential hazards/adverse effects/contraindications"})]}),f("label",{style:R.label,children:["Sample Container (Where applicable):",l("input",{type:"text",value:x.sampleContainer,onChange:q=>w({...x,sampleContainer:q.target.value}),style:R.input,placeholder:"'Not applicable' if not required"})]}),l("span",{style:R.TCButton,onClick:()=>P("page1"),children:"Close"}),l("span",{style:R.TCButton,onClick:Ie,children:"Create Service"})]})]}),S==="newServiceForm2"&&f("div",{children:[l("h3",{children:"New Scheme Form "}),f("div",{style:R.container,children:[l("label",{style:R.label,children:l("p",{style:{display:ue?"inline-block":"none",color:"red"},children:l("strong",{children:"Duplicate Service!!! "})})}),f("label",{style:R.label,children:["Scheme Sponsor's 'Dispensary ID':",l("input",{type:"text",value:x.schemeSponsorID,onChange:q=>w({...x,schemeSponsorID:q.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Service Type:",f("select",{type:"text",value:x.serviceType,onChange:q=>w({...x,serviceType:q.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Service Type"}),k.serviceTypes.map(q=>l("option",{children:q},q))]})]}),f("label",{style:R.label,children:["Service Class:",f("select",{type:"text",value:x.itemClass,onChange:q=>w({...x,itemClass:q.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Service Class"}),k.serviceClasses.map(q=>l("option",{children:q},q))]})]}),f("label",{style:R.label,children:["Subclass:",f("select",{type:"text",value:x.itemSubclass,onChange:q=>w({...x,itemSubclass:q.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Service Subclass"}),k.serviceSubclasses.map(q=>l("option",{children:q},q))]})]}),f("label",{style:R.label,children:["Legal Classification of Service:",f("select",{type:"text",value:x.legalClass,onChange:q=>w({...x,legalClass:q.target.value}),style:R.input,children:[l("option",{value:"",children:"Select Legal Class"}),l("option",{value:"GSL",children:"General Sales List"}),l("option",{value:"PO",children:"Pharmacy Only"}),l("option",{value:"POM",children:"Prescription Only Medication"}),l("option",{value:"CD",children:"Controlled Drug"}),l("option",{value:"not applicable",children:"Not Applicable"})]})]}),f("label",{style:R.label,children:["Nonproprietary/Generic Name:",l("input",{type:"text",value:x.nonproprietaryName,onChange:q=>w({...x,nonproprietaryName:q.target.value}),style:R.input})]}),f("label",{style:R.label,children:["Description:",l("textarea",{type:"text",value:x.description,onChange:q=>w({...x,description:q.target.value}),style:R.textarea,placeholder:"Detailed description of service item, including potential hazards/adverse effects/contraindications"})]}),f("label",{style:R.label,children:["Sample Container (Where applicable):",l("input",{type:"text",value:x.sampleContainer,onChange:q=>w({...x,sampleContainer:q.target.value}),style:R.input,placeholder:"'Not applicable' if not required"})]}),l("span",{style:R.TCButton,onClick:()=>P("page1"),children:"Close"}),l("span",{style:R.TCButton,onClick:Ie,children:"Create Scheme"})]})]})]})}function lm(){const{state:p,logout:m,updatePatient:h}=T.useContext(kn),{token:y,spineUrl:_,category:k,accessLevel:S,allStates:P,userID:x,organisation:w}=p,[B,Z]=T.useState("Home"),[V,re]=T.useState([]),[M,O]=T.useState({}),[F,D]=T.useState({}),[ue,te]=T.useState(""),[me,Te]=T.useState([]),[Re,Ie]=T.useState(""),[R,z]=T.useState(""),[q,ne]=T.useState(""),[Be,ge]=T.useState(!1),[oe,je]=T.useState(!1),[ie,Ce]=T.useState("table"),[W,ye]=T.useState({}),[J,E]=T.useState([]);Sn(),T.useEffect(()=>{(async()=>{try{const ee=await fetch(`${_}/staffing/fetch_administrators?state=${encodeURIComponent(ue)}&q=${encodeURIComponent(q)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(_),ee.ok){const $=await ee.json();re($.administrators)}else{const $=await ee.json();alert($.message),console.error("Failed to fetch keypersons:",ee.statusText)}}catch(ee){console.error("Error fetching keypersons:",ee)}})()},[_,y,ue,q,Be]),T.useEffect(()=>{(async()=>{try{const ee=await fetch(`${_}/staffing/fetch_configurations?category=${encodeURIComponent(F.category)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(_),ee.ok){const $=await ee.json();Te($.configurations)}else{const $=await ee.json();alert($.message),console.error("Failed to fetch localities:",ee.statusText)}}catch(ee){console.error("Error fetching localities:",ee)}})()},[_,y,F.category,M.category]);const X=async pe=>{if(pe.preventDefault(),!confirm("You are about to add a new administrator to your organisation. Confirm action.")){alert("Action cancelled!");return}try{const $=new FormData(pe.target),A={};if($.forEach((Q,Oe)=>{A[Oe]=Q}),!A.configID){alert("'Job Role' is missing");return}const Y=await fetch(`${_}/staffing/create_new_administrator`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(A)});if(Y.ok){const Q=await Y.json();alert(Q.message),ge(Oe=>!Oe),Z("Home")}else{const Q=await Y.json();alert(Q.message),console.error("Failed to fetch localities:",Y.statusText)}}catch($){console.error("Error fetching localities:",$)}},be=async()=>{try{if(!confirm("You are about to modify a administrator. Do you want to procede?")){alert("Action cancelled!");return}const ee=await fetch(`${_}/staffing/modify_administrator`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(M)});if(ee.ok){const $=await ee.json();alert($.message),ge(A=>!A)}else{const $=await ee.json();alert($.message),console.error("Failed to fetch localities:",ee.statusText)}}catch(pe){console.error("Error fetching localities:",pe)}},ke=T.useRef(null),Pe=()=>{const pe=ke.current.getScreenshot();O(ee=>({...ee,newPhoto:pe}))},_e=async()=>{if(!confirm("Confirm Image Upload")){alert("Image Upload cancelled!"),O({...M,newPhoto:null});return}try{const ee=await fetch(`${_}/staffing/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:M.staffID,newPhoto:M.newPhoto})});if(ee.ok){const $=await ee.json();$.newPhotoUrl&&O({...M,photoUrl:$.newPhotoUrl}),Z("Editing Pad"),O({...M,newPhoto:null}),E([])}else{const $=await ee.json();alert($.message)}}catch(ee){console.error("Submission error:",ee),alert("An error occurred uploading clinician photo")}},de=pe=>{const{name:ee,type:$,files:A}=pe.target;if($==="file"){const Y=Array.from(A);E(Q=>({...Q,[ee]:[...Q[ee]||[],...Y]}))}},He=pe=>{E(ee=>{const $=[...ee.uploads];return $.splice(pe,1),{uploads:$}})},he=pe=>new Promise((ee,$)=>{const A=new FileReader;A.onloadend=()=>ee(A.result.split(",")[1]),A.onerror=$,A.readAsDataURL(pe)}),we=async()=>{if(confirm("Confirm submission")){const ee=await Promise.all(J.uploads.map(async $=>{const A=await he($);return{name:$.name,content:A}}));try{const $=await fetch(`${_}/staffing/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:M.staffID,uploads:ee})});if($.ok){const A=await $.json();O({...M,documents:A.documents}),Ce("table")}else{const A=await $.json();alert(A.message)}}catch($){console.error("File upload error:",$),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},Ue=async()=>{if(!W.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ee=await fetch(`${_}/staffing/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:M.staffID,fileKey:W.fileKey,validity:W.validity,verification:"verified"})});if(ee.ok){const $=await ee.json();O({...M,documents:$.documents}),Ce("table"),je(!1)}else{const $=await ee.json();alert($.message)}}catch(ee){console.error("File verification error:",ee),alert("An error occurred uploading files")}},tt=async()=>{if(!W.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ee=await fetch(`${_}/staffing/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:M.staffID,fileKey:W.fileKey,validity:W.validity,verification:"unverified"})});if(ee.ok){const $=await ee.json();O({...M,documents:$.documents}),Ce("table"),je(!1)}else{const $=await ee.json();alert($.message)}}catch(ee){console.error("File verification error:",ee),alert("An error occurred uploading files")}},ve={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},searchFieldContainer:{display:"flex",flexDirection:"row",backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"35%",height:"25px",top:"120px"},stateSelector2:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"65vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:oe?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},Ht=pe=>({backgroundColor:pe%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return f("div",{style:ve.page,children:[B==="Home"&&f("div",{style:ve.tableContainer,children:[f("div",{style:ve.searchFieldContainer,children:[f("select",{style:ve.stateSelector2,value:ue,onChange:pe=>te(pe.target.value),children:[l("option",{value:"",children:"Select Branch"}),P.map(pe=>l("option",{value:pe,children:pe},pe))]}),l("input",{style:ve.searchField,value:q,onChange:pe=>ne(pe.target.value),placeholder:"Search here for client"})]}),f("table",{style:{width:"100%"},children:[l("thead",{style:ve.thead,children:f("tr",{children:[l("th",{}),l("th",{children:"State"}),l("th",{children:"Administrator"}),l("th",{children:"Department"}),l("th",{children:"Role"}),l("th",{children:"Email"}),l("th",{children:"Access Level"}),l("th",{children:"Action"})]})}),l("tbody",{children:V.map((pe,ee)=>f("tr",{style:Ht(ee),children:[l("td",{children:ee+1}),l("td",{children:pe.state}),l("td",{children:pe.user}),l("td",{children:pe.department}),l("td",{children:pe.role}),l("td",{children:pe.email}),l("td",{children:pe.accessLevel}),l("td",{children:l("button",{onClick:()=>{O(pe),Z("Editing Pad")},children:"Open Profile"})})]},pe))})]}),l("button",{style:ve.button,onClick:()=>Z("New Administrator"),children:"Add New Administrator"})]}),B==="Editing Pad"&&l("div",{style:{width:"100%"},children:f("div",{style:ve.profileContainer,children:[f("div",{style:ve.section,children:[l("div",{style:ve.photoContainer,children:M.photoUrl?l("img",{src:M.photoUrl,style:ve.image,alt:"Administrator's photo"}):l("div",{style:ve.placeholderText,children:"Photo Not Found"})}),l("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>Z("Photo Upload"),children:"Change Photo"}),f("p",{children:[l("strong",{children:"Administrator:"})," ",M.user,"(",M.category,")"]}),f("p",{children:[l("strong",{children:"Staff ID:"})," ",M.staffID]}),f("p",{children:[l("strong",{children:"Added On:"})," ",M.createdOn]}),f("p",{children:[l("strong",{children:"Department:"})," ",M.department.toUpperCase()]}),f("p",{children:[l("strong",{children:"Job Role:"})," ",M.role.toUpperCase()]}),f("p",{children:[l("strong",{children:"Access Level:"})," ",M.accessLevel]}),f("p",{children:[l("strong",{children:"Email:"})," ",M.email]}),f("p",{children:[l("strong",{children:"Mobile:"})," ",M.mobile]}),l("button",{style:ve.button,onClick:()=>{Z("Documents")},children:"Documents"}),l("button",{style:ve.button,onClick:()=>{Z("Home"),O({})},children:"Close"})]}),f("div",{style:ve.section,children:[f("div",{style:{marginBottom:"20px"},children:["State:",f("select",{style:ve.input,name:"state",value:M.state,onChange:pe=>O({...M,state:pe.target.value}),children:[l("option",{value:"",children:"Select State"}),P.map(pe=>l("option",{value:pe,children:pe},pe))]})]}),f("div",{style:{marginBottom:"20px"},children:["Category:",f("select",{style:ve.input,value:M.category||"",onChange:pe=>{O({...M,category:pe.target.value}),D({...F,category:pe.target.value})},children:[l("option",{value:"",children:"Select Category"}),l("option",{value:"executive",children:"Executive"}),l("option",{value:"employee",children:"Employee"}),l("option",{value:"agent",children:"Agent"})]})]}),f("div",{style:{marginBottom:"20px"},children:["Role:",f("select",{style:ve.input,name:"configID",value:M.configID||"",onChange:pe=>O({...M,configID:pe.target.value}),children:[l("option",{value:"",children:"Select Role"}),me.map(pe=>l("option",{value:pe.configID,children:pe.role},pe.configID))]})]}),f("div",{style:{marginBottom:"20px"},children:["Status:",f("select",{style:ve.input,value:M.staffStatus||"",onChange:pe=>O({...M,staffStatus:pe.target.value}),children:[l("option",{value:"active",children:"Active"}),l("option",{value:"inactive",children:"Inactivated"}),l("option",{value:"suspended",children:"Suspended"}),l("option",{value:"resigned",children:"Resigned"}),l("option",{value:"dismissed",children:"Dismissed"})]})]}),l("button",{style:ve.button,onClick:be,children:"Save Changes"})]})]})}),B==="New Administrator"&&l("div",{style:{width:"100%"},children:l("div",{style:ve.profileContainer,children:f("form",{style:{width:"100%",display:"flex",flexDirection:"row"},onSubmit:X,children:[f("div",{style:ve.section,children:[f("div",{style:{marginBottom:"20px"},children:["Title:",f("select",{type:"text",name:"title",style:ve.input,required:!0,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Mr.",children:"Mr."}),l("option",{value:"Mrs.",children:"Mrs."}),l("option",{value:"Ms.",children:"Ms."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("div",{style:{marginBottom:"20px"},children:["Gender:",f("select",{type:"text",name:"gender",style:ve.input,required:!0,children:[l("option",{value:"",children:"Select Gender"}),l("option",{value:"male",children:"Male"}),l("option",{value:"female",children:"Female"})]})]}),f("div",{style:{marginBottom:"20px"},children:["Last Name:",l("input",{type:"text",name:"lastName",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["First Name:",l("input",{type:"text",name:"firstName",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Date of Birth:",l("input",{type:"date",name:"dob",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Emergency Contact:",l("input",{type:"text",name:"emergencyContact",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Work Email:",l("input",{type:"email",name:"email",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Mobile Number:",l("input",{type:"tel",name:"mobile",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Employer:",l("input",{type:"text",name:"employer",style:ve.input,placeholder:"Leave blank for PrescribeNg employees"})]})]}),f("div",{style:ve.section,children:[f("div",{style:{marginBottom:"20px"},children:["State:",f("select",{style:ve.input,name:"state",value:F.state,onChange:pe=>D({...F,state:pe.target.value}),children:[l("option",{value:"",children:"Select State"}),P.map(pe=>l("option",{value:pe,children:pe},pe))]})]}),f("div",{style:{marginBottom:"20px"},children:["Category:",f("select",{style:ve.input,value:F.category||"",onChange:pe=>D({...F,category:pe.target.value}),children:[l("option",{value:"",children:"Select Category"}),l("option",{value:"executive",children:"Executive"}),l("option",{value:"employee",children:"Employee"}),l("option",{value:"agent",children:"Agent"})]})]}),f("div",{style:{marginBottom:"20px"},children:["Role:",f("select",{style:ve.input,name:"configID",value:F.configID||"",onChange:pe=>D({...F,configID:pe.target.value}),children:[l("option",{value:"",children:"Select Role"}),me.map(pe=>l("option",{value:pe.configID,children:pe.role},pe.configID))]})]}),l("button",{style:ve.button,type:"submit",children:"Add New Administrator"}),l("button",{onClick:()=>{Z("Home"),D({})},children:"Cancel"})]})]})})}),B==="Photo Upload"&&l("div",{style:{width:"100%"},children:f("div",{style:ve.profileContainer,children:[f("div",{style:{...ve.section,width:"50%"},children:[l("h2",{children:"Web Cam"}),l("div",{style:ve.photoContainer2,children:l(La,{audio:!1,ref:ke,screenshotFormat:"image/png",width:400})}),l("button",{style:ve.button,onClick:Pe,children:"Capture"}),l("button",{style:ve.button,onClick:()=>{Z("Editing Pad"),O({...M,newPhoto:null})},children:"Back"})]}),f("div",{style:{...ve.section,width:"50%",display:M.newPhoto?"inline-block":"none"},children:[f("h2",{children:["Preview (",M.clinician,")"]}),l("div",{style:ve.photoContainer2,children:M.newPhoto?l("img",{src:M.newPhoto,alt:"Captured",width:400}):l("div",{style:ve.placeholderText,children:"No image captured"})}),l("button",{style:ve.button,onClick:_e,children:"Upload"})]})]})}),B==="Documents"&&l("div",{style:{width:"100%"},children:f("div",{style:ve.profileContainer,children:[ie==="table"&&f("div",{style:{...ve.section,width:"100%"},children:[l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:ve.table,children:[l("thead",{style:ve.thead,children:f("tr",{children:[l("th",{children:"Document"}),l("th",{children:"Validity"}),l("th",{children:"Verification"}),l("th",{children:"Action"})]})}),l("tbody",{children:M.documents&&M.documents.length>0?M.documents.map((pe,ee)=>f("tr",{children:[l("td",{children:pe.fileName}),l("td",{children:pe.validity||"not set"}),l("td",{children:pe.verification||"unverified"}),l("td",{children:l("button",{onClick:()=>{Ce("iframe"),ye(pe)},children:"View"})})]},ee)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),l("button",{onClick:()=>{Z("Editing Pad")},children:"Close"}),l("button",{onClick:()=>{Ce("upload")},children:"Upload Document"})]}),ie==="iframe"&&l("div",{style:{...ve.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:oe?"none":"auto"},children:f("div",{children:[l("span",{style:ve.topCloseButton,onClick:()=>{Ce("table"),W({}),je(!1)},children:"Close"}),l("iframe",{style:{height:"60vh",width:"100%"},src:W.fileUrl}),f("div",{style:ve.docVerificationOverlay,children:[f("div",{children:[l("h3",{children:"When does this document expire?"}),l("input",{style:ve.input,type:"date",value:W.validity||"",onChange:pe=>ye({...W,validity:pe.target.value})}),l("button",{style:{...ve.button,display:W.verification==="unverified"?"inline-block":"none"},onClick:Ue,children:"Verify"}),l("button",{style:{...ve.button,display:W.verification==="verified"?"inline-block":"none"},onClick:tt,children:"De-Verify"})]}),l("span",{style:ve.topCloseButton,onClick:()=>je(!1),children:"Close"})]}),l("button",{style:{...ve.button,display:W.verification==="verified"?"none":"inline-block"},onClick:()=>je(!0),children:"Verify"}),l("button",{style:{...ve.button,display:W.verification==="verified"&&S<=3?"inline-block":"none"},onClick:()=>je(!0),children:"De-Verify"})]})}),ie==="upload"&&f("div",{style:{...ve.section,width:"100%"},children:[f("div",{style:ve.uploadfield,children:[f("div",{style:ve.uploadInput,children:[l("label",{children:"Upload File"}),l("input",{name:"uploads",type:"file",onChange:de,multiple:!0})]}),l("div",{style:ve.uploadedFiles,children:J.uploads&&J.uploads.length>0?J.uploads.map((pe,ee)=>f("div",{style:ve.uploadItem,children:[f("span",{children:[ee+1,". ",pe.name]}),l("span",{style:ve.removeFileButton,onClick:()=>He(ee),children:"X"})]},ee)):l("p",{children:"No files uploaded yet."})})]}),l("button",{onClick:()=>{Ce("table"),E([])},children:"Back"}),l("button",{style:{display:J.uploads?"inline-block":"none"},onClick:we,children:"Upload"})]})]})})]})}const sm=()=>(T.useEffect(()=>((()=>{if(!document.getElementById("ze-snippet")){const m=document.createElement("script");m.id="ze-snippet",m.src="https://static.zdassets.com/ekr/snippet.js?key=YOUR_UNIQUE_KEY",m.async=!0,document.body.appendChild(m),m.onload=()=>{window.zE("webWidget","updateSettings",{webWidget:{color:{theme:"#1a73e8"},launcher:{chatLabel:{"*":"Chat with us"}},position:{horizontal:"right",vertical:"bottom"}}})}}})(),()=>{const m=document.getElementById("ze-snippet");m&&m.remove(),delete window.zESettings,window.zE&&window.zE("webWidget","destroy")}),[]),null);function um(){return l(fp,{children:l(op,{children:l("div",{className:"App",children:f(Qf,{children:[l(Wt,{path:"/",element:l(pp,{})}),l(Wt,{path:"/totp-page",element:l(mp,{})}),f(Wt,{path:"/home",element:l(bp,{}),children:[l(Wt,{path:"",element:l(Tp,{})}),l(Wt,{path:"ambulance-fleet",element:l(em,{})}),l(Wt,{path:"clinician-signup",element:l(rm,{})}),l(Wt,{path:"manage-organisations",element:l(Np,{})}),l(Wt,{path:"manage-clinicians",element:l(om,{})}),l(Wt,{path:"organisation-signup",element:l(tm,{})}),l(Wt,{path:"patient-signup",element:l(nm,{})}),l(Wt,{path:"manage-patients",element:l(im,{})}),l(Wt,{path:"prescribeng-services",element:l(am,{})}),l(Wt,{path:"manage-administrators",element:l(lm,{})}),l(Wt,{path:"zendesk-chat",element:l(sm,{})})]})]})})})})}rf.createRoot(document.getElementById("root")).render(l(T.StrictMode,{children:l(um,{})}));
